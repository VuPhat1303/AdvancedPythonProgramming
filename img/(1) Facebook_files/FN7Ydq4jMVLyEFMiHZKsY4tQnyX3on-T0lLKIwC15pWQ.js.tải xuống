if (self.CavalryLogger) { CavalryLogger.start_js(["D6pCTCD"]); }

__d("CometComposerEditVideoButtonWithNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5859795310728582"}),null);
__d("CometComposerEditVideoButtonWithNuxQuery.graphql",["CometComposerEditVideoButtonWithNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9405}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerEditVideoButtonWithNuxQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometComposerEditVideoButtonWithNux_nux"}],storageKey:"nux(nux_id:9405)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometComposerEditVideoButtonWithNuxQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null}],storageKey:"nux(nux_id:9405)"}]},params:{id:b("CometComposerEditVideoButtonWithNuxQuery_facebookRelayOperation"),metadata:{},name:"CometComposerEditVideoButtonWithNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometComposerEditVideoButtonWithNux_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerEditVideoButtonWithNux_nux",selections:[{args:null,kind:"FragmentSpread",name:"useMaybeNUX_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("EntPhotoCollageItemContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3825262914227511"}),null);
__d("EntPhotoCollageItemContainerQuery.graphql",["EntPhotoCollageItemContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"EntPhotoCollageItemContainerQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"EntPhotoCollageItem_media"}],type:"Photo",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"EntPhotoCollageItemContainerQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("EntPhotoCollageItemContainerQuery_facebookRelayOperation"),metadata:{},name:"EntPhotoCollageItemContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EntPhotoCollageItem_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"EntPhotoCollageItem_media",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometComposerEditMediaAttachmentItemButton.react",["fbt","ix","CometMediaEditorPageResource","CometVideoToolsLoggingContext","MediaEditorViewStateContext","TetraButton.react","emptyFunction","fbicon","gkx","lazyLoadComponent","react","useCometComposerPushPage","useComposerPluginIneligibility"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext,l=c("lazyLoadComponent")(c("CometMediaEditorPageResource"));function a(a,b){var e=a.buttonLabel;e=e===void 0?h._(/*FBT_CALL*/"Ch\u1ec9nh s\u1eeda"/*FBT_CALL*/):e;var f=a.index,g=a.isOnVideoLiteComposer,m=a.onClickLog,n=m===void 0?c("emptyFunction"):m,o=a.isVideoBeingEdited,p=c("useCometComposerPushPage")();m=c("useComposerPluginIneligibility")().has("MEDIA_EDIT");var q=k(c("CometVideoToolsLoggingContext"));a=(a=k(c("MediaEditorViewStateContext")))==null?void 0:a.isEditingPreExistingStory;a===!0&&(q=babelHelpers["extends"]({},q,{dialogMode:"video_edit"}));return m&&!c("gkx")("1915661")?null:j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("477825"),16),label:e,onPress:function(){n(),p(h._(/*FBT_CALL*/"Chi ti\u1ebft \u1ea3nh"/*FBT_CALL*/),function(a){a=a.onReturn;return j.jsx(c("CometVideoToolsLoggingContext").Provider,{value:q,children:j.jsx(l,{index:f,isDialog:!0,isOnVideoLiteComposer:g,isVideoBeingEdited:o,onBack:a})})},{hasCustomHeader:!0})},ref:b,testid:void 0,type:"overlay"})}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("CometComposerEditVideoButtonWithNux.react",["fbt","CometComposerEditMediaAttachmentItemButton.react","CometComposerEditVideoButtonWithNuxQuery.graphql","CometComposerEditVideoButtonWithNux_nux.graphql","CometRelay","CometVideoEditorUtils.react","react","setTimeout","useCometCallout","useCometVideoComposerLog","useComposerViewStateDispatcher","useMaybeNUX","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useEffect,m=e.useRef,n=e.useState,o={nux:{maxWidth:"nqmqzb3c"}},p=i!==void 0?i:i=b("CometComposerEditVideoButtonWithNuxQuery.graphql"),q=j!==void 0?j:j=b("CometComposerEditVideoButtonWithNux_nux.graphql");function r(a){var b=h._(/*FBT_CALL*/"Hi\u1ec7n t\u1ea1i, h\u1ec7 th\u1ed1ng \u0111ang t\u1ef1 \u0111\u1ed9ng th\u00eam ph\u1ee5 \u0111\u1ec1 cho video c\u1ee7a b\u1ea1n. H\u00e3y xem th\u00eam chi ti\u1ebft v\u00e0 t\u00ecm hi\u1ec3u c\u00e1ch thay \u0111\u1ed5i ph\u1ea7n c\u00e0i \u0111\u1eb7t."/*FBT_CALL*/);a=d("CometRelay").useFragment(q,a);a=c("useMaybeNUX")(a);var e=a[0],f=a[1];a=n(!1);var g=a[0],i=a[1];a={align:"start",arrowStyle:"inset",hasCloseButton:!0,label:b,onHide:function(){i(!1),f()},position:"below",type:"accent",xstyle:o.nux};b=c("useCometCallout")(a,g);e===!0&&c("setTimeout")(function(){i(e)},100);return b}function a(a){var b=a.firstVideoMetadata;a=a.isVideoBeingEdited;var e=m(!1),f=c("useCometVideoComposerLog")(),g=f.logEvent,i=c("useComposerViewStateDispatcher")();l(function(){var a=function(){i({currentIndex:0,type:"SET_VIDEO_ATTACHMENT_METADATA",videoAttachmentMetadata:babelHelpers["extends"]({},b,{hasBootloaded:!0})})};!e.current&&(b==null?void 0:b.hasBootloaded)!==!0&&(a(),g("dialog_bootloaded"),e.current=!0)},[i,g,b,b==null?void 0:b.hasBootloaded]);f=d("CometRelay").useLazyLoadQuery(p,{});f=f.nux!==null?r(f.nux):null;var j=h._(/*FBT_CALL*/"T\u00f9y ch\u1ecdn cho video"/*FBT_CALL*/);return k.jsx(c("CometComposerEditMediaAttachmentItemButton.react"),{buttonLabel:j,index:0,isOnVideoLiteComposer:!0,isVideoBeingEdited:a,onClickLog:function(){g("open_publish_option_edit_flow")},ref:f})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{firstVideoMetadata:d("CometVideoEditorUtils.react").getVideoAttachmentMetaDataFromForFirstVideoComposerState(a)}});g["default"]=e}),98);
__d("CometComposerRemoveMediaAttachmentItemButton.react",["fbt","ix","TetraCircleButton.react","cometIsMimeTypeForMedia","fbicon","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.attachment,e=c("useComposerViewStateDispatcher")();a=k(function(){e({attachment:b,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[b,e]);return j.jsx("div",{className:"a7x4jqbc gwewmpg2 pmk7jnqg jaqpu5ht",children:j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478238"),20),label:d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(b==null?void 0:b.fileType)?h._(/*FBT_CALL*/"G\u1ee1 \u1ea3nh"/*FBT_CALL*/):h._(/*FBT_CALL*/"G\u1ee1 video"/*FBT_CALL*/),onPress:a,size:36,type:"overlay"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerMediaDeepDiveUploadFailedItem.react",["CometColumn.react","CometColumnItem.react","CometNullState.react","NullStateMedia","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.errorMessage,d=a.fileName;a=a.small;a=a===void 0?!1:a;return h.jsx("div",{className:"datstx6m j83agx80 gigke590 l36b2tei mvoc3dfa zonuqk10 ljqcmsvz bp9cbjyn",children:h.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometNullState.react"),{body:(b=b)!=null?b:"",bodyColor:"negative",headline:d,icon:a?null:c("NullStateMedia"),small:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerPhotoLayoutItem.react",["CometBackgroundImage.react","CometComposerFocusImage.react","CometPhotoLayoutMediaOverlay.react","ComposerCometPhotoLayoutMediaAttachmentContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.alt,e=a.height,f=a.numPhotosNotShown,g=a.onError,j=a.shouldShowOverlay,k=a.src,l=a.viewportAspectRatio;a=a.width;var m=i(c("ComposerCometPhotoLayoutMediaAttachmentContext")),n=m.focusX;m=m.focusY;if(e==null||a==null)return h.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:k});else return h.jsxs(h.Fragment,{children:[h.jsx(d("CometComposerFocusImage.react").CometComposerFocusImage,{alt:b,focusX:n,focusY:m,imageHeight:e,imageWidth:a,onError:g,src:k,viewportAspectRatio:l}),j===!0&&f!=null?h.jsx(c("CometPhotoLayoutMediaOverlay.react"),{numItemsNotShown:f}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntPhotoCollageItem.react",["CometBackgroundImage.react","CometComposerPhotoLayoutItem.react","CometRelay","ComposerCometPhotoLayoutMediaAttachmentContext","ComposerCometSelectedPhotoLayoutContext","EntPhotoCollageItem_media.graphql","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useEffect;function a(a){var e;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var f=c("useComposerViewStateDispatcher")(),g=d("CometRelay").useFragment(h!==void 0?h:h=b("EntPhotoCollageItem_media.graphql"),a.media);k(function(){var b,c;b=g==null?void 0:(b=g.image)==null?void 0:b.height;c=g==null?void 0:(c=g.image)==null?void 0:c.width;b!=null&&c!=null&&f({entID:a.id,height:b,type:"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS",width:c})},[g,f,a.id]);e=g==null?void 0:(e=g.image)==null?void 0:e.uri;var l=j(c("ComposerCometSelectedPhotoLayoutContext")),m=j(c("ComposerCometPhotoLayoutMediaAttachmentContext")),n=m.numPhotosNotShown,o=m.setFocusX,p=m.setFocusY,q=m.shouldShowOverlay;m=m.viewportAspectRatio;var r=g==null?void 0:g.image,s=r==null?void 0:r.height;r=r==null?void 0:r.width;var t=g==null?void 0:g.focus,u=t==null?void 0:t.x,v=t==null?void 0:t.y;k(function(){o&&p&&u!=null&&v!=null&&(o(u),p(v))},[o,p,u,v]);if(e==null)return null;else if(!!l.layout&&l.layout!=="classic")return i.jsx(c("CometComposerPhotoLayoutItem.react"),{height:s,numPhotosNotShown:n,shouldShowOverlay:q,src:e,viewportAspectRatio:m,width:r});else return i.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntPhotoCollageItemContainer.react",["CometRelay","EntPhotoCollageItem.react","EntPhotoCollageItemContainerQuery.graphql","WebPixelRatio","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("EntPhotoCollageItemContainerQuery.graphql"),{id:a.id,scale:d("WebPixelRatio").get()});return i.jsx(c("EntPhotoCollageItem.react"),{id:a.id,media:e==null?void 0:e.node})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDNPreviewPhotoCollageItem.react",["CollageItemFallback.react","CometPlaceholder.react","EntPhotoCollageItemContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entID,d=a.filename,e=a.fileType;a=a.percentComplete;e=h.jsx(c("CollageItemFallback.react"),{fileType:e,filename:d,percentComplete:a});if(b!=null)return h.jsx(c("CometPlaceholder.react"),{fallback:e,children:h.jsx(c("EntPhotoCollageItemContainer.react"),{id:b})});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OptimisticallyUploadedPhotoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CometBackgroundImage.react","JSResourceForInteraction","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("OptimisticallyUploadedPhotoCollageItem.react"));function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.sphericalEncoding?h.jsx(i,{}):null;return b.fileObjectURL!=null&&b.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBackgroundImage.react"),{draggable:!1,onError:function(){d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:b.fileObjectURL}),b.fileType==="VIDEO"?h.jsx(c("PlayableCollageItemOverlay.react"),{}):null,a]}):h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:b.entID,fileType:b.fileType,filename:b.fileName,percentComplete:b.percentComplete}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OptimisticallyUploadedVideoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CircularProgressBar.react","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.fileObjectURL;var e=b.percentComplete;return b.fileObjectURL!=null&&b.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm bixrwtb6 datstx6m",onLoadedMetadata:function(a){a.target.videoWidth===0&&a.target.videoHeight===0&&d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:a}),h.jsx(c("PlayableCollageItemOverlay.react"),{}),e!=null&&h.jsx(c("CircularProgressBar.react"),{percentComplete:e*100})]}):h.jsx(c("CDNPreviewPhotoCollageItem.react"),{fileType:b.fileType,filename:b.fileName,percentComplete:b.percentComplete})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OptimisticallyUploadedCollageItem.react",["OptimisticallyUploadedPhotoCollageItem.react","OptimisticallyUploadedVideoCollageItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;var b=a.fileType==="PHOTO"||a.fileType==="UNKNOWN"||a.fileType==="VIDEO"&&a.fileMimeType==="image/gif";return b?h.jsx(c("OptimisticallyUploadedPhotoCollageItem.react"),{attachment:a}):h.jsx(c("OptimisticallyUploadedVideoCollageItem.react"),{attachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PreexistingPhotoLayoutItem.react",["CDNPreviewPhotoCollageItem.react","CometPlaceholder.react","JSResourceForInteraction","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("PreexistingPhotoLayoutItem.react"));function a(a){a=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var b=a.sphericalEncoding?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;return h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:a.entID,fileType:a.fileType,filename:null}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PreexistingPhotoCollageItem.react",["CometBackgroundImage.react","PreexistingPhotoLayoutItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;return a.fileType!=="UNKNOWN"?h.jsx(c("PreexistingPhotoLayoutItem.react"),{attachment:a}):h.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:a.url})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedPhotoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CometBackgroundImage.react","CometPlaceholder.react","JSResourceForInteraction","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("UploadingOrUploadedPhotoCollageItem.react"));function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.sphericalEncoding?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;var e=b.file;return b.fileObjectURL!=null&&b.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBackgroundImage.react"),{alt:e.name,draggable:!1,onError:function(){d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:b.fileObjectURL}),b.fileType==="VIDEO"?h.jsx(c("PlayableCollageItemOverlay.react"),{}):null,a]}):h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:b.state==="UPLOADED"?b.entID:void 0,fileType:b.fileType,filename:e.name}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedPhotoLayoutItem.react",["CDNPreviewPhotoCollageItem.react","CometComposerPhotoLayoutItem.react","CometPlaceholder.react","ComposerCometPhotoLayoutMediaAttachmentContext","JSResourceForInteraction","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("UploadingOrUploadedPhotoLayoutItem.react")),k=500,l=261;function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.sphericalEncoding?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{})}):null;var e=function(){d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},f=b.width!=null?b.width:null,g=b.height!=null?b.height:null;(f==null||g==null)&&(f=k,g=l);var m=i(c("ComposerCometPhotoLayoutMediaAttachmentContext")),n=m.numPhotosNotShown,o=m.shouldShowOverlay;m=m.viewportAspectRatio;var p=b.file;if(b.useCDNPreview!==!0&&b.fileObjectURL!=null)return h.jsxs("div",{children:[h.jsx(c("CometComposerPhotoLayoutItem.react"),{alt:p.name,height:g,numPhotosNotShown:n,onError:e,shouldShowOverlay:o,src:b.fileObjectURL,viewportAspectRatio:m,width:f}),a]});else return h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:b.state==="UPLOADED"?b.entID:void 0,fileType:b.fileType,filename:p.name}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDNPreviewVideoCollageItem.react",["CollageItemFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.filename;a=a.fileType;return h.jsx(c("CollageItemFallback.react"),{fileType:a,filename:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedVideoCollageItem.react",["CDNPreviewVideoCollageItem.react","CometVideoEditorUtils.react","PlayableCollageItemOverlay.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;if(a.fileType==="VIDEO"){var b=a.file,e=d("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(a);return a.fileObjectURL!=null&&a.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm bixrwtb6 datstx6m",poster:e,src:a.fileObjectURL}),h.jsx(c("PlayableCollageItemOverlay.react"),{})]}):h.jsx(c("CDNPreviewVideoCollageItem.react"),{entID:a.state==="UPLOADED"?a.entID:void 0,fileType:a.fileType,filename:b.name})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedCollageItem.react",["ComposerCometSelectedPhotoLayoutContext","UploadingOrUploadedPhotoCollageItem.react","UploadingOrUploadedPhotoLayoutItem.react","UploadingOrUploadedVideoCollageItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){a=a.attachment;var b=a.fileType==="PHOTO"||a.fileType==="VIDEO"&&a.file.type==="image/gif",d=i(c("ComposerCometSelectedPhotoLayoutContext"));d=!!d.layout&&d.layout!=="classic";if(b)return d?h.jsx(c("UploadingOrUploadedPhotoLayoutItem.react"),{attachment:a}):h.jsx(c("UploadingOrUploadedPhotoCollageItem.react"),{attachment:a});else return h.jsx(c("UploadingOrUploadedVideoCollageItem.react"),{attachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerMediaAttachmentItem.react",["fbt","CollageItemFallback.react","CometBackgroundImage.react","CometComposerRemoveMediaAttachmentItemButton.react","CometPlaceholder.react","CometVideoEditorUtils.react","ComposerMediaDeepDiveUploadFailedItem.react","JSResourceForInteraction","OptimisticallyUploadedCollageItem.react","PlayableCollageItemOverlay.react","PreexistingPhotoCollageItem.react","UploadingOrUploadedCollageItem.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("CometComposerMediaAttachmentItem.react"));function a(a){var b=a.attachment;a=a.withRemoveButton;var e=a===void 0?!0:a;a=b.sphericalEncoding?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{})}):null;var f=function(a){return e?i.jsx(c("CometComposerRemoveMediaAttachmentItemButton.react"),{attachment:a}):null};switch(b.state){case"PREEXISTING":var g;switch(b.fileType){case"VIDEO":var k=d("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(b);g=i.jsxs(i.Fragment,{children:[i.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:k.length>0?k:b.imageURL}),i.jsx(c("PlayableCollageItemOverlay.react"),{}),a]});break;case"PHOTO":g=i.jsx(c("PreexistingPhotoCollageItem.react"),{attachment:b});break;default:g=i.jsxs(i.Fragment,{children:[i.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:b.url}),a]});break}return i.jsxs(i.Fragment,{children:[g,f(b)]});case"NEW":case"CLIENT_PROCESSING":case"CLIENT_PROCESSING_COMPLETE":return i.jsxs(i.Fragment,{children:[i.jsx(c("CollageItemFallback.react"),{fileType:b.fileType,filename:b.file.name}),a]});case"QUEUED":case"UPLOADING":case"UPLOADED":return b.file==null?null:i.jsxs(i.Fragment,{children:[i.jsx(c("UploadingOrUploadedCollageItem.react"),{attachment:b}),b.state==="UPLOADED"?f(b):i.jsx("div",{className:"g7nl5sj3 kr520xx4 pmk7jnqg datstx6m n7fi1qx3 m96f97by",style:{width:(1-(b.percentComplete||0))*100+"%"},children:f(b)})]});case"FAILED":k=b.error;if(k==null)switch(b.fileType){case"VIDEO":k=h._(/*FBT_CALL*/"Kh\u00f4ng t\u1ea3i \u0111\u01b0\u1ee3c video l\u00ean"/*FBT_CALL*/);break;default:k=h._(/*FBT_CALL*/"Kh\u00f4ng t\u1ea3i \u0111\u01b0\u1ee3c \u1ea3nh l\u00ean"/*FBT_CALL*/);break}return i.jsx(c("ComposerMediaDeepDiveUploadFailedItem.react"),{errorMessage:k,fileName:b.file.name,small:!0});case"OPTIMISTIC_UPLOADED":return b.fileObjectURL==null?null:i.jsx(c("OptimisticallyUploadedCollageItem.react"),{attachment:b});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerMediaAttachmentItemContainer.react",["CometComposerMediaAttachmentItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=h.jsx(c("CometComposerMediaAttachmentItem.react"),babelHelpers["extends"]({},a));return b?h.jsx("div",{className:"l9j0dhe7 jm1wdb64"+(a.attachment.state==="failed"?" a64ryyup ku5f423u hmw3o7ox jw3uvs1e":"")+" k4urcfbm datstx6m",children:b}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Comet360PhotoEditButton.react",["fbt","ix","CometComposerPushPageContext","CometErrorBoundary.react","FeedComposerCometGlimmer.react","JSResourceForInteraction","TetraButton.react","fbicon","lazyLoadComponent","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("Comet360PhotoEditor.react").__setRef("Comet360PhotoEditButton.react"));function a(){var a=c("useCometComposerPushPage")(),b="Edit";return j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("477825"),16),label:b,onPress:function(){a(h._(/*FBT_CALL*/"Select Starting View"/*FBT_CALL*/),function(b){b=b.onReturn;return j.jsx(c("CometComposerPushPageContext").Provider,{value:a,children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("FeedComposerCometGlimmer.react"),{})},children:j.jsx(k,{onBack:b})})})})},type:"overlay"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerCometOpenMediaDeepDiveButton.react",["fbt","ix","CometComposerPushPageContext","JSResourceForInteraction","TetraButton.react","fbicon","lazyLoadComponent","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("ComposerMediaDeepDive.react").__setRef("ComposerCometOpenMediaDeepDiveButton.react"));function a(a){a=a.buttonLabel;a=a===void 0?h._(/*FBT_CALL*/"Ch\u1ec9nh s\u1eeda t\u1ea5t c\u1ea3"/*FBT_CALL*/):a;var b=c("useCometComposerPushPage")();return j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("477825"),16),label:a,onPress:function(){b(h._(/*FBT_CALL*/"\u1ea2nh\/Video"/*FBT_CALL*/),function(a){a=a.onReturn;return j.jsx(c("CometComposerPushPageContext").Provider,{value:b,children:j.jsx(k,{popPage:a})})})},type:"overlay"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerCometEditMediaActionsOverlay.react",["fbt","ix","Comet360PhotoEditButton.react","CometComposerEditMediaAttachmentItemButton.react","CometComposerEditVideoButtonWithNux.react","CometFileSelector.react","CometRow.react","CometRowItem.react","ComposerCometOpenMediaDeepDiveButton.react","PagesCometComposerContext","TetraButton.react","cr:1613921","cr:1918884","fbicon","gkx","react","stylex","useComposerPluginIneligibility","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useMemo,m=c("gkx")("1923549"),n=(e=b("cr:1918884"))!=null?e:function(a){return null},o={buttonLayer:{opacity:"b5wmifdl",pointerEvents:"mrt03zmi"},buttonLayerVisible:{opacity:"pedkr2u6"},core:{paddingTop:"pybr56ya",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"k4urcfbm"},overlay:{backgroundColor:"rsx06lma",height:"datstx6m",pointerEvents:"hzruof5a"}};function a(a){var e=a.accept,f=a.inComposer,g=a.isMediaBeingEdited,p=a.mediaAttachments,q=a.showButtons;a=a.videoLiteComposerEligible;var r=c("useComposerViewStateDispatcher")(),s=k(c("PagesCometComposerContext")),t=function(a){a.length>0&&r({files:Array.from(a),type:"ADD_MEDIA_ATTACHMENT_ITEMS"})},u=(s==null?void 0:s.paidContentComposerEligible)===!0&&c("gkx")("4671"),v=p.length===1&&p[0].fileType==="VIDEO",w=a&&v,x=p.length===1&&p[0].fileType==="PHOTO"&&p[0].sphericalEncoding!=null,y=c("useComposerPluginIneligibility")().has("MEDIA_EDIT"),z=l(function(){if(p.length>1)return j.jsx(c("ComposerCometOpenMediaDeepDiveButton.react"),{});if(y)return null;if(v){if(w&&!u)return j.jsx(c("CometComposerEditVideoButtonWithNux.react"),{isVideoBeingEdited:g});return m?j.jsx(c("CometComposerEditMediaAttachmentItemButton.react"),{index:0}):null}return x?j.jsx(c("Comet360PhotoEditButton.react"),{}):j.jsx(c("CometComposerEditMediaAttachmentItemButton.react"),{index:0})},[p,y,g,v,x,w,u]),A=n(p),B=w||q;return j.jsx("div",{className:c("stylex")(o.core,B&&o.overlay),children:j.jsx(c("CometFileSelector.react"),{accept:e,multiple:!0,onFilesSelected:t,children:function(a){return f&&j.jsx("div",{className:c("stylex")([o.core,o.buttonLayer,B&&o.buttonLayerVisible]),children:j.jsxs(c("CometRow.react"),{align:"start",paddingTop:0,children:[z&&j.jsx(c("CometRowItem.react"),{children:z}),y||w&&!u?null:j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("481773"),16),label:h._(/*FBT_CALL*/"Th\u00eam \u1ea3nh\/video"/*FBT_CALL*/),onPress:a,testid:void 0,type:"overlay"})}),b("cr:1613921")?j.jsx(c("CometRowItem.react"),{children:j.jsx(b("cr:1613921"),{})}):null,A&&j.jsx(c("CometRowItem.react"),{children:A})]})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerCometMediaAttachmentClassicLayout.react",["fbt","CometComposerHeadlessMediaUploader.react","CometComposerMediaAttachmentItemContainer.react","CometComposerStylingConstants","CometPlaceholder.react","composerMediaAttachmentReducer","react","useComposerViewStateReducer","useMediaCollage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=5;function a(a){var b=a.composerDialogWidth,e=a.mediaAttachments,f=a.mediaUploadLoggingMetadata,g=a.width;a=a.withoutUploader;b=((b=b)!=null?b:d("CometComposerStylingConstants").COMPOSER_ORIGINAL_WIDTH)-d("CometComposerStylingConstants").COMPOSER_PADDING_SIDE*2-d("CometComposerStylingConstants").COMPOSER_ATTACHMENT_AREA_BORDER*2;b=c("useMediaCollage")(b,e,g);g=b.height;var k=b.itemStyleInfos,l=b.numItemsNotShown;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));return i.jsxs("div",{style:{height:g},children:[a!==!0&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:f})}),k.map(function(a,b){var d=(e||[])[b];if(d==null)return null;var f=b===j-1&&l>0;return i.jsxs("div",{className:"pmk7jnqg stjgntxs ni8dbmo4 taijpn5t j83agx80 bp9cbjyn","data-testid":void 0,style:a,children:[i.jsx(c("CometComposerMediaAttachmentItemContainer.react"),{attachment:d,withRemoveButton:!1},"media-"+b),f?i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg taijpn5t cbu4d94t n7fi1qx3 j83agx80 i09qtzwb sx5rzos5 bp9cbjyn",children:i.jsx("div",{className:"oqcyycmt lrazzd5p mhxlubs3 qrtewk5h",children:h._(/*FBT_CALL*/"+{num}"/*FBT_CALL*/,[h._param("num",l+1)])})}):null]},"media-"+b+"-container")})]})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{composerDialogWidth:(a=a.composerSizeAndStyleMetadata)==null?void 0:a.composerDialogWidth}});g["default"]=b}),98);
__d("ComposerCometMediaAttachmentCollageLayoutRenderer.react",["ComposerCometMediaAttachmentClassicLayout.react","cr:1661928","cr:1674490","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.selectedPhotoLayout,e=babelHelpers.objectWithoutPropertiesLoose(a,["selectedPhotoLayout"]);a=c("gkx")("1609581");var f=function(){return h.jsx(c("ComposerCometMediaAttachmentClassicLayout.react"),babelHelpers["extends"]({},e))};if(!d||!a)return f();switch(d){case"classic":return f();case"columns":if(b("cr:1661928"))return h.jsx(b("cr:1661928"),{mediaAttachments:e.mediaAttachments});else throw new(c("unrecoverableViolation"))("ComposerCometMediaAttachmentCollageLayoutRenderer was unable to render Column Photo Layout","comet_composer");case"banner":return i(d);case"frame":if(b("cr:1674490"))return h.jsx(b("cr:1674490"),{mediaAttachments:e.mediaAttachments});else throw new(c("unrecoverableViolation"))("ComposerCometMediaAttachmentCollageLayoutRenderer was unable to render Frame Photo Layout","comet_composer");default:d;throw c("unrecoverableViolation")("photo layout not supported in ComposerCometMediaAttachmentCollageLayoutRenderer","comet_composer")}}a.displayName=a.name+" [from "+f.id+"]";function i(a){return h.jsx("div",{className:"sgwjjusx",children:a})}i.displayName=i.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerCometMediaAttachmentCollage.react",["fbt","ComposerCometEditMediaActionsOverlay.react","ComposerCometMediaAttachmentCollageLayoutRenderer.react","composerMediaAttachmentReducer","fileInputAcceptValues","react","stylex","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=a.disableVideoUploads,e=a.inComposer,f=a.isMediaBeingEdited;f=f===void 0?!1:f;var g=a.mediaAttachments,k=a.mediaUploadLoggingMetadata,l=a.removeBorderRadiusBottomStyle;l=l===void 0?!1:l;var m=a.selectedPhotoLayout,n=a.videoLiteComposerEligible;n=n===void 0?!1:n;var o=a.width;a=a.withoutUploader;var p=j(!1),q=p[0],r=p[1];p=j(!1);var s=p[0],t=p[1];c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));p=b!==!0?d("fileInputAcceptValues").PHOTO_AND_VIDEO:d("fileInputAcceptValues").PHOTO;return i.jsxs("div",{"aria-label":h._(/*FBT_CALL*/"File ph\u01b0\u01a1ng ti\u1ec7n \u0111\u00ednh k\u00e8m"/*FBT_CALL*/),className:c("stylex").dedupe({"border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","position-1":"l9j0dhe7","width-1":"k4urcfbm"},e?null:{"border-top-0.3":"qu0x051f","border-end-0.3":"esr5mh6w","border-bottom-0.3":"e9989ue4","border-start-0.3":"r7d6kgcz","border-top-start-radius-1":"monazrh9","border-top-end-radius-1":"h905i5nu","border-bottom-end-radius-1":"jinzq4gt","border-bottom-start-radius-1":"mrjvor2e"},l?{"border-bottom-end-radius-1":"jinzq4gt","border-bottom-start-radius-1":"mrjvor2e"}:null),onBlur:function(){return r(!1)},onFocus:function(){return r(!0)},onMouseEnter:function(){return t(!0)},onMouseLeave:function(){return t(!1)},role:"group",children:[i.jsx(c("ComposerCometMediaAttachmentCollageLayoutRenderer.react"),{inComposer:e,mediaAttachments:g,mediaUploadLoggingMetadata:k,selectedPhotoLayout:m,width:o,withoutUploader:a}),i.jsx(c("ComposerCometEditMediaActionsOverlay.react"),{accept:p,inComposer:e,isMediaBeingEdited:f,mediaAttachments:g,showButtons:q||s,videoLiteComposerEligible:n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryOptimisticProgressBar.react",["fbt","Actor","ComposerMediaFileUploader","RunComet","cometComposerLogger","react","useOnBeforeUnload"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState,m=95;function a(){var a=l(0),b=a[0],e=a[1];a=d("Actor").useActor();a=a[0];var f=c("ComposerMediaFileUploader").getInstance(a),g=k(!1),n=function(a){a=Array.from(a.values()).reduce(function(a,b){a.bytesLoaded+=b.bytesLoaded;a.bytesTotal+=b.bytesTotal;return a},{bytesLoaded:0,bytesTotal:0});a.bytesLoaded===a.bytesTotal&&(g.current=!0);var b=a.bytesTotal!==0?a.bytesLoaded/a.bytesTotal*m:0;e(function(a){return Math.max(b,a)})};c("useOnBeforeUnload")(function(){if(!g.current)return{warnMessage:h._(/*FBT_CALL*/"B\u00e0i vi\u1ebft v\u1eabn \u0111ang t\u1ea3i l\u00ean. B\u1ea1n c\u00f3 mu\u1ed1n tho\u00e1t khi ch\u01b0a t\u1ea3i xong kh\u00f4ng?"/*FBT_CALL*/)}});j(function(){f&&f.uploadStatusChangeObserver.subscribe(n);var a=function(){if(!g.current){var a;c("cometComposerLogger")({fields:{terminalReason:"shutdown"},type:"COMPOSER_POST_TERMINAL"},(a=f==null?void 0:f.getCreationSessionID())!=null?a:"")}},b=d("RunComet").onUnload(a);return function(){f&&f.uploadStatusChangeObserver.unsubscribe(n);return b.remove()}},[f]);return i.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 kgtf8isp ed3p1gfi mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 cwj9ozl2","data-testid":void 0,children:i.jsx("div",{className:"stjgntxs ni8dbmo4 qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3",children:i.jsx("div",{className:"b7h9ocf4 flx89l3n tn0ko95a qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 nfl8ryma",style:{transform:"translateX(calc(-100% + "+b+"%))"}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useComposerVideoUploaderConfigQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4001962293179986"}),null);
__d("useComposerVideoUploaderConfigQuery.graphql",["useComposerVideoUploaderConfigQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"actorID"},{defaultValue:null,kind:"LocalArgument",name:"entryPoint"},{defaultValue:null,kind:"LocalArgument",name:"targetID"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"entry_point",variableName:"entryPoint"},{kind:"Variable",name:"target_id",variableName:"targetID"}],kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useComposerVideoUploaderConfigQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useComposerVideoUploaderConfigQuery",selections:c},params:{id:b("useComposerVideoUploaderConfigQuery_facebookRelayOperation"),metadata:{},name:"useComposerVideoUploaderConfigQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("Comet360PhotoTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Cylindrical","Equirectangular","TiledCubemap"]);f.Comet360PhotoProjection=a}),66);
__d("CometSphericalPhotoUtils",["Comet360PhotoTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getPhotoSphereMetadata();return a==null?null:h(a)}function h(a){var b=Number(a.CroppedAreaImageWidthPixels)/Number(a.CroppedAreaImageHeightPixels),c=Number(a.CroppedAreaImageWidthPixels)/Number(a.FullPanoWidthPixels)*Math.PI*2,e=Number(a.CroppedAreaImageHeightPixels)/Number(a.FullPanoHeightPixels)*Math.PI*2,f=Number(a.InitialViewHeadingDegrees),g=Number(a.InitialViewPitchDegrees),h=Number(a.InitialViewVerticalFOVDegrees),j=Number(a.CroppedAreaImageHeightPixels)===Number(a.CroppedAreaImageWidthPixels)*2?d("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular:d("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;switch(a.ProjectionType){case"equirectangular":j=d("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular;break;case"cylindrical":j=d("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;break}a={aspectRatio:b,horizontalFov:c,projectionType:j,startingView:{heading:i(f),horizontalFov:null,pitch:i(g),verticalFov:h!==0?i(h):null},verticalFov:e};return a}function i(a){return a/180*Math.PI}g.createEncodingFromSphericalImage=a}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(b("Promise"))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("EndianAwareDataView",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=0),this.$2=new DataView(a,c),this.$1=b}var b=a.prototype;b.getByteLength=function(){return this.$2.byteLength};b.getU8=function(a){return this.$2.getUint8(a)};b.getI8=function(a){return this.$2.getInt8(a)};b.getU16=function(a){return this.$2.getUint16(a,this.$1)};b.getI16=function(a){return this.$2.getInt16(a,this.$1)};b.getU32=function(a){return this.$2.getUint32(a,this.$1)};b.getI32=function(a){return this.$2.getInt32(a,this.$1)};b.getF32=function(a){return this.$2.getFloat32(a,this.$1)};return a}();f["default"]=a}),66);
__d("EndianAwareDataReader",["EndianAwareDataView"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$2=new(c("EndianAwareDataView"))(a,b),this.$1=0}var b=a.prototype;b.canReadU8=function(){return this.$1<this.$2.getByteLength()};b.canReadU16=function(){return this.$1<this.$2.getByteLength()-1};b.canReadU32=function(){return this.$1<this.$2.getByteLength()-3};b.seekTo=function(a){this.$1=a};b.seekRelative=function(a){this.$1+=a};b.readU8=function(){var a=this.$2.getU8(this.$1);this.$1+=1;return a};b.peekU8=function(){return this.$2.getU8(this.$1)};b.readI8=function(){var a=this.$2.getI8(this.$1);this.$1+=1;return a};b.peekI8=function(){return this.$2.getI8(this.$1)};b.readU16=function(){var a=this.$2.getU16(this.$1);this.$1+=2;return a};b.peekU16=function(){return this.$2.getU16(this.$1)};b.readI16=function(){var a=this.$2.getI16(this.$1);this.$1+=2;return a};b.peekI16=function(){return this.$2.getI16(this.$1)};b.readU32=function(){var a=this.$2.getU32(this.$1);this.$1+=4;return a};b.peekU32=function(){return this.$2.getU32(this.$1)};b.readI32=function(){var a=this.$2.getI32(this.$1);this.$1+=4;return a};b.peekI32=function(){return this.$2.getI32(this.$1)};b.readF32=function(){var a=this.$2.getF32(this.$1);this.$1+=4;return a};b.peekF32=function(){return this.$2.getF32(this.$1)};return a}();g["default"]=a}),98);
__d("parseIFDEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.readU16(),c=a.readU16(),d=a.readU32(),e=Object.freeze({offset:a.peekU32(),type:"offset"});switch(c){case 1:case 2:case 7:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU8())}break;case 6:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI8())}break;case 3:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU16())}break;case 8:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI16())}break;case 4:d<2&&(e={type:"data",values:[a.readU32()]});break;case 9:d<2&&(e={type:"data",values:[a.readI32()]});break;case 11:d<2&&(e={type:"data",values:[a.readF32()]});break;case 5:case 10:case 12:a.seekRelative(4);break}return{format:c,tag:b,value:e}}f["default"]=a}),66);
__d("parseIFDTable",["parseIFDEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.readU16(),d=[];for(var e=0;e<b;e++)d.push(c("parseIFDEntry")(a));b=a.readU32();return{entries:d,nextTableOffset:b}}g["default"]=a}),98);
__d("parseTIFFHeader",["EndianAwareDataReader","parseIFDTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=0);var d=new Uint8Array(a,b),e=!0;if(d[0]===77&&d[1]===77)e=!1;else if(d[0]!==73||d[1]!==73)return null;d=new(c("EndianAwareDataReader"))(a,e);d.seekTo(b+2);if(d.readU16()!==42)return null;a=d.readU32();d.seekRelative(a-8);e=c("parseIFDTable")(d);return[e]}g["default"]=a}),98);
__d("extractJPEGOrientationData",["genArrayBufferFromFile","parseTIFFHeader"],(function(a,b,c,d,e,f,g){"use strict";var h=65496,i=65498,j=1165519206;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){var b=new DataView(a);if(b.getUint16(0,!1)!==h)return null;var d=2;while(d<a.byteLength-2&&b.getUint16(d)!==i){var e=b.getUint16(d),f=e&65280;e=e&255;if(f===65280)if(e===225){if(b.getUint32(d+4)!==j||b.getUint16(d+8)!==0)return null;f=c("parseTIFFHeader")(a,d+10);if(f!=null){f=f[0];for(var f=f.entries,g=Array.isArray(f),k=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(g){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;if(l.tag===274){l=l.value;if(l.type==="data"){l=l.values[0];if(l==null)return null;return l===0||l===1||l===2||l===3||l===4||l===5||l===6||l===7||l===8?l:null}return null}}}return null}else if(e!==0&&(e<208||e>217)){l=b.getUint16(d+2,!1);d+=l+2}}return null})}g["default"]=a}),98);
__d("genDimensionsFromImageFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Image(),d=new(b("Promise"))(function(a,b){c.onload=function(){a({height:c.height,width:c.width})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}f["default"]=a}),66);
__d("genDimensionsFromVideoFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=document.createElement("video"),d=new(b("Promise"))(function(a,b){c.onloadedmetadata=function(){a({height:c.videoHeight,width:c.videoWidth})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}f["default"]=a}),66);
__d("genIsHEICFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[102,116,121,112],d=[104,101,105,99],e=[104,101,105,120];return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var c=a.slice(4,8).reduce(function(a,c,d){return a&&c===b[d]},!0);if(!c)return!1;c=a.slice(8,12).reduce(function(a,b,c){return a&&b===d[c]},!0);if(c)return!0;c=a.slice(8,12).reduce(function(a,b,c){return a&&b===e[c]},!0);return c?!0:!1})}g["default"]=a}),98);
__d("genIsNonAnimatedGifFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a[b]===0&&a[b+1]===33&&a[b+2]===249&&a[b+3]===4&&a[b+8]===0&&(a[b+9]===44||a[b+9]===33)}function a(a){var b=[71,73,70,56,55,97],d=[71,73,70,56,57,97];return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var c=a.slice(0,6).reduce(function(a,c,d){return a&&c===b[d]},!0);if(c)return!0;c=a.slice(0,6).reduce(function(a,b,c){return a&&b===d[c]},!0);if(!c)return!1;c=0;for(var e=6;e+9<a.length;++e){h(a,e)&&c++;if(c>1)return!1}return!0})}g["default"]=a}),98);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("readVINT",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=0;b=Math.min(a.length,(b=b)!=null?b:Number.MAX_VALUE);var d=0;while(c<b){var e=a[c];if(e===0)d+=8,c++;else{d+=8-Math.floor(Math.log2(e));if(d>b||d<0)return null;e=g(a,d);return{vintData:e,nextReadOffset:d}}}return null}function g(a,b){var c=Math.floor(b/8),d=a[c],e=8-b%8;e<8&&(d^=1<<e);e=new Uint8Array(new ArrayBuffer(b-c));e[0]=d;e.set(a.slice(c+1,b),1);return e}f["default"]=a}),66);
__d("readEBMLHeader",["$InternalEnum","readVINT"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a*256+b},0)}function i(a){return String.fromCharCode.apply(String,Array.from(a))}var j=b("$InternalEnum")({EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxSizeLength:17139,EBMLMaxIDLength:17138,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029});function k(a){var b=c("readVINT")(a,4);if(b==null)return null;var d=h(a.slice(0,b.nextReadOffset));d=j.cast(d);var e=c("readVINT")(a.slice(b.nextReadOffset));if(e==null)return null;var f=h(e.vintData);b=b.nextReadOffset+e.nextReadOffset;e=b+f;if(e>a.length)return null;f=a.slice(b,e);return{id:d,data:f,nextReadOffset:e}}function l(a){a=k(a);if(a==null||a.id!==j.EBML)return null;a=a.data;var b=new Map(),c=k(a);while(c!=null)c.id!=null&&b.set(c.id,c.data),a=a.slice(c.nextReadOffset),c=k(a);return b}function a(a){var b,c=l(new Uint8Array(a));if(c==null)return null;a=function(a,b){a=c.get(a);if(a==null)return null;else return b(a)};var d=a(j.DocType,i);return d==null?null:{ebmlVersion:(b=a(j.EBMLVersion,h))!=null?b:1,ebmlReadVersion:(b=a(j.EBMLReadVersion,h))!=null?b:1,ebmlMaxIDLength:(b=a(j.EBMLMaxIDLength,h))!=null?b:4,ebmlMaxSizeLength:(b=a(j.EBMLMaxSizeLength,h))!=null?b:8,docType:d,docTypeVersion:(b=a(j.DocTypeVersion,h))!=null?b:1,docTypeReadVersion:(d=a(j.DocTypeReadVersion,h))!=null?d:1}}g["default"]=a}),98);
__d("isValidMKV",["Promise","readEBMLHeader"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=c("readEBMLHeader")(a);if(a==null)return!1;else return a.ebmlMaxIDLength===4&&a.ebmlMaxSizeLength>=1&&a.ebmlMaxSizeLength<=8&&a.docType==="matroska"}function a(a){return new(b("Promise"))(function(b,c){var d=new FileReader();d.onerror=function(){return c(d.error)};d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(h(a)):c()};d.readAsArrayBuffer(a)})}g["default"]=a}),98);
__d("usePagesCometComposerMultiMediaRestrictions",["fbt","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a,b,c){var e=i(function(a){a!=null&&a.map(function(a){return b({attachment:a,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})})},[b]);return i(function(){if(a!=null){var b=a.filter(function(a){return a.fileType==="PHOTO"}),f=a.filter(function(a){return a.fileType==="VIDEO"});b.length>0&&f.length>0&&(f.length===1&&f[0].state==="NEW"&&!b.some(function(a){return a.state==="NEW"})?e(b):e(f),d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"R\u1ea5t ti\u1ebfc, b\u1ea1n kh\u00f4ng th\u1ec3 th\u00eam c\u1ea3 \u1ea3nh v\u00e0 video m\u1ed9t l\u00fac"/*FBT_CALL*/)));f.length>1&&c!==!0&&(e(f.slice(1)),d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"Vui l\u00f2ng ch\u1ecdn m\u1ed7i l\u1ea7n m\u1ed9t file video."/*FBT_CALL*/)))}},[a,e,c])}g["default"]=a}),98);
__d("CometComposerHeadlessMediaUploaderImpl.react",["CometSphericalPhotoUtils","PagesCometComposerContext","Promise","cr:1506337","extractJPEGOrientationData","genDimensionsFromImageFile","genDimensionsFromVideoFile","genIsHEICFile","genIsNonAnimatedGifFile","genIsNonAnimatedWebPFile","gkx","isValidMKV","promiseDone","react","recoverableViolation","useCometComposerLoggerDispatcher","usePagesCometComposerMultiMediaRestrictions"],(function(a,b,c,d,e,f,g){"use strict";d("react");e=d("react");var h=e.useCallback,i=e.useContext,j=e.useEffect;function a(a){var e=a.composerUploader,f=a.dispatch,g=a.mediaAttachments,k=a.mediaUploadStatuses,l=a.preventDefaultErrorHandler,m=a.useOptimisticMediaPost,n=c("useCometComposerLoggerDispatcher")(),o=i(c("PagesCometComposerContext")),p=c("usePagesCometComposerMultiMediaRestrictions")(g,f,o==null?void 0:o.paidContentComposerEligible),q=h(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_STARTED"},a))},[f]),r=h(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_PROGRESS"},a))},[f]),s=h(function(a){var b=k&&k[a.uploadID];b!=null&&b.resolveFileUpload({attachmentID:a.entID,attachmentType:a.attachmentType})},[k]),t=h(function(a){f({entID:a.entID,imageURL:a.attachmentType==="PHOTO"?a.imageURL:void 0,takenTime:a.attachmentType==="PHOTO"?a.takenTime:void 0,type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:a.uploadID})},[f]),u=h(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_FAILED"},a))},[f]),v=h(function(a){if(a.isSpherical){var b=d("CometSphericalPhotoUtils").createEncodingFromSphericalImage(a.sphericalImage);b&&f({sphericalEncoding:b,type:"SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING",uploadID:a.uploadID})}},[f]);j(function(){o!=null&&g!=null&&p();e.startedObserver.subscribe(q);e.progressObserver.subscribe(r);e.successObserver.subscribe(t);e.errorObserver.subscribe(u);e.sphericalImageDetectedObserver.subscribe(v);m&&e.successObserver.subscribe(s);return function(){e.startedObserver.unsubscribe(q),e.progressObserver.unsubscribe(r),e.successObserver.unsubscribe(t),e.errorObserver.unsubscribe(u),e.sphericalImageDetectedObserver.unsubscribe(v)}});var w=function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"&&a.fileType!=="UNKNOWN"?[a.file,a.fileType]:null},x=h(function(a){var b=a.map(function(a){return a.file&&((a=a.file)==null?void 0:a.uploadID)}).filter(Boolean);f({type:"MARK_UPLOADS_CLIENT_PROCESSING",uploadIDs:b});a.forEach(function(a){var b;return n({fields:{media_id:(b=(b=a.file)==null?void 0:b.uploadID)!=null?b:"",media_type:a.fileType},type:"MEDIA_UPLOAD_PROCESS_START"})})},[f,n]),y=h(function(a){var d=a.file;if(d)return c("genIsHEICFile")(d).then(function(c){c&&f({type:"MARK_UNKNOWN_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),z=h(function(a){var d=a.file;if(d)return c("isValidMKV")(d).then(function(c){c&&f({type:"MARK_UNKNOWN_UPLOADS_AS_VIDEO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),A=h(function(a){var d=a.file;if(d)return c("genIsNonAnimatedGifFile")(d).then(function(c){c&&f({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),B=h(function(a){var d=a.file;if(d)return c("genIsNonAnimatedWebPFile")(d).then(function(c){c&&f({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),C=h(function(a){var d=a.file;return d?c("extractJPEGOrientationData")(d).then(function(c){c!=null&&c>0&&f({attachment:a,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"});return b("Promise").resolve(a)})["catch"](function(d){c("recoverableViolation")("An error occurred when parsing an uploaded image","comet_composer",{error:d});return b("Promise").resolve(a)}):b("Promise").resolve(a)},[f]),D=h(function(a){var d=a.file?a.file:void 0,e=a.fileObjectURL,g;if(e!=null)switch(a.fileType){case"PHOTO":g=c("genDimensionsFromImageFile")(e);break;case"VIDEO":g=c("genDimensionsFromVideoFile")(e);break}else if(d!=null)switch(a.fileType){case"PHOTO":g=c("genDimensionsFromImageFile")(d);break;case"VIDEO":g=c("genDimensionsFromVideoFile")(d);break}else g=b("Promise").resolve({height:0,width:0});if(g!=null)return g.then(function(b){var c=b.height;b=b.width;f({attachment:a,height:c,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:b})},function(){f({attachment:a,height:0,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:0})})},[f]),E=h(function(){var a=(g||[]).map(function(a){return a.state==="NEW"?a:null}).filter(Boolean);a.forEach(function(a){var d=a.file.uploadID;d!=null&&(n({fields:{media_id:d,media_type:a.fileType},type:"MEDIA_UPLOAD_FLOW_START"}),n({fields:{media_id:d,media_type:a.fileType},type:"MEDIA_UPLOAD_START"}));d=[];x([a]);a.fileType==="UNKNOWN"&&a.file?(d.push(y(a)),d.push(z(a))):a.fileType==="PHOTO"?d.push(C(a)):a.fileType==="VIDEO"&&a.file.type==="image/gif"?d.push(A(a)):a.fileType==="VIDEO"&&a.file.type==="image/webp"&&d.push(B(a));d.push(D(a));c("promiseDone")(b("Promise").all(d).then(function(){var b=[a.file.uploadID].filter(Boolean),c=a.fileType;f({type:"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED",uploadIDs:b});b.forEach(function(a){return n({fields:{media_id:a,media_type:c},type:"MEDIA_UPLOAD_PROCESS_SUCCESS"})})}))})},[D,y,z,A,C,f,n,x,g]),F=h(function(){if(g!=null){var a=g.filter(function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"}).map(w).filter(Boolean);a.length>0&&(f({type:"QUEUE_UPLOADS",uploadIDs:a.map(function(a){var b=a[0];a[1];return b==null?void 0:b.uploadID}).filter(Boolean)}),e.upload(a,null,l));k&&g.forEach(function(a){if(a.state==="CLIENT_PROCESSING_COMPLETE"&&a.file.uploadID!=null){a=k[a.file.uploadID];a!=null&&c("promiseDone")(a.onUploadCancel,function(a){e.cancelUpload(a.attachmentID,a.attachmentType)})}})}},[e,f,g,k]),G=h(function(){b("cr:1506337")!==null&&b("cr:1506337")(g,f)},[f,g]);j(function(){E(),F(),c("gkx")("1488423")&&G()},[E,F,G]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useComposerMediaFileUploaderWithClientSideImageResizer",["getComposerMediaFileUploaderWithClientSideImageResizer","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a,b,d,e){e===void 0&&(e=!1);var f=i(function(){return c("getComposerMediaFileUploaderWithClientSideImageResizer")(a,b,d,e)},[a,d,e,b]),g=f[0],j=f[1];h(function(){return c("gkx")("501")?j:void 0},[g,j]);return g}g["default"]=a}),98);
__d("useComposerVideoUploaderConfig",["CometRelay","emptyObject","useComposerVideoUploaderConfigQuery.graphql","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("useComposerVideoUploaderConfigQuery.graphql"),{actorID:(a=a)!=null?a:"",entryPoint:(a=e)!=null?a:"",targetID:(e=f)!=null?e:""});e=a==null?void 0:(f=a.viewer)==null?void 0:f.comet_composer_video_uploader_config;return(f=c("useJSON")((a=e)!=null?a:null))!=null?f:c("emptyObject")}g["default"]=a}),98);
__d("CometComposerHeadlessMediaUploader.react",["Actor","CometComposerHeadlessMediaUploaderImpl.react","FBLogger","GroupCometComposerContext","gkx","react","useComposerMediaFileUploaderWithClientSideImageResizer","useComposerVideoUploaderConfig","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a){var b=a.creationSessionID,e=a.isWorkDraftingFor,f=a.mediaAttachments,g=a.mediaUploadLoggingMetadata,k=g.composerEntrypoint,l=g.source;g=a.mediaUploadStatuses;a=a.workDraftFor;var m=c("useComposerViewStateDispatcher")(),n=d("Actor").useActor();n=n[0];var o,p=i(c("GroupCometComposerContext"));p=p.groupID;(a==null?void 0:a.originalActorID)!=null&&p!=null&&(o=p);var q=c("useComposerVideoUploaderConfig")(n,String(k),o),r=k==="feed"||c("gkx")("927");a=j(function(){return babelHelpers["extends"]({},q,{composer_entry_point_ref:k,silent_file_validation:r,source:l})},[k,r,l,q]);p=c("useComposerMediaFileUploaderWithClientSideImageResizer")(n,a,b,e);b==null&&c("FBLogger")("comet_composer").mustfix("creationSessionID must be defined for the media upload flow. [source]: "+String(l)+" [composerEntrypoint]: "+String(k));return h.jsx(c("CometComposerHeadlessMediaUploaderImpl.react"),{composerUploader:p,dispatch:m,mediaAttachments:f,mediaUploadStatuses:g,preventDefaultErrorHandler:c("gkx")("1078")&&l==="album_uploader",useOptimisticMediaPost:!0})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{creationSessionID:a.creationSessionID,isWorkDraftingFor:a.workDraftFor!=null,mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses,workDraftFor:a.workDraftFor}});g["default"]=e}),98);
__d("cometComposerCheckMediaAttachmentsForPhoto3d",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(!a)return;var d=a.reduce(function(a,b){b.state==="UPLOADED"&&b.fileType==="PHOTO"&&a.push(b);return a},[]);if(a.length!==2||d.length!==2)return;a=h(d);d=i(a);if(d==null)return;c("QPLUserFlow").start(c("qpl")._(37631558,"4977"));c("QPLUserFlow").addPoint(c("qpl")._(37631558,"4977"),"three_d_photo_creation_data_provided");b({colorImageIds:d.colorImageIds,depthImageIds:d.depthImageIds,placeholderImage:d.placeholderImage,type:"SET_PHOTO3D_CREATION_DATA"});b({attachmentType:"PHOTO3D",type:"ACTIVATE_ATTACHMENT_TYPE"})}function h(a){var b={},c=["jpg","jpeg","png"];a.forEach(function(a){var d=a.file.name;if(!d)return;var e=d.lastIndexOf(".");if(e<0)return;var f=d.split(".").pop().toLowerCase();if(!c.includes(f))return;f=d.substring(0,e).toLowerCase();d=f.split("_");if(d.length>1&&d.pop().toLowerCase()==="depth"){e=d.join("_");e in b||(b[e]={colorImage:null,depthImage:null});b[e].depthImage=a}else f in b||(b[f]={colorImage:null,depthImage:null}),b[f].colorImage=a});return b}function i(a){var b=Object.keys(a).sort();if(b.length===0)return null;var c=[],d=[],e=null;b.forEach(function(b){b=a[b];var f=b.colorImage;b=b.depthImage;if(!f||!b)return null;var g=f.entID;b=b.entID;if(g==null||b==null)return null;e==null&&(e=f);c.push(g);d.push(b)});return c.length===0||c.length!==d.length||e===null?null:{colorImageIds:c,depthImageIds:d,placeholderImage:e}}g["default"]=a}),98);
__d("useNUXHelpers_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNUXHelpers_nux",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},action:"THROW",path:"nux_id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null},action:"THROW",path:"should_show"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("useNUXHelpers",["CometRelay","react","useNUX","useNUXHelpers_nux.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useEffect;function a(a){var e=d("CometRelay").useRelayEnvironment();a=d("CometRelay").useFragment(h!==void 0?h:h=b("useNUXHelpers_nux.graphql"),a);var f=a.id,g=a.nux_id,k=c("useNUX")(g,Boolean(a==null?void 0:a.should_show)),l=k[0],m=k[1],n=a.should_show===!0&&l;k=i(function(){m==null?void 0:m.onDismiss(),d("CometRelay").commitLocalUpdate(e,function(a){a=a.get(f);a==null?void 0:a.setValue(!1,"should_show")})},[m,e,f]);j(function(){n&&(m==null?void 0:m.onVisible())},[g,n,m]);return[n,k]}g["default"]=a}),98);
__d("useMediaCollage",["CometComposerStylingConstants","CometFeedStoryMediaLayoutConstants","ReactComposerCollageLayoutSelection"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=2;function a(a,b,c){var e=d("CometFeedStoryMediaLayoutConstants").DEFAULT_MIN_ASPECT_RATIO,f=b.reduce(function(a,c,d){c.width!=null&&c.height!=null?(b.length===1&&(e=Math.max(c.width/c.height,e)),a.set(d,[c.width,c.height])):a.set(d,[0,0]);return a},new Map()),g=new Map();f.size>0&&(g=d("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(f));f=Array.from(g.entries()).map(function(a){a=a[1];return{columnSpan:a.getWidth(),columnStart:a.getLeft(),rowSpan:a.getHeight(),rowStart:a.getTop()}});var j=f.reduce(function(a,b){return Math.max(a,b.columnStart+b.columnSpan)},0),k=f.reduce(function(a,b){return Math.max(a,b.rowStart+b.rowSpan)},0);g=c!=null?c-d("CometComposerStylingConstants").COMPOSER_PADDING_SIDE*2-d("CometComposerStylingConstants").COMPOSER_ATTACHMENT_AREA_BORDER*2:a;c=g*(k/h);b.length===1&&(c=g/e);a=f.map(function(a){var b=a.columnSpan,c=a.columnStart,d=a.rowSpan;a=a.rowStart;var e=i/2+.01;return{bottom:"calc(("+(k-(a+d))*100+"% / "+k+") + "+(a+d<k?e:0)+"px)",left:"calc(("+c*100+"% / "+j+") + "+(c>0?e:0)+"px)",right:"calc(("+(j-(c+b))*100+"% / "+j+") + "+(c+b<j?e:0)+"px)",top:"calc(("+a*100+"% / "+k+") + "+(a>0?e:0)+"px)"}});g=(b||[]).length-f.length;return{height:c,itemStyleInfos:a,numItemsNotShown:g}}g["default"]=a}),98);
__d("CometDateTimeFormatUtils",["fbt","DateConsts","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){return i(a.getJSDate(),b!=null?b.getJSDate():null)}function i(a,b){if(b==null||b.getTime()===a.getTime())if(a.getFullYear()===new Date().getFullYear())return c("formatDate")(a,"M j");else return c("formatDate")(a,"M j, Y");else{var d,e;a.getFullYear()===b.getFullYear()?(a.getFullYear()===new Date().getFullYear()?e=c("formatDate")(b,"M j"):e=c("formatDate")(b,"M j, Y"),d=c("formatDate")(a,"M j")):(d=c("formatDate")(a,"M j, Y"),e=c("formatDate")(b,"M j, Y"));return h._(/*FBT_CALL*/"{start-date} - {end-date}"/*FBT_CALL*/,[h._param("start-date",d),h._param("end-date",e)])}}function b(a){return a==null?null:new Date(a*d("DateConsts").MS_PER_SEC)}g.formatLocalDateRange=a;g.formatDateRange=i;g.getDateFromTimestamp=b}),98);
__d("eventCometEventIsClass",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="LEARNING_CLASS"}f.eventCometEventIsClass=a}),66);
__d("eventCometEventIsCourse",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="COURSE"}f.eventCometEventIsCourse=a}),66);
__d("eventCometEventIsTournament",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="TOURNAMENT"}f.eventCometEventIsTournament=a}),66);
__d("EventCometEventPurposeUppercaseName$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={CLASS:"Class",COURSE:"Course",EVENT:"Event",TOURNAMENT:"Tournament"};b=a;f["default"]=b}),66);
__d("eventCometGetEventPurposeForFbtEnum",["eventCometEventIsClass","eventCometEventIsCourse","eventCometEventIsTournament"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.is_remote_learning_class,c=a.is_remote_learning_course;a=a.is_tournament;if(b)return c?"COURSE":"CLASS";return a?"TOURNAMENT":"EVENT"}function a(a,b){return h({is_remote_learning_class:d("eventCometEventIsClass").eventCometEventIsClass(a),is_remote_learning_course:d("eventCometEventIsCourse").eventCometEventIsCourse(b),is_tournament:d("eventCometEventIsTournament").eventCometEventIsTournament(a)})}g.eventCometGetEventPurposeForFbtEnumFromData=h;g.eventCometGetEventPurposeForFbtEnum=a}),98);
__d("CometPickerNullStateContainer.react",["CometColumn.react","CometColumnItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.notExpanding;d=d===void 0?!1:d;a=a.xstyle;return h.jsx(c("CometColumn.react"),{align:"center",expanding:!d,verticalAlign:"center",xstyle:a,children:h.jsx(c("CometColumnItem.react"),{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPickerNullState.react",["CometPickerNullStateContainer.react","TetraNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.headline;b=b===void 0?null:b;var d=a.notExpanding;d=d===void 0?!1:d;var e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["headline","notExpanding","xstyle"]);return h.jsx(c("CometPickerNullStateContainer.react"),{notExpanding:d,xstyle:e,children:h.jsx(c("TetraNullState.react"),babelHelpers["extends"]({},a,{bodyColor:"tertiary",headline:b}))})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("UtcLocalJsDateUtils",["DateConsts"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_MIN,h=b("DateConsts").MS_PER_SEC;function i(a){return new Date(a.getTime()-k(a))}function a(a){return a==null?null:i(a)}function j(a){var b=k(a),c=new Date(a.getTime()+b),d=k(c);if(b===d)return c;else return new Date(a.getTime()+d)}function c(a){return a==null?null:j(a)}function d(a){return j(m(a))}function f(a){return a==null?null:j(m(a))}function k(a){return a.getTimezoneOffset()*g}function l(a){return new Date(a*h)}b=l;var m=l;e.exports={localDateFromLocalTimestampSeconds:b,localDateFromUtcDate:j,localDateFromUtcDateNullable:c,localDateFromUtcTimestampSeconds:d,localDateFromUtcTimestampSecondsNullable:f,utcDateFromLocalDate:i,utcDateFromLocalDateNullable:a,utcDateFromUtcTimestampSeconds:m}}),null);
__d("CometComposerFocusImage.react",["CometFeedFocusMedia.react","CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;b=.5;e=.5;function a(a){var b=a.alt,d=a.focusX,e=a.focusY,f=a.imageHeight,g=a.imageWidth,j=a.onError,k=a.src;a=a.viewportAspectRatio;var l=i(function(){j&&j();return void 0},[j]);return h.jsx("div",{className:"stjgntxs ni8dbmo4",children:h.jsx(c("CometFeedFocusMedia.react"),{focusX:d,focusY:e,mediaHeight:f,mediaWidth:g,viewportAspectRatio:a,children:function(a){return h.jsx(c("CometImage.react"),{alt:b,onError:l,src:k,xstyle:a})}})})}a.displayName=a.name+" [from "+f.id+"]";d=h.memo(a);g.DEFAULT_FOCUS_X=b;g.DEFAULT_FOCUS_Y=e;g.CometComposerFocusImage=d}),98);
__d("ComposerCometPhotoLayoutMediaAttachmentContext",["CometComposerFocusImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={adID:null,focusX:d("CometComposerFocusImage.react").DEFAULT_FOCUS_X,focusY:d("CometComposerFocusImage.react").DEFAULT_FOCUS_Y,mediasetToken:null,numPhotosNotShown:0,shouldRoundCorners:!0,shouldShowOverlay:!1,viewportAspectRatio:1};c=a.createContext(b);g["default"]=c}),98);
__d("cometComposerValidateNoMediaCurrentlyUploading",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["NEW","QUEUED","UPLOADING"];function a(a){return(a.mediaAttachments||[]).some(function(a){return i.includes(a.state)})?h._(/*FBT_CALL*/"B\u1ea1n kh\u00f4ng th\u1ec3 \u0111\u0103ng khi file ph\u01b0\u01a1ng ti\u1ec7n \u0111ang t\u1ea3i l\u00ean"/*FBT_CALL*/):null}g["default"]=a}),98);
__d("EventCometComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({errorMetadata:null,isSaving:!1,mode:"create"});g["default"]=b}),98);
__d("CometPhotoLayoutMediaOverlay.react",["fbt","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.numItemsNotShown;return i.jsx("div",{className:"hzruof5a taijpn5t cbu4d94t j83agx80 sx5rzos5 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:i.jsx(c("TetraText.react"),{align:"center",color:"white",type:"entityHeaderHeadline2",children:h._(/*FBT_CALL*/"+{num}"/*FBT_CALL*/,[h._param("num",a)])})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfilePlusPlatformTool",[],(function(a,b,c,d,e,f){a=Object.freeze({ADS_MANAGER:"ADS_MANAGER",BUSINESS_MANAGER:"BUSINESS_MANAGER",BUSINESS_SUITE:"BUSINESS_SUITE",CREATOR_STUDIO:"CREATOR_STUDIO"});f["default"]=a}),66);
__d("CometPageResharesComposerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4402079379881228"}),null);