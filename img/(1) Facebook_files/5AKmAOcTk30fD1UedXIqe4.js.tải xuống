if (self.CavalryLogger) { CavalryLogger.start_js(["R40gjk4"]); }

__d("CometCommunityCommentSignalRenderer_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometCommunityCommentSignalRenderer_comment",selections:[{alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometIdentityBadges_identityBadge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometIdentityBadges_identityBadge",selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null}],type:"IdentityBadge",abstractKey:null};e.exports=a}),null);
__d("CometInlineIdentityBadge_identityBadge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometInlineIdentityBadge_identityBadge",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},action:"LOG",path:"gaming_video_image_uri"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null},action:"LOG",path:"gaming_video_dark_mode_image_uri"}],type:"IdentityBadge",abstractKey:null};e.exports=a}),null);
__d("CometUFIBanActorLink_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIBanActorLink_comment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:[a],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIBanActorMutation_comment"}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActorAMAQuestionAnswerBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorAMAQuestionAnswerBadge_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActorLinkBadges_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFICommentActorLinkBadges_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorConstituentBadge_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorAMAQuestionAnswerBadge_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentWorkActorLinkBadges_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentInlineFollowCTA_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorFishbowlBadgeDeferred_comment"},{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActorName_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorName_comment",selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentActorLink_comment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBContextualProfileInfo",kind:"LinkedField",name:"author_contextual_profile_info",plural:!1,selections:[a],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentBodyStandaloneEmoji_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"translationType"}],kind:"Fragment",metadata:null,name:"CometUFICommentBodyStandaloneEmoji_comment",selections:[{alias:null,args:[{kind:"Variable",name:"translation_type",variableName:"translationType"}],concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentBody_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"translation_type",variableName:"translationType"}],b=[{kind:"Variable",name:"feedLocation",variableName:"feedLocation"}];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:null,kind:"LocalArgument",name:"translationType"}],kind:"Fragment",metadata:null,name:"CometUFICommentBody_comment",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentBodyTextWithEntities_textWithEntities"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextWithEntities",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:null},{alias:"body_renderer",args:a,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:null},{args:[{kind:"Variable",name:"translationType",variableName:"translationType"}],kind:"FragmentSpread",name:"CometUFICommentBodyStandaloneEmoji_comment"},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorName_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorLinkBadges_comment"},{args:null,kind:"FragmentSpread",name:"useCometUFICommentActorLinkBadges_comment"},{args:b,kind:"FragmentSpread",name:"CometUFICommentIdentityBadges_comment"},{args:b,kind:"FragmentSpread",name:"CometUFICommentInlineIdentityBadges_comment"},{alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},{alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentDisabledNotice_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentDisabledNotice_feedback",selections:[{alias:"display_comments_count",args:null,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comments_disabled_notice_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometGenericCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"GeneralCommentDisableNotice",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometGroupForumCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"GroupForumParticipantDisableNotice",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometLiveVideoCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"LiveVideoCommentDisableNotice",abstractKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentEditHistoryDialogQuery$Parameters",["CometUFICommentEditHistoryDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFICommentEditHistoryDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentEditHistoryDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentIdentityBadges_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFICommentIdentityBadges_comment",selections:[{alias:null,args:a,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometIdentityBadges_identityBadge"},{args:null,kind:"FragmentSpread",name:"CometIdentityBadgeInformationDialog_identityBadge"},{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:a,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometIdentityBadgeInformationDialog_comment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[b],storageKey:null},b],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentInGroup_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInGroup_feedback",selections:[{alias:"threading_config_type",args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentInGroup_feedback",fragmentName:"CometUFIFullThreadedTopLevelCommentContainer_config",fragmentPropName:"config",kind:"ModuleImport"}],type:"FullThreadingFeedbackConfig",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["DefaultRepliesListRenderer","FullThreadedRepliesListRenderer"]}],concreteType:null,kind:"LinkedField",name:"replies_list_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentInGroup_feedback__replies_list_renderer",fragmentName:"CometUFIDefaultRepliesListRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"DefaultRepliesListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentInGroup_feedback__replies_list_renderer",fragmentName:"CometUFIFullThreadedRepliesListRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FullThreadedRepliesListRenderer",abstractKey:null}],storageKey:'replies_list_renderer(supported:["DefaultRepliesListRenderer","FullThreadedRepliesListRenderer"])'}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentInlineIdentityBadges_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFICommentInlineIdentityBadges_comment",selections:[{kind:"RequiredField",field:{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometInlineIdentityBadge_identityBadge"},{args:null,kind:"FragmentSpread",name:"CometIdentityBadgeInformationDialog_identityBadge"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},action:"LOG",path:"identity_badges_web.identity_badge_type"}],storageKey:null},action:"LOG",path:"identity_badges_web"},{args:null,kind:"FragmentSpread",name:"CometIdentityBadgeInformationDialog_comment"}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentList_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},c=[b];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentList_feedback",selections:[{alias:null,args:null,concreteType:"AskMeAnythingFeedbackMetadata",kind:"LinkedField",name:"ask_me_anything_feedback_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null}],storageKey:null},a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},b],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:c,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_vc_acting_as_page_or_profile_plus",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_feedback"},{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIComposer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentMenuButton_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:null,kind:"LocalArgument",name:"translationType"}],kind:"Fragment",metadata:null,name:"CometUFICommentMenuButton_comment",selections:[{alias:null,args:a,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},{alias:null,args:a,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentMenuQuery$Parameters",["CometUFICommentMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFICommentMenuQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4661078100581087"}),null);
__d("CometUFICommentRefetchQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometUFICommentRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"id"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:"ORIGINAL",kind:"LocalArgument",name:"translationType"},f={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},g=[{kind:"Variable",name:"id",variableName:"id"}],h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j={kind:"Variable",name:"feed_location",variableName:"feedLocation"},k=[j],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n=[m],o={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},r={kind:"Literal",name:"height",value:32},s={kind:"Variable",name:"scale",variableName:"scale"},t={kind:"Literal",name:"width",value:32},u=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],v={kind:"Literal",name:"height",value:24},w={kind:"Literal",name:"width",value:24},x={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},y={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},z=[y],A=[h,i],B={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},C={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"svg_image",plural:!1,selections:u,storageKey:null},D=[i],E={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};y={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},y],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var F=[{kind:"Variable",name:"translation_type",variableName:"translationType"}],G={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},H={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},I={kind:"Variable",name:"pixel_ratio",variableName:"scale"},J={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},V={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"CometUFICommentRefetchQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"translationType",variableName:"translationType"}],kind:"FragmentSpread",name:"CometUFIComment_comment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,e,f,c],kind:"Operation",name:"CometUFICommentRefetchQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:k,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},{alias:null,args:k,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[h,i,l,{kind:"InlineFragment",selections:n,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[m,o],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},o,p,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},q,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Entity",abstractKey:"__isEntity"},{kind:"TypeDiscriminator",abstractKey:"__isActor"},{alias:"profile_picture_depth_0",args:[r,s,t],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},{alias:"profile_picture_depth_1",args:[v,s,w],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"has_reply_permission",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[i,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"private_reply_render",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"CometUFICommentPrivateReplyLinkRenderer_privateReplyCometRenderer",fragmentPropName:"privateReplyCometRenderer",kind:"ModuleImport"}],type:"PagesMessagingPrivateReplyCometRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"BizInboxCommentPrivateReplyLinkRenderer_privateReplyBizRenderer",fragmentPropName:"privateReplyBizRenderer",kind:"ModuleImport"}],type:"BizMessagingPrivateReplyRenderer",abstractKey:null}],storageKey:null},x],storageKey:null},{alias:null,args:z,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:A,storageKey:null},{alias:null,args:z,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[i,B],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_use_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback",fragmentName:"GroupsCometUFICustomReactionsMenuRow_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},i],storageKey:null},{alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[{alias:null,args:null,concreteType:"FeedbackReactionAnimation",kind:"LinkedField",name:"animation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_keyframes2",storageKey:null}],storageKey:null},B,i,{alias:null,args:null,kind:"ScalarField",name:"reaction_id",storageKey:null},C],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:D,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[B,i,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},C],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[E,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},y,{alias:null,args:z,kind:"ScalarField",name:"can_viewer_react",storageKey:null},{alias:null,args:z,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"QAUFIActionLinksCommentModuleRenderer",kind:"LinkedField",name:"qa_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__qa_action_links_comment_renderer",fragmentName:"GeminiUFIQAActionLinks_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ama_question",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[y,i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[h,l,{kind:"InlineFragment",selections:[p,q],type:"User",abstractKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:[E],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},{alias:null,args:z,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:D,storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[l,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},i],storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action",storageKey:null},{alias:null,args:F,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},{kind:"InlineFragment",selections:[G,H],type:"TextWithEntities",abstractKey:null},G],storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[i,{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_upvote_downvote",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_upvote_downvote",fragmentName:"CometUFIVoteCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},i],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_award",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_award",fragmentName:"CometUFICommentAwardActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},i],storageKey:null},{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_privacy_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_privacy_value",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_declined_by_group_admin_assistant",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_declined_by_group_admin_assistant",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},i],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_learn_more_about_pending_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_learn_more_about_pending_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:"body_renderer",args:F,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"XFBStagesCommentInfo",kind:"LinkedField",name:"stages_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_stages",fragmentName:"StagesCommentProfileLink_stagesCommentInfo",fragmentPropName:"stagesCommentInfo",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"XFBContextualProfileInfo",kind:"LinkedField",name:"author_contextual_profile_info",plural:!1,selections:[l,{alias:"contextual_profile_picture_depth_0",args:[r,I,t],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},{alias:"contextual_profile_picture_depth_1",args:[v,I,w],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spotlight_normie_comment",storageKey:null},{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null},{alias:null,args:[j,{kind:"Literal",name:"supported",value:["CometUFICommentActorConstituentBadge","CometUFICommentActorVerifiedBadge","CometUFICommentActorUserSignalsRenderer","CometUFICommentActorAMAQuestionAnswerBadge","CometUFICommentInlineFollowCTARenderer","GeminiUFICommentActorDeactivatedAccountBadge","GeminiUFICommentActorBotBadge","GeminiUFICommentActorNonCoworkerBadge","CometUFICommentPostAuthorBadge","GeminiUFICommentQAAnswerBadge","GeminiUFICommentQASocialAnswerBadge","GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge"]}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQASocialAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQASocialAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorEnhancedAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge",abstractKey:null}],storageKey:null},{alias:null,args:k,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},H,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},J,K,L,M,N,O,P,Q,R,S,T,U,V,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null},{alias:null,args:k,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null},{alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"earned_identity_badges_web",plural:!0,selections:[J,K,L,M,N,O,P,Q,R,S,T,U,V],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},{alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:A,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["StarsElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["StarsElevatedCommentData"])'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null}]}],type:"Comment",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFICommentRefetchQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentRow_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentRow_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},a,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null},{alias:"profile_picture_depth_1",args:[{kind:"Literal",name:"height",value:24},a,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("CometUFICommentRow_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"pixel_ratio",variableName:"scale"},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentRow_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBContextualProfileInfo",kind:"LinkedField",name:"author_contextual_profile_info",plural:!1,selections:[{alias:"contextual_profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},a,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null},{alias:"contextual_profile_picture_depth_1",args:[{kind:"Literal",name:"height",value:24},a,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorLink_comment"}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentTopReactionsWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentTopReactionsWrapper_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentTopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentTopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentTopReactions_feedback",selections:[{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},b,{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"svg_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIComment_comment.graphql",["CometUFICommentRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"translationType",variableName:"translationType"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:"ORIGINAL",kind:"LocalArgument",name:"translationType"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("CometUFICommentRefetchQuery.graphql"),identifierField:"id"}},name:"CometUFIComment_comment",selections:[{args:null,kind:"FragmentSpread",name:"CometCommunityCommentSignalRenderer_comment"},{args:a,kind:"FragmentSpread",name:"CometFeedStoryUFICommentAttachments_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentMenuButton_comment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[c,d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentRow_actor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{args:a,kind:"FragmentSpread",name:"CometUFICommentActionLinks_comment"},{args:a,kind:"FragmentSpread",name:"CometUFICommentBody_comment"},{kind:"InlineDataFragmentSpread",name:"isCommentNewSinceLastGroupVisit_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[c],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentRow_comment"},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentTopReactionsWrapper_feedback"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},d,{alias:null,args:[{kind:"Variable",name:"translation_type",variableName:"translationType"}],concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["StarsElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["StarsElevatedCommentData"])'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIComment_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIComment_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActionLinks_feedback"},a],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentsProviderPaginationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6562152500492250"}),null);
__d("CometUFICommentsProviderPaginationQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometUFICommentsProviderPaginationQuery_facebookRelayOperation"],(function(a,aa,ba,ca,da,ea){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},ba={defaultValue:null,kind:"LocalArgument",name:"after"},ca={defaultValue:null,kind:"LocalArgument",name:"before"},da={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},ea={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},fa={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},ga={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},ha={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},ia={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},ja={defaultValue:null,kind:"LocalArgument",name:"feedbackID"},ka={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},la={defaultValue:null,kind:"LocalArgument",name:"first"},ma={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},na={defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},oa={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},pa={defaultValue:null,kind:"LocalArgument",name:"initialViewOption"},qa={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},ra={defaultValue:!0,kind:"LocalArgument",name:"isPaginating"},sa={defaultValue:null,kind:"LocalArgument",name:"last"},ta={defaultValue:null,kind:"LocalArgument",name:"scale"},ua={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},va={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},wa={defaultValue:null,kind:"LocalArgument",name:"viewOption"},xa=[{kind:"Variable",name:"id",variableName:"feedbackID"}],ya={kind:"Variable",name:"after",variableName:"after"},za={kind:"Variable",name:"before",variableName:"before"},Aa={kind:"Variable",name:"first",variableName:"first"},Ba={kind:"Variable",name:"last",variableName:"last"},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},c={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},d={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},e={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},f={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},g={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},h={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},i={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},j={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},k={kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},l={kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"},Da=[ya,za,{kind:"Variable",name:"comment_order",variableName:"viewOption"},c,d,e,f,g,h,i,Aa,j,{kind:"Variable",name:"initial_comment_order",variableName:"initialViewOption"},k,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},Ba,l],Ea={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},Fa={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Ha={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},p=[o],q={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},t={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},Ia={kind:"TypeDiscriminator",abstractKey:"__isActor"},u={kind:"Literal",name:"height",value:32},v={kind:"Variable",name:"scale",variableName:"scale"},w={kind:"Literal",name:"width",value:32},x={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},y=[x],Ja={alias:"profile_picture_depth_0",args:[u,v,w],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:y,storageKey:null},z={kind:"Literal",name:"height",value:24},A={kind:"Literal",name:"width",value:24},B=[z,v,A],Ka={alias:"profile_picture_depth_1",args:B,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:y,storageKey:null};q={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[m,b,n,{kind:"InlineFragment",selections:p,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[o,q],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},q,r,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},s,t],type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Entity",abstractKey:"__isEntity"},Ia,Ja,Ka],storageKey:null};p={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null};var La={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},Na={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},Oa={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},C={kind:"Variable",name:"feed_location",variableName:"feedLocation"},D=[C],Pa={alias:null,args:D,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},Qa={alias:null,args:D,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},Ra={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[E,{alias:null,args:null,kind:"ScalarField",name:"has_reply_permission",storageKey:null}],storageKey:null};E={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"private_reply_render",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"CometUFICommentPrivateReplyLinkRenderer_privateReplyCometRenderer",fragmentPropName:"privateReplyCometRenderer",kind:"ModuleImport"}],type:"PagesMessagingPrivateReplyCometRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"BizInboxCommentPrivateReplyLinkRenderer_privateReplyBizRenderer",fragmentPropName:"privateReplyBizRenderer",kind:"ModuleImport"}],type:"BizMessagingPrivateReplyRenderer",abstractKey:null}],storageKey:null},E],storageKey:null};var F={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},G=[F],H=[m,b],Sa={alias:null,args:G,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:H,storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Ta={alias:null,args:G,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[b,I],storageKey:null},Ua={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_use_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback",fragmentName:"GroupsCometUFICustomReactionsMenuRow_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},b],storageKey:null},J={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"svg_image",plural:!1,selections:y,storageKey:null},Va={alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[{alias:null,args:null,concreteType:"FeedbackReactionAnimation",kind:"LinkedField",name:"animation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_keyframes2",storageKey:null}],storageKey:null},I,b,{alias:null,args:null,kind:"ScalarField",name:"reaction_id",storageKey:null},J],storageKey:null},K=[b],Wa={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:K,storageKey:null};I={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[I,b,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},J],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'};J={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[Ga,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null};F={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},F],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var Xa={alias:null,args:G,kind:"ScalarField",name:"can_viewer_react",storageKey:null},Ya={alias:null,args:G,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},$a=[Ga];t={kind:"InlineFragment",selections:[s,t],type:"User",abstractKey:null};c=[c,d,e,f,g,h,i,j,k,{kind:"Literal",name:"is_top_level",value:!1},l];d={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[m,n,{alias:"profilePictureForReplyExpander",args:B,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:y,storageKey:null},t,b],storageKey:null},La,b],storageKey:null};e={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null};f={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:K,storageKey:null};g={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null};h={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null};k={alias:"sub_replies_count",args:[{kind:"Literal",name:"comment_order",value:"SUB_REPLIES"},{kind:"Literal",name:"top_level_comment_order",value:"TOPLEVEL"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:$a,storageKey:'display_comments(comment_order:"SUB_REPLIES",top_level_comment_order:"TOPLEVEL")'};l={alias:null,args:null,kind:"ScalarField",name:"is_hide_transparency_enabled_for_actor",storageKey:null};B={alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};var ab={alias:null,args:null,concreteType:"QAUFIActionLinksCommentModuleRenderer",kind:"LinkedField",name:"qa_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__qa_action_links_comment_renderer",fragmentName:"GeminiUFIQAActionLinks_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},cb={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},db={alias:null,args:null,kind:"ScalarField",name:"is_ama_question",storageKey:null};r={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[b,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[F,b],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[m,n,{kind:"InlineFragment",selections:[r,s],type:"User",abstractKey:null},b],storageKey:null}],storageKey:null};s={alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:$a,storageKey:null};var eb={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},{alias:null,args:G,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:K,storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[n,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},b],storageKey:null},b],storageKey:null}],storageKey:null},fb={alias:null,args:null,kind:"ScalarField",name:"ban_action",storageKey:null},L=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],M={args:null,fragment:aa("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},N={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};M={alias:null,args:L,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},{kind:"InlineFragment",selections:[M,N],type:"TextWithEntities",abstractKey:null},M],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var gb={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},hb={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},jb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[b,{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},kb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_upvote_downvote",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_upvote_downvote",fragmentName:"CometUFIVoteCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},b],storageKey:null},lb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_award",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_award",fragmentName:"CometUFICommentAwardActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},b],storageKey:null},mb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_privacy_status",storageKey:null}],storageKey:null},nb={alias:null,args:null,kind:"ScalarField",name:"comment_privacy_value",storageKey:null},ob={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_declined_by_group_admin_assistant",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_declined_by_group_admin_assistant",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},b],storageKey:null},pb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_learn_more_about_pending_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_learn_more_about_pending_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"},b],storageKey:null};L={alias:"body_renderer",args:L,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var qb={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},rb={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},ub={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},vb={alias:null,args:null,concreteType:"XFBStagesCommentInfo",kind:"LinkedField",name:"stages_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_stages",fragmentName:"StagesCommentProfileLink_stagesCommentInfo",fragmentPropName:"stagesCommentInfo",kind:"ModuleImport"}],storageKey:null},O={kind:"Variable",name:"pixel_ratio",variableName:"scale"};u={alias:null,args:null,concreteType:"XFBContextualProfileInfo",kind:"LinkedField",name:"author_contextual_profile_info",plural:!1,selections:[n,{alias:"contextual_profile_picture_depth_0",args:[u,O,w],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:y,storageKey:null},{alias:"contextual_profile_picture_depth_1",args:[z,O,A],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:y,storageKey:null}],storageKey:null};w={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null};z={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null};O={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null};y={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null};var wb={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},xb={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},yb={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},zb={alias:null,args:null,kind:"ScalarField",name:"is_spotlight_normie_comment",storageKey:null},Ab={alias:null,args:D,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null};C={alias:null,args:[C,{kind:"Literal",name:"supported",value:["CometUFICommentActorConstituentBadge","CometUFICommentActorVerifiedBadge","CometUFICommentActorUserSignalsRenderer","CometUFICommentActorAMAQuestionAnswerBadge","CometUFICommentInlineFollowCTARenderer","GeminiUFICommentActorDeactivatedAccountBadge","GeminiUFICommentActorBotBadge","GeminiUFICommentActorNonCoworkerBadge","CometUFICommentPostAuthorBadge","GeminiUFICommentQAAnswerBadge","GeminiUFICommentQASocialAnswerBadge","GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge"]}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQASocialAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQASocialAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorEnhancedAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge",abstractKey:null}],storageKey:null};var P={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},Bb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null},Cb={alias:null,args:D,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},N,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},P,Q,R,S,T,U,V,W,X,Y,Z,$,Bb,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null};D={alias:null,args:D,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};P={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"earned_identity_badges_web",plural:!0,selections:[P,Q,R,S,T,U,V,W,X,Y,Z,$,Bb],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};R={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};S={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null};U={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"},{alias:null,args:[v],concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null}],storageKey:null};V={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:H,storageKey:null};W={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:H,storageKey:null};X={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null};Y={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};Z={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null};$={alias:null,args:[{kind:"Literal",name:"supported",value:["StarsElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["StarsElevatedCommentData"])'};Bb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[N,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[m,{kind:"InlineFragment",selections:K,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};x={alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null};H={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:K,storageKey:null};N={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null};var Db={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},Eb={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},Fb={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},Gb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]},Hb=["feedback_source","focus_comment_id","comment_order"],Ib={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"};return{fragment:{argumentDefinitions:[a,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:xa,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:[ya,za,Aa,{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"initialViewOption",variableName:"initialViewOption"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"isPaginating",variableName:"isPaginating"},Ba,{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"},{kind:"Variable",name:"viewOption",variableName:"viewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ba,ca,ha,da,ea,fa,ga,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,a],kind:"Operation",name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:xa,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,Ca,{alias:null,args:Da,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[Ea,Fa,Ga,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[b,Ha,q,p,La,Ma,Na,Oa,Pa,Qa,Ra,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,E,Sa,Ta,Ua,Va,Wa,I,J,F,Xa,Ya,Za,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"AskMeAnythingFeedbackMetadata",kind:"LinkedField",name:"ask_me_anything_feedback_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null}],storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:$a,storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[m],storageKey:null},{alias:null,args:G,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[Ia,n,Ja,Ka,t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_vc_acting_as_page_or_profile_plus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:K,storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled_with_comments",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnswerEventActionLinksCommentModuleRenderer",kind:"LinkedField",name:"work_answer_event_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_feedback_work_answer_event_action_links_comment_renderer",fragmentName:"GeminiUFIAMABroadcastAnswerActionLinks_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_admin_hide_eligible",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_quick_hide_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_feedback",fragmentName:"CometUFIHideCommentLink_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},b],storageKey:null},Ca,{alias:null,args:c,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[d,e,f,g,h,i,j,Ea,Fa,Ga,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[b,Ha,q,p,La,Ma,Na,Oa,Pa,Qa,Ra,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,E,Sa,Ta,Ua,Va,Wa,I,J,F,Xa,Ya,Za,k,l],storageKey:null},B,ab,bb,cb,db,r,s,eb,fb,M,gb,hb,o,ib,jb,kb,lb,mb,nb,ob,pb,L,qb,rb,sb,tb,ub,vb,u,w,z,O,A,y,wb,xb,yb,zb,Ab,C,Cb,D,P,Q,R,S,T,U,V,W,X,Y,Z,$,Bb,v,x,H,N,m,Db],storageKey:null},Eb],storageKey:null},Fb,Gb],storageKey:null},{alias:null,args:c,filters:Hb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:Ib}]}],storageKey:null},B,ab,bb,cb,db,r,s,eb,fb,M,gb,hb,o,ib,jb,kb,lb,mb,nb,ob,pb,L,qb,rb,sb,tb,ub,vb,u,w,z,O,A,y,wb,xb,yb,zb,Ab,C,Cb,D,P,Q,R,S,T,U,V,W,X,Y,Z,$,Bb,v,H,N,m,Db,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[k,l],storageKey:null},x]}],storageKey:null},Eb],storageKey:null},Fb,{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[d]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[e,f,g,h,i,j,Gb]}],storageKey:null},{alias:null,args:Da,filters:Hb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:Ib}],storageKey:null}]},params:{id:aa("CometUFICommentsProviderPaginationQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentsProviderPaginationQuery",operationKind:"query",text:null}}}();da.exports=a}),null);
__d("CometUFICommentsProviderReadCommentsPageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3607425856026656"}),null);
__d("CometUFICommentsProviderReadCommentsPageQuery.graphql",["CometUFICommentsProviderReadCommentsPageQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},g={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},i={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackID"},k={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},l={defaultValue:null,kind:"LocalArgument",name:"first"},m={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},n={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},o={defaultValue:null,kind:"LocalArgument",name:"initialViewOption"},p={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},q={defaultValue:null,kind:"LocalArgument",name:"last"},r={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},s={defaultValue:null,kind:"LocalArgument",name:"viewOption"},t=[{kind:"Variable",name:"id",variableName:"feedbackID"}],u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},v={alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},{kind:"Variable",name:"initial_comment_order",variableName:"initialViewOption"},{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[u],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:t,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[v],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,h,d,e,f,g,i,j,k,l,m,n,o,p,q,r,s],kind:"Operation",name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:t,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[v,u],storageKey:null}]},params:{id:b("CometUFICommentsProviderReadCommentsPageQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentsProviderReadCommentsPageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsHighlightedComments"};e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsMetadata"};e.exports=a}),null);
__d("CometUFICommentsProvider_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"};return{argumentDefinitions:[{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey"},{defaultValue:!1,kind:"LocalArgument",name:"__false"},{defaultValue:!0,kind:"LocalArgument",name:"__true"},{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{defaultValue:null,kind:"LocalArgument",name:"first"},{kind:"RootArgument",name:"focusCommentID"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:null,kind:"LocalArgument",name:"initialViewOption"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{defaultValue:!1,kind:"LocalArgument",name:"isPaginating"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},{kind:"RootArgument",name:"useDefaultActor"},{defaultValue:null,kind:"LocalArgument",name:"viewOption"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:["display_comments"]}]},name:"CometUFICommentsProvider_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:"display_comments",args:[{kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"__UFI2CommentsProvider_feedback_display_comments_ufi2_comments",plural:!1,selections:[{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsHighlightedComments",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIRepliesExpander_highlightedComments"}],storageKey:null}]}]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsMetadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]}]}]},{alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[c,a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIFullThreadedReplyContainer_comment"}]},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},d],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:[d],kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"__true"},{kind:"Variable",name:"includeNestedComments",variableName:"__false"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"}]}],storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_inlineSurveyConfig"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:b,storageKey:null},{alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIComposerWrapperUseComposerPluginProps_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIComposerWrapperUseComposerPluginProps_feedback",selections:[{args:null,kind:"FragmentSpread",name:"useCometUFIComposerPlugins_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIComposerWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIComposerWrapper_feedback",selections:[{alias:null,args:null,concreteType:"ConstituentBadgeBannerRenderer",kind:"LinkedField",name:"constituent_badge_banner_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComposerWrapper_feedback_constituentBadgeBanner",fragmentName:"CometUFICommentingAsConstituentHeader_constituentBadgeBannerRenderer",fragmentPropName:"constituentBadgeBannerRenderer",kind:"ModuleImport"}],storageKey:null},{alias:"composer_renderer",args:null,concreteType:null,kind:"LinkedField",name:"content_based_comment_list_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComposerWrapper_feedback_commentList",fragmentName:"CometDefaultCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"DefaultContentBasedCommentListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComposerWrapper_feedback_commentList",fragmentName:"CometLiveCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"LiveContentBasedCommentListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComposerWrapper_feedback_commentList",fragmentName:"CometLiveVODCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"LiveVODContentBasedCommentListRenderer",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometUFIDisabledNotice_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIComposer_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"__false"}],kind:"Fragment",metadata:null,name:"CometUFIComposer_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentRow_actor"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIComposer_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIComposer_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIEditHistoryCommentActionLink_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIEditHistoryCommentActionLink_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIPinActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIPinActionLink_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIReactionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIReactionLink_feedback",selections:[a,{alias:null,args:b,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIReactionsMenu_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIRemovePreviewMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3949836591728545"}),null);
__d("CometUFIRemovePreviewMutation.graphql",["CometUFIRemovePreviewMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:e,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIRemovePreviewMutation",selections:[{alias:null,args:c,concreteType:"CommentDeleteAttachmentResponsePayload",kind:"LinkedField",name:"comment_delete_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:e,storageKey:null},f,g],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIRemovePreviewMutation",selections:[{alias:null,args:c,concreteType:"CommentDeleteAttachmentResponsePayload",kind:"LinkedField",name:"comment_delete_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[d,h],storageKey:null},f,g,h],storageKey:null}],storageKey:null}]},params:{id:b("CometUFIRemovePreviewMutation_facebookRelayOperation"),metadata:{},name:"CometUFIRemovePreviewMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIRepliesExpander_highlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{plural:!0},name:"CometUFIRepliesExpander_highlightedComments",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profilePictureForReplyExpander",args:[{kind:"Literal",name:"height",value:24},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIUnpinActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIUnpinActionLink_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActionLinks_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c=[b],d={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},e={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},d],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};d=[d];var f=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:"ORIGINAL",kind:"LocalArgument",name:"translationType"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentActionLinks_comment",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIPageAdminPrivateReplyContext_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentErrorFooter_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIEditHistoryCommentActionLink_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIPageAdminActorInfo_comment"},{alias:null,args:null,concreteType:"QAUFIActionLinksCommentModuleRenderer",kind:"LinkedField",name:"qa_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__qa_action_links_comment_renderer",fragmentName:"GeminiUFIQAActionLinks_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:c,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:c,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ama_question",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIReactionLink_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIReactionLinkNext_feedback"},e,{alias:null,args:d,kind:"ScalarField",name:"can_viewer_react",storageKey:null},{alias:null,args:d,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:f,storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},{alias:null,args:d,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:f,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action",storageKey:null},{alias:null,args:[{kind:"Variable",name:"translation_type",variableName:"translationType"}],concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},b,{args:null,kind:"FragmentSpread",name:"CometUFIBanActorLink_comment"},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_upvote_downvote",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_upvote_downvote",fragmentName:"CometUFIVoteCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_award",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_award",fragmentName:"CometUFICommentAwardActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_privacy_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_privacy_value",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_declined_by_group_admin_assistant",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_declined_by_group_admin_assistant",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_learn_more_about_pending_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_comment__if_viewer_can_learn_more_about_pending_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActionLinks_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentActionLinks_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIPinActionLink_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIUnpinActionLink_feedback"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled_with_comments",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnswerEventActionLinksCommentModuleRenderer",kind:"LinkedField",name:"work_answer_event_action_links_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_feedback_work_answer_event_action_links_comment_renderer",fragmentName:"GeminiUFIAMABroadcastAnswerActionLinks_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_admin_hide_eligible",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_quick_hide_comment",plural:!1,selections:[{args:null,documentName:"CometUFICommentActionLinks_feedback",fragmentName:"CometUFIHideCommentLink_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIPageAdminActorInfo_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIPageAdminActorInfo_comment",selections:[{alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIPageAdminPrivateReplyContext_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIPageAdminPrivateReplyContext_comment",selections:[a,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"has_reply_permission",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentPrivateReplyLink_feedback"},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryUFICommentAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryUFICommentAttachment_attachment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer"])'}],type:"StoryAttachment",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryUFICommentAttachments_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryUFICommentAttachments_comment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryUFICommentAttachment_attachment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentPrivateReplyLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentPrivateReplyLink_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"private_reply_render",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"CometUFICommentPrivateReplyLinkRenderer_privateReplyCometRenderer",fragmentPropName:"privateReplyCometRenderer",kind:"ModuleImport"}],type:"PagesMessagingPrivateReplyCometRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"BizInboxCommentPrivateReplyLinkRenderer_privateReplyBizRenderer",fragmentPropName:"privateReplyBizRenderer",kind:"ModuleImport"}],type:"BizMessagingPrivateReplyRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerGIFPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerGIFPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerGIFPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerGIFPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerGIFPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerGIFPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerGIFPlugin_pluginData"};e.exports=a}),null);
__d("useCometUFIComposerPlugins_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a],c=[{alias:null,args:null,kind:"ScalarField",name:"emoji_size",storageKey:null}],d=[{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null}],e={alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},f=[e],g={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:b,storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"useCometUFIComposerPlugins_feedback",selections:[{alias:"plugins",args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"},{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"comment_composer_plugins",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"cometUFIComposerParticipateQuestionPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:b,storageKey:null}],type:"CommentComposerParticipationQuestionPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerParticipateQuestionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerParticipationQuestionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentCharacterLimitPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCommentCharacterLimitPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerTipPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null}],type:"CommentComposerTipPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerTipPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerProfilePlusTipPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_admin_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feed_object_identifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_id",storageKey:null}],type:"CommentComposerProfilePlusTipPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerProfilePlusTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerProfilePlusTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerDelightsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerDelightsPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerEmojiPlugin_pluginData",selections:[{kind:"InlineFragment",selections:c,type:"CommentComposerEmojiPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmojiPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerGroupMentionsPlugin_pluginData",selections:[{kind:"InlineFragment",selections:d,type:"CommentComposerGroupMentionsPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupMentionsPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerGroupRulesMentionsPlugin_pluginData",selections:[{kind:"InlineFragment",selections:d,type:"CommentComposerGroupRulesMentionsPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesMentionsPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerGroupRulesTaggingEntryMentionsPlugin_pluginData",selections:[{kind:"InlineFragment",selections:d,type:"CommentComposerGroupRulesTaggingEntryMentionsPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesTaggingEntryMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesTaggingEntryMentionsPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerMentionsPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"mentions_datasource_js_constructor_args_json",storageKey:null}],type:"CommentComposerMentionsPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerHashtagPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerHashtagPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerMediaUploadPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a],storageKey:null}],type:"CommentComposerMediaUploadPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMediaUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMediaUploadPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerEmoticonPlugin_pluginData",selections:[{kind:"InlineFragment",selections:c,type:"CommentComposerEmoticonPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmoticonPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmoticonPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerGIFPlugin_pluginData",selections:[{kind:"InlineFragment",selections:f,type:"CommentComposerGIFPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGIFPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGIFPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerStarsPlugin_pluginData",selections:[{kind:"InlineFragment",selections:f,type:"CommentComposerStarsPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStarsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStarsPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerBotsComposerPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:b,storageKey:null}],type:"CommentComposerBotsComposerPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerBotsComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerBotsComposerPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerStickersPlugin_next_pluginData",selections:[{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"owning_profile_id",storageKey:null}],type:"CometComposerCometizedStickersPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStickersPlugin_next_plugin",fragmentPropName:"next_plugin",kind:"ModuleImport"}],type:"CometComposerCometizedStickersPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerPrefillMentionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSetReplyClickedPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerAvatarPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_avatar",storageKey:null}],type:"CommentComposerAvatarPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAvatarPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAvatarPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStateSnapshotPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerLiveTypingBroadcastPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[e,g],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerLiveTypingBroadcastPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerMarkdownPlugin_pluginData",selections:[{kind:"InlineFragment",selections:f,type:"CommentComposerMarkdownPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMarkdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMarkdownPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerFileUploadPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null}],type:"CommentComposerFileUploadPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerFileUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerFileUploadPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerSmartComposePlugin_pluginData",selections:[{kind:"InlineFragment",selections:f,type:"CommentComposerSmartComposePlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSmartComposePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSmartComposePlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerUnifiedInputPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"CommentComposerUnifiedInputPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnifiedInputPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnifiedInputPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSubmitPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommetComposerSubmitPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerGroupRulesPlugin_pluginData",selections:[{kind:"InlineFragment",selections:d,type:"CommentComposerGroupRulesPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerQPNUXPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"promotion",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"encrypted_logging_data",storageKey:null},{alias:null,args:null,concreteType:"QuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_seen_client",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trigger",storageKey:null}],type:"CommentComposerQPNUXPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerQPNUXPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerQPNUXPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerFactPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"fact_types",storageKey:null}],type:"CommentComposerFactPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerFactPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerFactPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerReputationSystemPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_inline_vote_enabled",storageKey:null}],type:"CommentComposerReputationSystemPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerReputationSystemPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerReputationSystemPlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerMessagePlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:b,storageKey:null}],type:"CommentComposerMessagePlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMessagePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMessagePlugin",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"cometUFIComposerGroupCommentSlowdownPlugin_pluginData",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_slowdown_message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"CommentComposerGroupCommentSlowdownPlugin",abstractKey:null}]},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupCommentSlowdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupCommentSlowdownPlugin",abstractKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("isCommentNewSinceLastGroupVisit_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"isCommentNewSinceLastGroupVisit_comment"};e.exports=a}),null);
__d("useCometUFIDisabledNotice_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometUFIDisabledNotice_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"are_live_video_comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_muted",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentDisabledNotice_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("isCommentTokenOrFBID_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"isCommentTokenOrFBID_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("UFIStopWatch",[],(function(a,b,c,d,e,f){"use strict";var g="COUNTING",h="PAUSED";a=function(){function a(){this.$1=h,this.$2=0,this.$3=0}var b=a.prototype;b.start=function(){if(this.$1===g)return this;this.$1=g;this.$3=Date.now();return this};b.pause=function(){if(this.$1===h)return this;this.$1=h;this.$2+=Date.now()-this.$3;return this};b.reset=function(){this.$2=0;this.$3=0;this.$1==g&&(this.$3=Date.now());return this};b.state=function(){return this.$1};b.milliseconds=function(){var a=0;this.$1===g&&(a=Date.now()-this.$3);return this.$2+a};b.getStartTime=function(){return this.$3};return a}();a.COUNTING=g;a.PAUSED=h;f["default"]=a}),66);
__d("CometOutlineContentEditable.react",["react","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k={editor:{color:"oo9gr5id",outline:"lzcic4wl",overflowWrap:"jm1wdb64",position:"l9j0dhe7",textAlign:"gsox5hk5",userSelect:"mdldhsdk",whiteSpace:"ii04i59q"}};function a(a){var b=a.ariaActiveDescendantID,d=a.ariaAutoComplete,e=a.ariaControls,f=a.ariaDescribedBy,g=a.ariaExpanded,l=a.ariaLabel,m=a.ariaLabelledBy,n=a.ariaMultiline,o=a.ariaOwneeID,p=a.ariaRequired,q=a.autoCapitalize,r=a.autoComplete,s=a.autoCorrect,t=a.contentEditableRef,u=a.isInitiallyFocused,v=u===void 0?!1:u;u=a.readOnly;u=u===void 0?!1:u;var w=a.role;w=w===void 0?"textbox":w;var x=a.spellCheck;x=x===void 0?!1:x;var y=a.tabIndex,z=a.webDriverTestID;z=a.xstyle;var A=j(null);i(function(){A.current&&v&&A.current.focus()},[A,v]);return h.jsx("div",{"aria-activedescendant":u?null:b,"aria-autocomplete":u?null:d,"aria-controls":u?null:e,"aria-describedby":f,"aria-expanded":u?null:w==="combobox"?!!g:null,"aria-label":l,"aria-labelledby":m,"aria-multiline":n,"aria-owns":u?null:o,"aria-required":p,autoCapitalize:q,autoComplete:r,autoCorrect:s,className:c("stylex")(k.editor,z)+" "+(u?"":"notranslate"),contentEditable:!u,"data-testid":void 0,ref:c("useMergeRefs")(A,t),role:u?null:w,spellCheck:x,suppressContentEditableWarning:!0,tabIndex:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIOutlineURINode",["Outline"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.clone=function(b){return new a(b.__text,b.__key)};function a(a,c){a=b.call(this,a,c)||this;a.__type="external_url";return a}var c=a.prototype;c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="bnpdmtie diy96o5h";return a};c.canInsertTextAtEnd=function(){return!1};return a}(d("Outline").TextNode);function a(a){return new h(a).makeSegmented().makeDirectionless()}g.CometUFIOutlineURINode=h;g.createCometUFIOutlineURINode=a}),98);
__d("OutlineParagraphNode",["cr:1967614"],(function(a,b,c,d,e,f){e.exports=b("cr:1967614")}),null);
__d("CometUFIOutlineEditor",["CometOutlineEmojiNode","CometUFIOutlineGenericEntityNode","CometUFIOutlineURINode","Outline","OutlineHashtagNode","OutlineParagraphNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=document.activeElement;return a.getSelection()!==null||c!==null&&c===b.getRootElement()}function a(){var a=d("Outline").createEditor({theme:{characterLimit:"nc684nl6 ntrmtafa",hashtag:"humdl8nn diy96o5h",paragraph:"hcukyx3x oygrvhab cxmmr5t8 kvgmc6g5"}});a.registerNodeType("paragraph",d("OutlineParagraphNode").ParagraphNode);a.registerNodeType("actor",d("CometUFIOutlineGenericEntityNode").CometUFIOutlineGenericEntityNode);a.registerNodeType("emoji",d("CometOutlineEmojiNode").EmojiNode);a.registerNodeType("external_url",d("CometUFIOutlineURINode").CometUFIOutlineURINode);a.registerNodeType("hashtag",d("OutlineHashtagNode").HashtagNode);a.update(function(b){d("Outline").log("createCometUFIComposerOutlineCreateEditor");var c=b.getRoot(),e=c.getFirstChild();if(e!==null){e=d("OutlineParagraphNode").createParagraphNode();c.append(e);h(b,a)&&e.select()}});return a}g.createCometUFIComposerOutlineCreateEditor=a}),98);
__d("cometUFIOutlineIsEmpty",["OutlineRootHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.getEditorState();c=d("OutlineRootHelpers").isBlank(c,a.isComposing());return c&&b.attachment==null}g["default"]=a}),98);
__d("useCometOutlineAddCommitListeners",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo;function a(){var a=i(function(){return new Set()},[]),b=h(function(b){a.add(b);return function(){a["delete"](b)}},[a]);return[function(){return Array.from(a)},b]}g["default"]=a}),98);
__d("useCometOutlineEmptyListeners",["OutlineRootHelpers","react"],(function(a,b,c,d,e,f,g){"use strict";c=d("react");var h=c.useCallback,i=c.useEffect,j=c.useMemo,k=c.useRef,l=c.useState;function a(a){var b=l(!0),c=b[0],d=b[1];i(function(){return a(function(a){return d(a)})},[a]);return c}function b(a){var b=j(function(){return new Set()},[]),c=k(!1),e=k(!1),f=h(function(a){var c=Array.from(b);for(var d=0;d<c.length;d++)c[d](a)},[b]),g=h(function(){var b=d("OutlineRootHelpers").isBlank(a.getEditorState(),a.isComposing());c.current!==b&&(c.current=b,f(b))},[a,f]);i(g,[g]);i(function(){return a.addListener("update",g)},[a,g]);i(function(){var b=function(){e.current=!0,g()},c=function(){e.current=!1,g()};return a.addListener("root",function(a,d){d!=null&&(d.removeEventListener("compositionstart",b),d.removeEventListener("compositionend",c)),a!==null&&(a.addEventListener("compositionstart",b),a.addEventListener("compositionend",c))})},[g,a]);return h(function(a){b.add(a);a(c.current);return function(){b["delete"](a)}},[b])}g.useCometOutlineIsEmpty=a;g.useCometOutlineEmptyListeners=b}),98);
__d("useCometOutlineFocusListeners",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useMemo,k=b.useRef;function a(a){var b=j(function(){return new Set()},[]),c=k(document.activeElement===a.getRootElement());i(function(){var d=function(){var a=Array.from(b),d=c.current;for(var e=0;e<a.length;e++)a[e](d)},e=function(){c.current=!0,d()},f=function(){c.current=!1,d()};return a.addListener("root",function(a,b){b!==null&&(b.removeEventListener("focus",e),b.removeEventListener("blur",f)),a!==null?(c.current=document.activeElement===a,a.addEventListener("focus",e),a.addEventListener("blur",f)):c.current=!1,d()})},[a,b]);return h(function(a){b.add(a);a(c.current);return function(){b["delete"](a)}},[b])}g.useCometOutlineFocusListeners=a}),98);
__d("CometUFIOutlineDelightNode",["CometOutlineEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.clone=function(b){return new a(b.__text,b.__styles,b.__campaignID,b.__delightAsset,b.__key)};function a(a,c,d,e,f){a=b.call(this,a,f)||this;a.__ufiType="TextDelightCampaign";a.__type="delight";a.__styles=c;a.__campaignID=d;a.__delightAsset=e;return a}var c=a.prototype;c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);var c=this.__delightAsset.id,d=this.__styles,e=d.color;d=d["font-weight"];c!=null&&a.setAttribute("data-delight-asset",c);a.setAttribute("data-delight","true");e!=null&&d!=null&&(a.style.color=e,a.style.fontWeight=d);return a};c.getUFIComposerEntity=function(a){return{__UFI__:!0,id:this.__campaignID,isWeak:!1,type:this.__ufiType}};return a}(c("CometOutlineEntityTextNode"));function a(a,b,c,d){return new h(a,b,c,d).makeSegmented()}g.CometUFIOutlineDelightNode=h;g.createCometUFIOutlineDelightNode=a}),98);
__d("CometOutlinePlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={placeholder:{color:"m9osqain",overflowX:"ni8dbmo4",overflowY:"stjgntxs",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",textOverflow:"ltmttdrg",top:"kr520xx4",userSelect:"abiwlrkh",whiteSpace:"g0qnabr5",width:"k4urcfbm"}};function a(a){var b=a.children;a=a.xstyle;return h.jsx("div",{children:b,className:c("stylex")(i.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometOutlinePlaceholder",["OutlineRootHelpers","ReactDOMComet","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useRef,i=b.useState;function a(a){var b=i(!0),e=b[0],f=b[1],g=h(!0);c("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=function(b,c){var e=d("OutlineRootHelpers").canShowPlaceholder(b,a.isComposing());g.current!==e&&(g.current=e,c?d("ReactDOMComet").flushSync(function(){return f(e)}):f(e))};b(a.getEditorState(),!1);return a.addListener("update",function(a){a=a.editorState;return b(a,!0)})},[a]);return e}g["default"]=a}),98);
__d("useCometOutlineErrorListener",["Outline","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.addListener("error",function(c,d){var e=document.activeElement,f=null;e!=null&&(f={activeElement:e.nodeName,rootSelected:e===a.getRootElement()});e=window.event;var g=null;e!=null&&(g={altKey:e.altKey,ctrlKey:e.ctrlKey,data:e.data,inputType:e.inputType,isComposing:e.isComposing,keyCode:e.keyCode,metaKey:e.metaKey,shiftKey:e.shiftKey,type:e.type});e=null;try{e=k(a)}catch(a){}b({activeElement:f,editorState:e,error:c,event:g,log:d})})},[b,a])}function h(a){var b=[];a=a.getRoot().getChildren();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=[];b.push({children:f,flags:e.__flags,key:e.__key,name:e.__type,parent:e.__parent,type:e.__type});j(e,f)}return b}function i(a){a=a.getSelection();if(a===null)return null;var b=a.anchor;a=a.focus;return{anchor:{key:b.key,offset:b.offset,type:b.type},focus:{key:a.key,offset:a.offset,type:a.type}}}function j(a,b){if(d("Outline").isBlockNode(a)){a=a.getChildren();for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=[];b.push({children:g,flags:f.__flags,key:f.__key,name:f.__type,parent:f.__parent,type:f.__type});j(f,g)}}}function k(a){a=a.getEditorState().read(function(a){return{selection:i(a),tree:h(a)}});var b=a.selection;a=a.tree;return{selection:b,tree:a}}g["default"]=a}),98);
__d("useCometOutlineKeyBindings",["CometOutlineEventPriority","Keys","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo,j=new Set([c("Keys").ESC,c("Keys").TAB,c("Keys").RETURN,c("Keys").LEFT,c("Keys").UP,c("Keys").RIGHT,c("Keys").DOWN,c("Keys").LEFT_WINDOW_KEY,c("Keys").SHIFT,c("Keys").CTRL,c("Keys").ALT,c("Keys").CAPS_LOCK,c("Keys").BACKSPACE,c("Keys").DELETE,c("Keys").SPACE]);function a(a){var b=i(function(){return{}},[]),e=h(function(a,c){c===void 0&&(c=d("CometOutlineEventPriority").CometOutlineEventPriority.NORMAL);b[c]==null&&(b[c]=new Set());b[c].add(a);return function(){b[c]["delete"](a)}},[b]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){var c=function(a){var c=a.keyCode;if(j.has(c))for(var c=d("CometOutlineEventPriority").CometOutlineEventPrioritySorted,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;g=Array.from((g=b[g])!=null?g:[]);for(var h=g.length-1;h>-1;h--){var i=g[h];i=i(a);if(i==="handled")return}}};return a.addListener("root",function(a,b){b!==null&&b.removeEventListener("keydown",c),a!==null&&a.addEventListener("keydown",c)})},[a,b]);return e}g["default"]=a}),98);
__d("useCometUFIOutlineEmptyListeners",["react","useCometOutlineEmptyListeners"],(function(a,b,c,d,e,f,g){"use strict";c=d("react");var h=c.useCallback,i=c.useEffect,j=c.useState;function a(a){var b=j(!0),c=b[0],d=b[1];i(function(){return a(function(a){return d(a)})},[a]);return c}function b(a,b){var c=d("useCometOutlineEmptyListeners").useCometOutlineEmptyListeners(a);return h(function(a){var d=function(c){c=c&&b.attachment==null;a(c)};return c(d)},[c,b.attachment])}g.useCometUFIOutlineIsEmpty=a;g.useCometUFIOutlineEmptyListeners=b}),98);
__d("CometCommunityCommentSignalRenderer.react",["CometCommunityCommentSignalRenderer_comment.graphql","CometPlaceholder.react","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.comment,f=a.commentID,g=a.isCommentHighlighted;a=a.shouldAlwaysHaveCommentBackground;a=a===void 0?!1:a;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometCommunityCommentSignalRenderer_comment.graphql"),e);return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:e.community_comment_signal_renderer,props:{comment:e.community_comment_signal_renderer,commentID:f,isCommentHighlighted:g,shouldAlwaysHaveCommentBackground:a}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometIdentityBadges.react",["fbt","CometIdentityBadges_identityBadge.graphql","CometImage.react","CometRelay","UserAgent","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=12,l={commentBadgeText:{color:"m9osqain",fontSize:"j1meafb1",fontWeight:"lrazzd5p",lineHeight:"b2s5l15y",verticalAlign:"j1lvzwm4"},invert:{filter:"cogppd1a"},plusMargin:{marginEnd:"kady6ibp"},rightMargin:{marginEnd:"cgat1ltu"}};function a(a){var c=d("CometRelay").useFragment(i!==void 0?i:i=b("CometIdentityBadges_identityBadge.graphql"),a.identityBadge),e=c.badge_asset,f=c.multiple_badge_asset,g=c.text;c=c.text_gradient;if(e==null||g==null||f==null)return null;var h=a.canShowMultipleBadges,k=a.extraCount;a=a.shouldAppendText;return a?j.jsx(m,{badgeAsset:f,extraCount:k,text:g,textGradient:c}):j.jsx(n,{badgeAsset:h?f:e})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.badgeAsset,d=a.extraCount,e=a.text;a=a.textGradient;a=a.length===2&&!c("UserAgent").isBrowser("IE")?{WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:"linear-gradient(180deg, "+a[0]+" 0%, "+a[1]+" 100%)",display:"block",fontSize:"12px"}:{};return j.jsxs(j.Fragment,{children:[j.jsx(n,{badgeAsset:b}),j.jsx("span",{className:c("stylex")(l.commentBadgeText,l.plusMargin),style:a,children:e}),d>0&&j.jsx("span",{className:c("stylex")(l.commentBadgeText),children:h._(/*FBT_CALL*/"+{badge_count}"/*FBT_CALL*/,[h._param("badge_count",d)])})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.badgeAsset;var b=c("useCurrentDisplayMode")();b=b==="dark";return j.jsx(c("CometImage.react"),{height:k,src:a,testid:void 0,xstyle:[l.rightMargin,b&&l.invert]})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInlineIdentityBadge.react",["CometImage.react","CometInlineIdentityBadge_identityBadge.graphql","CometRelay","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=12,k={padding:{paddingTop:"ggysqto6",paddingEnd:"n8tt0mok",paddingBottom:"ojkyduve",paddingStart:"hyh9befq"}},l=h!==void 0?h:h=b("CometInlineIdentityBadge_identityBadge.graphql");function a(a){a=d("CometRelay").useFragment(l,a.identityBadge);var b=c("useCurrentDisplayMode")();b=b==="dark";return a==null?null:i.jsx(c("CometImage.react"),{height:j,src:b?a.gaming_video_dark_mode_image_uri:a.gaming_video_image_uri,testid:void 0,xstyle:k.padding})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIBanActorLink.react",["fbt","CometLink.react","CometRelay","CometUFIBanActorLink_comment.graphql","RelayHooks","UFI2CommentActionLinks.react","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=c("requireDeferred")("CometUFIBanActorMutation").__setRef("CometUFIBanActorLink.react");function a(a){var e=a.comment;a=a.xstyle;var f=d("RelayHooks").useFragment(i!==void 0?i:i=b("CometUFIBanActorLink_comment.graphql"),e),g=d("CometRelay").useRelayEnvironment(),l=f==null?void 0:(e=f.parent_feedback)==null?void 0:e.id,m=f==null?void 0:(e=f.parent_feedback)==null?void 0:(e=e.viewer_acts_as_page)==null?void 0:e.id,n=f==null?void 0:(e=f.author)==null?void 0:e.id;return m==null||n==null?null:j.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:j.jsx(c("CometLink.react"),{href:"#",onClick:function(){k.onReadyImmediately(function(a){a.commit(g,{feedbackId:l,pageId:m,targetUserId:n,undoBan:Boolean(f.is_author_banned_by_content_owner)})})},role:"button",xstyle:a,children:(f==null?void 0:f.is_author_banned_by_content_owner)===!0?h._(/*FBT_CALL*/"B\u1ecf c\u1ea5m {name}"/*FBT_CALL*/,[h._param("name",(e=f.author)==null?void 0:e.name)]):h._(/*FBT_CALL*/"C\u1ea5m  {name}"/*FBT_CALL*/,[h._param("name",(a=f.author)==null?void 0:a.name)])})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryUFICommentAttachment.react",["CometFeedStoryUFICommentAttachment_attachment.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.actorID,e=a.attachment,f=a.commentId_FOR_DEBUGGING_ONLY;a=a.storyRenderLocation;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryUFICommentAttachment_attachment.graphql"),e);e=e.style_type_renderer;return e!=null?i.jsx(d("CometRelay").MatchContainer,{match:e,props:{actorID:c,commentId_FOR_DEBUGGING_ONLY:f,storyRenderLocation:a}}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryUFICommentAttachments.react",["CometFeedStoryUFICommentAttachment.react","CometFeedStoryUFICommentAttachments_comment.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.comment;a=babelHelpers.objectWithoutPropertiesLoose(a,["comment"]);e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryUFICommentAttachments_comment.graphql"),e);var f=e.attachments[0];return f==null?null:i.jsx(c("CometFeedStoryUFICommentAttachment.react"),babelHelpers["extends"]({attachment:f,commentId_FOR_DEBUGGING_ONLY:(f=e.id)!=null?f:void 0},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentEditHistoryDialog.entrypoint",["CometUFICommentEditHistoryDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.commentID;return{queries:{root:{options:{fetchPolicy:"network-only"},parameters:b("CometUFICommentEditHistoryDialogQuery$Parameters"),variables:{commentID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFICommentEditHistoryDialog.react").__setRef("CometUFICommentEditHistoryDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIEditHistoryCommentActionLink.react",["fbt","CometLink.react","CometRelay","CometTooltip.react","CometUFICommentEditHistoryDialog.entrypoint","CometUFIEditHistoryCommentActionLink_comment.graphql","react","recoverableViolation","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useCallback,l={link:{color:"m9osqain"}};function a(a){a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIEditHistoryCommentActionLink_comment.graphql"),a.comment);var e=a.id;a=c("useCometEntryPointDialog")(c("CometUFICommentEditHistoryDialog.entrypoint"),e!=null?{commentID:e}:null,"button");var f=a[0],g=a[1],m=a[2],n=a[3];a=a[4];var o=k(function(){if(e==null){c("recoverableViolation")("Cannot open dialog for comment without an ID","ufi2");return}f({})},[e,f]);o=j.jsx(c("CometTooltip.react"),{tooltip:h._(/*FBT_CALL*/"Hi\u1ec3n th\u1ecb l\u1ecbch s\u1eed ch\u1ec9nh s\u1eeda"/*FBT_CALL*/),children:j.jsx(c("CometLink.react"),{onClick:o,onHoverEnd:n,onHoverStart:m,onPressStart:a,ref:g,testid:void 0,xstyle:l.link,children:h._(/*FBT_CALL*/"\u0110\u00e3 ch\u1ec9nh s\u1eeda"/*FBT_CALL*/)})});return o}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIPageAdminActorInfo.react",["CometPlaceholder.react","CometProgressIndicator.react","CometRelay","CometUFIPageAdminActorInfo_comment.graphql","UFI2CommentActionLinks.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("CometUFICreatorInfo.react").__setRef("CometUFIPageAdminActorInfo.react"));function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIPageAdminActorInfo_comment.graphql"),a.comment);a=a.page_admin_actor_info;return a==null||a.creator_id==null||a.creator_name==null||a.creator_type==null||a.label_type==null||a.page_id==null||a.profile_uri==null?null:i.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometProgressIndicator.react"),{size:"small"}),children:i.jsx(j,{creatorID:a.creator_id,creatorName:a.creator_name,creatorType:a.creator_type,labelType:a.label_type,pageID:a.page_id,profileURI:a.profile_uri})})},"pageAdminActorInfo")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentPrivateReplyLink.react",["CometErrorBoundary.react","CometRelay","CometUFICommentPrivateReplyLink_feedback.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("CometUFICommentPrivateReplyLink_feedback.graphql");function a(a){var b=a.commentID,e=a.feedback,f=a.feedbackSource;a=a.xstyle;e=d("CometRelay").useFragment(j,e);var g=e==null?void 0:e.id;return b==null||g==null?null:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(d("CometRelay").MatchContainer,{match:e==null?void 0:(e=e.page_private_reply)==null?void 0:e.private_reply_render,props:{commentID:b,feedbackID:g,feedbackSource:f,xstyle:a}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIPageAdminPrivateReplyContext.react",["CometRelay","CometUFICommentPrivateReplyLink.react","CometUFIPageAdminPrivateReplyContext_comment.graphql","UFI2CommentActionLinks.react","UFI2PrivateReplyIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e,f,g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIPageAdminPrivateReplyContext_comment.graphql"),a.comment),j=g==null?void 0:g.id,k=g==null?void 0:g.feedback;e=k==null?void 0:(e=k.viewer_actor)==null?void 0:e.id;e=e!=null&&(g==null?void 0:(e=g.private_reply_context)==null?void 0:e.has_reply_permission)===!0;f=k==null?void 0:(f=k.page_private_reply)==null?void 0:f.status;return!e&&c("UFI2PrivateReplyIndicator.react").shouldRender(g==null?void 0:(g=g.private_reply_context)==null?void 0:g.status)?i.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:i.jsx(c("UFI2PrivateReplyIndicator.react"),{})},"pageAdminPrivateReplyContext"):k!=null&&e&&f!=="EXPIRED"?i.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:i.jsx(c("CometUFICommentPrivateReplyLink.react"),{commentID:j,feedback:k,feedbackSource:a.feedbackSource,xstyle:a.xstyle})},"pageAdminPrivateReply"):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIPinActionLink.react",["fbt","CometLink.react","CometRelay","CometUFIPinActionLink_feedback.graphql","UFI2CommentActionLinks.react","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useCallback,l=c("requireDeferred")("CometUFIPinCommentMutation").__setRef("CometUFIPinActionLink.react"),m=function(a){return a==="LIVE_PRODUCER"||a==="LIVE_EVENT"||a==="TAHOE"?!0:!1};function a(a){var e,f,g=a.commentID,n=a.disabled,o=a.feedback$key,p=a.feedLocation;a=a.xstyle;o=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIPinActionLink_feedback.graphql"),o);var q=o==null?void 0:o.id,r=o==null?void 0:(e=o.associated_video)==null?void 0:e.id;e=(e=o==null?void 0:(e=o.associated_video)==null?void 0:e.is_gaming_video)!=null?e:!1;var s=d("CometRelay").useRelayEnvironment(),t=k(function(){if(q==null||r==null)return;l.onReady(function(a){a.commit(s,{commentID:g,feedbackID:q,videoID:r})})},[g,q,s,r]);if((o==null?void 0:o.can_viewer_pin_live_comments)!==!0||(o==null?void 0:(f=o.latest_pinned_comment_event)==null?void 0:(f=f.pinned_comment)==null?void 0:f.id)===g||r==null||(o==null?void 0:(f=o.associated_video)==null?void 0:f.broadcast_is_ama_enabled)===!0||(o==null?void 0:(f=o.associated_video)==null?void 0:f.broadcast_status)!=="LIVE"||e&&p==="TAHOE")return null;return!m(p)?null:j.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:j.jsx(c("CometLink.react"),{disabled:n,href:"#",onClick:t,role:"button",testid:void 0,xstyle:a,children:h._(/*FBT_CALL*/"Ghim"/*FBT_CALL*/)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIRemovePreviewMutation",["CometRelay","CometUFIRemovePreviewMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUFIRemovePreviewMutation.graphql");function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c)};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return d("CometRelay").commitMutation(a,{mutation:i,optimisticResponse:b,variables:c})}g.commit=a}),98);
__d("useCometUnhideToastMessage",["fbt","ix","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b={action:{label:h._(/*FBT_CALL*/"Ho\u00e0n t\u00e1c"/*FBT_CALL*/),onPress:function(){return a()}},icon:j.jsx(c("TetraIcon.react"),{icon:d("fbicon")._(i("2020"),20)}),message:h._(/*FBT_CALL*/"\u0110\u00e3 hi\u1ec3n th\u1ecb b\u00ecnh lu\u1eadn"/*FBT_CALL*/),supressCloseButton:!0},e=function(){d("cometPushToast").cometPushToast(b)};return e}g["default"]=a}),98);
__d("CometUFIUnhideCommentLink.react",["fbt","CometPressable.react","CometUFIQPLInstanceKeyContext","emptyFunction","react","requireDeferred","useCometUnhideToastMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFIUnhideCommentLink.react"),m=c("requireDeferred")("CometUFIHideCommentMutation").__setRef("CometUFIUnhideCommentLink.react"),n=c("requireDeferred")("CometUFIUnhideCommentMutation").__setRef("CometUFIUnhideCommentLink.react");function a(a){var b=a.commentId,d=a.environment,e=a.feedbackSource,f=a.feedLocation,g=a.isAdminHideEligible;a=a.xstyle;g=g?c("useCometUnhideToastMessage"):c("emptyFunction");var o=function(){m.onReadyImmediately(function(a){a.commit(d,{commentId:b,feedLocation:f,feedbackSource:e,onError:function(){}})})},p=g(o),q=k(c("CometUFIQPLInstanceKeyContext"));g=j(function(){l.onReady(function(a){a.addPoint(q,a.CometUFIFunnelLoggerEvents.COMMENT_ACTION_REPLY)}),n.onReadyImmediately(function(a){a.commit(d,{commentId:b,feedLocation:f,feedbackSource:e,isComet:!0,onCompleted:p})})},[b,d,f,e,q,p]);return i.jsx(c("CometPressable.react"),{display:"inline",onPress:g,role:"button",testid:void 0,xstyle:a,children:h._(/*FBT_CALL*/"B\u1ecf \u1ea9n"/*FBT_CALL*/)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIUnpinActionLink.react",["fbt","CometLink.react","CometRelay","CometUFIUnpinActionLink_feedback.graphql","UFI2CommentActionLinks.react","react","requireDeferred","useCometUFIVideoPlayerStateAndController"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useCallback,l=c("requireDeferred")("CometUFIUnpinCommentMutation").__setRef("CometUFIUnpinActionLink.react"),m=function(a){return a==="LIVE_PRODUCER"||a==="LIVE_EVENT"||a==="TAHOE"?!0:!1};function a(a){var e,f,g=a.commentID,n=a.disabled,o=a.feedback$key,p=a.feedLocation;a=a.xstyle;o=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIUnpinActionLink_feedback.graphql"),o);var q=o==null?void 0:o.id,r=o==null?void 0:(e=o.associated_video)==null?void 0:e.id,s=d("CometRelay").useRelayEnvironment(),t=(e=c("useCometUFIVideoPlayerStateAndController")())==null?void 0:e.controller;e=k(function(){if(q==null||r==null)return;l.onReady(function(a){a.commit(s,{feedbackID:q,video_time_offset:t==null?void 0:t.getPlayheadPosition(),videoID:r})})},[q,s,t,r]);if((o==null?void 0:o.can_viewer_pin_live_comments)!==!0||(o==null?void 0:(f=o.latest_pinned_comment_event)==null?void 0:(f=f.pinned_comment)==null?void 0:f.id)!==g||r==null||(o==null?void 0:(f=o.associated_video)==null?void 0:f.broadcast_is_ama_enabled)===!0)return null;return!m(p)?null:j.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:j.jsx(c("CometLink.react"),{disabled:n,href:"#",onClick:e,role:"button",testid:void 0,xstyle:a,children:h._(/*FBT_CALL*/"B\u1ecf ghim"/*FBT_CALL*/)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentActionLinks.react",["fbt","BaseButton.react","CometLink.react","CometPlaceholder.react","CometRelativeTimestamp.react","CometRelay","CometTimestamp.react","CometTooltip.react","CometTrackingNodeProvider.react","CometUFIBanActorLink.react","CometUFICommentActionLinks_comment.graphql","CometUFICommentActionLinks_feedback.graphql","CometUFIEditHistoryCommentActionLink.react","CometUFIPageAdminActorInfo.react","CometUFIPageAdminPrivateReplyContext.react","CometUFIPinActionLink.react","CometUFIQPLInstanceKeyContext","CometUFIRemovePreviewMutation","CometUFIUnhideCommentLink.react","CometUFIUnpinActionLink.react","FBLogger","UFI2CommentActionLinks.react","UFICommonInteractionEvents","UFIReactionTypes","cr:1593999","cr:1594000","deferredLoadComponent","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("react").useContext,m=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFICommentActionLinks.react"),n=c("deferredLoadComponent")(c("requireDeferred")("CometUFICommentErrorFooter.react").__setRef("CometUFICommentActionLinks.react")),o=700,p=850,q={actionLinks:{marginBottom:"oygrvhab",marginStart:"ozuftl9m",minHeight:"l66bhrea",paddingTop:"linoseic"},actionRoot:{color:"m9osqain",cursor:"nhd2j8a9",display:"q9uorilb",fontWeight:"n3ffmt46",position:"l9j0dhe7",":hover":{textDecoration:"gpro0wi8"}},actionRootDisabled:{color:"erlsw9ld",cursor:"tf0xghai",":hover":{textDecoration:"p8dawk7l"}},reactionLinkWrapper:{display:"q9uorilb"},timestamp:{color:"m9osqain",fontWeight:"knj5qynh"}};function a(a){return k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinks,{className:c("stylex")(q.actionLinks),listRef:a.actionLinksListRef,children:k.jsx(r,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var e,f,g,r,s=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActionLinks_comment.graphql"),a.comment),t=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentActionLinks_feedback.graphql"),a.feedback),u=a.environment,v=a.feedbackSource,w=a.feedLocation,x=a.handleOnReply,y=a.handleTranslationClick,z=a.hasRemovableAttachment,A=a.hideReplyActionLink,B=a.isFetchingTranslation,C=s.author,D=s.created_time,E=s.feedback,F=s.id,G=l(c("CometUFIQPLInstanceKeyContext"));function H(){m.onReady(function(a){a.addPoint(G,a.CometUFIFunnelLoggerEvents.COMMENT_ACTION_REPLY)});if(x==null)return;var a=s.id,b=s.is_author_weak_reference,c=s.legacy_fbid,d=s.url;if((C==null?void 0:C.__typename)!=null&&(C==null?void 0:C.id)!=null&&(C==null?void 0:C.name)!=null&&a!=null){x({authorId:C.id,authorIsWeakReference:!!b,authorName:C.name,authorType:C.__typename,authorUrl:(b=C==null?void 0:C.url)!=null?b:"",commentComposerPlaceholderText:(b=s.feedback)==null?void 0:b.comment_composer_placeholder,commentId:a,commentLegacyId:c,commentUrl:d})}}function I(){m.onReady(function(a){a.addPoint(G,a.CometUFIFunnelLoggerEvents.COMMENT_ACTION_TIMESTAMP)})}if(C==null){var J;c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",(J=F)!=null?J:"UNKNOWN").mustfix("UFI2Comment: Cant render comment without author");return null}if(F==null){c("FBLogger")("ufi2").mustfix("UFI2Comment: Cant render action links without a comment id");return null}J=(J=t.viewer_actor)==null?void 0:J.id;var K=s.spam_display_mode!=null&&s.spam_display_mode!=="none",L=(t==null?void 0:t.is_admin_hide_eligible)===!0;e=(e=s.preferred_body)==null?void 0:e.translation_type;f=(f=s.translatability_for_viewer)==null?void 0:f.source_dialect_name;var M=s.comment_privacy_value==="PENDING_APPROVAL",N=s.if_declined_by_group_admin_assistant!=null,O=a.viewOption==="ADMIN_HIDDEN"||a.viewOption==="ADMIN_HIDDEN_SUB_REPLIES";D=D!=null?k.jsx(c("CometTooltip.react"),{tooltip:c("CometTimestamp.react").getAbsoluteTimestamp(new Date(D*1e3)),children:k.jsx(c("CometRelativeTimestamp.react"),{date:new Date(D*1e3),format:"minimized"})}):null;var P=Boolean(s==null?void 0:s.optimistic_action);if(s.optimistic_error!=null)return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(n,{comment:s,onEdit:a.onEdit})},"optimisticAction");var Q=null;!K&&E!=null&&(s==null?void 0:s.if_viewer_can_upvote_downvote)!=null&&(Q=k.jsx(d("CometRelay").MatchContainer,{match:s==null?void 0:s.if_viewer_can_upvote_downvote,props:{feedLocation:w,isOptimistic:P,wrapperRenderStrategy:function(a){return a!=null?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:a},"voteButtons"):null}}}));var R=[q.actionRoot,P&&q.actionRootDisabled],S=null;!K&&E!=null&&(s==null?void 0:s.if_viewer_can_award)!=null&&(S=k.jsx(d("CometRelay").MatchContainer,{match:s==null?void 0:s.if_viewer_can_award,props:{xstyle:R}}));g=((g=t.associated_video)==null?void 0:g.broadcast_is_ama_enabled_with_comments)===!0&&!s.is_ama_question;return k.jsxs(k.Fragment,{children:[k.jsx(d("CometRelay").MatchContainer,{match:s.if_viewer_can_learn_more_about_pending_comment,props:{feedLocation:w,isPending:(s==null?void 0:(r=s.group_comment_info)==null?void 0:r.can_viewer_see_privacy_status)===!0&&M,onTimeStampClick:I,timestampElement:D,url:s.url,xstyle:R}}),k.jsx(d("CometRelay").MatchContainer,{match:s.if_declined_by_group_admin_assistant,props:{feedLocation:w,xstyle:R}}),(s==null?void 0:(r=s.parent_feedback)==null?void 0:r.can_viewer_ban_user)===!0&&(s==null?void 0:(r=s.parent_feedback)==null?void 0:(r=r.viewer_acts_as_page)==null?void 0:r.id)!=null&&(s==null?void 0:s.ban_action)!=="BLOCK"&&K?k.jsx(c("CometUFIBanActorLink.react"),{comment:s,xstyle:q.actionRoot},"banLink"):null,K&&J!=null&&(s==null?void 0:s.is_author_banned_by_content_owner)===!1?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(c("CometUFIUnhideCommentLink.react"),{commentId:F,environment:u,feedLocation:w,feedbackSource:v,isAdminHideEligible:L,xstyle:q.actionRoot},"unhideLink")},"unhideLink"):null,Q,!K&&E!=null&&!N&&((r=s.feedback)==null?void 0:r.can_viewer_react)===!0&&!O?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx("span",{className:c("stylex")(q.reactionLinkWrapper),"data-testid":void 0,children:P?k.jsx("span",{className:c("stylex")(q.actionRoot,q.actionRootDisabled),children:c("UFIReactionTypes").reactions[c("UFIReactionTypes").LIKE].display_name}):k.jsxs(k.Fragment,{children:[b("cr:1594000")&&k.jsx(b("cr:1594000"),{className:c("stylex")(q.actionRoot),displayInlineBlock:!0,feedback:E,feedbackSource:v,hideDelay:p,interactionEvent:c("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION,showDelay:o}),b("cr:1593999")&&k.jsx(b("cr:1593999"),{feedback:E,feedbackSource:v,hideDelay:p,interactionEvent:c("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION,showDelay:o})]})})},"reactLink"):null,x!=null&&A!==!0&&!K&&!N&&!O&&(((L=s.comment_parent)==null?void 0:L.id)==null?((Q=s.feedback)==null?void 0:Q.can_viewer_comment)===!0:((r=s.comment_parent)==null?void 0:(E=r.feedback)==null?void 0:E.can_viewer_comment)===!0)||s.optimistic_action==="ADD"||s.optimistic_action==="EDIT"?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:339,children:k.jsx(c("CometLink.react"),{disabled:P,href:"#",onClick:H,role:"button",testid:void 0,xstyle:R,children:a.viewOption==="LIVE_STREAMING"&&((A=s.comment_parent)==null?void 0:A.id)!=null?h._(/*FBT_CALL*/"Xem cu\u1ed9c tr\u00f2 chuy\u1ec7n"/*FBT_CALL*/):h._(/*FBT_CALL*/"Ph\u1ea3n h\u1ed3i"/*FBT_CALL*/)})})},"replyLink"):null,t.if_viewer_can_quick_hide_comment!=null&&s.is_author_original_poster!==!0&&!K&&J!=null?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(d("CometRelay").MatchContainer,{match:t.if_viewer_can_quick_hide_comment,props:{commentId:F,environment:u,feedLocation:w,feedbackSource:v,key:"hideLink",xstyle:q.actionRoot}})},"hideLink"):null,S,!K&&k.jsx(d("CometRelay").MatchContainer,{match:s.if_viewer_can_share,props:{feedLocation:w,xstyle:R}}),k.jsx(c("CometUFIPinActionLink.react"),{commentID:F,disabled:P,feedLocation:w,feedback$key:t,xstyle:R},"pinLink"),k.jsx(c("CometUFIUnpinActionLink.react"),{commentID:F,disabled:P,feedLocation:w,feedback$key:t,xstyle:R},"unpinLink"),k.jsx(d("CometRelay").MatchContainer,{match:s.qa_action_links_comment_renderer,props:{comment:s,feedLocation:w,xstyle:R}}),g===!1&&k.jsx(d("CometRelay").MatchContainer,{match:t.work_answer_event_action_links_comment_renderer,props:{commentID:F,disabled:P,feedLocation:w,feedback:t,xstyle:R}}),k.jsx(c("CometUFIPageAdminActorInfo.react"),{comment:s}),O&&!K?null:k.jsx(c("CometUFIPageAdminPrivateReplyContext.react"),{comment:s,feedbackSource:v,xstyle:q.actionRoot}),s.translation_available_for_viewer===!0?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(c("BaseButton.react"),{disabled:B,onClick:y,xstyle:[q.actionRoot,Boolean(B)&&q.actionRootDisabled],children:e==="MACHINE_TRANSLATION"?f!=null?h._(/*FBT_CALL*/"Xem b\u1ea3n g\u1ed1c ({language})"/*FBT_CALL*/,[h._param("language",f)]):h._(/*FBT_CALL*/"Xem b\u1ea3n g\u1ed1c"/*FBT_CALL*/):h._(/*FBT_CALL*/"Xem b\u1ea3n d\u1ecbch"/*FBT_CALL*/)})},"translationLink"):null,z&&J!=null?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(c("CometLink.react"),{href:"#",onClick:function(){d("CometUFIRemovePreviewMutation").commit(u,{commentID:F})},role:"button",testid:void 0,xstyle:q.actionRoot,children:h._(/*FBT_CALL*/"G\u1ee1 b\u1ea3n xem tr\u01b0\u1edbc"/*FBT_CALL*/)})},"removePreviewLink"):null,!M&&k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(c("CometLink.react"),{disabled:P,href:s.url,onClick:I,testid:void 0,xstyle:[q.timestamp,P?q.actionRootDisabled:null],children:D})},"timestampLink"),((L=(N=s.edit_history)==null?void 0:N.count)!=null?L:0)>0?k.jsx(d("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(c("CometUFIEditHistoryCommentActionLink.react"),{comment:s})},"editHistoryLink"):null]})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentActorName.react",["CometRelay","CometUFICommentActorLink.react","CometUFICommentActorName_comment.graphql","ProfileCometContextualProfileGating","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentActorName_comment.graphql"),a.comment);var f=a.author;if(f==null||a==null)return null;e=(e=a.author_contextual_profile_info)==null?void 0:e.name;d("ProfileCometContextualProfileGating").canViewFullExpressionContextualProfileEdits()&&e!=null?e=e:e=f.name;return i.jsx(c("CometUFICommentActorLink.react"),{comment$key:a,kind:"link",children:i.jsx("span",{className:"pq6dq46d",children:i.jsx(c("TetraText.react"),{color:(f==null?void 0:(a=f.work_info)==null?void 0:a.is_active_account)===!1?"secondary":void 0,type:"bodyLink4",children:e})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentBodyStandaloneEmoji.react",["CometEmojiTransform","CometEmoticonTransform","CometLineBreakTransform","CometRelay","CometTextWithEntitiesRelay.react","CometUFICommentBodyStandaloneEmoji_comment.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=[c("CometEmoticonTransform")({size:32}),c("CometEmojiTransform")({size:32}),c("CometLineBreakTransform")];function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentBodyStandaloneEmoji_comment.graphql"),a.comment);return i.jsx("span",{className:"aahdfvyu q9uorilb","data-testid":void 0,children:a.preferred_body!=null?i.jsx(c("CometTextWithEntitiesRelay.react"),{maxLength:420,maxLines:3,textWithEntities:a.preferred_body,transforms:j,truncationStyle:"see-more",withLineBreaks:!0,withParagraphs:!0}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AuthoritativeExpertBadgeClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2051541");c=b("FalcoLoggerInternal").create("authoritative_expert_badge_clicked",a);e.exports=c}),null);
__d("AuthoritativeExpertBadgeHoveredFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2051542");c=b("FalcoLoggerInternal").create("authoritative_expert_badge_hovered",a);e.exports=c}),null);
__d("IdentityBadgeUtils",["cx","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){switch(a){case"tipper":case"birthday_week_tipper":case"streamer_appreciation_week_tipper":return c("gkx")("709988");case"follower":return c("gkx")("833805");case"woodhenge_submageddon":return!1;case"original":return c("gkx")("1144561");case"founding_member":return c("gkx")("503");case"sharer":case"authoritative_expert":case"top_fan":case"frequent_watcher":case"woodhenge":case"author":case"fan_funding_supporter":case"moderator":case"staff":case"chatbot":case"live_video_assigned_role":case"stars_events":return!0;default:return!1}};a=function(a){if(a==null||a.length===0)return null;a=a.filter(function(a){a=JSON.parse(a.serialized);a=a.type;return i(a)});return a.length===0?null:a.map(function(a){var b=JSON.parse(a.serialized);b=b.type;return{type:b,badge_asset:a.badge_asset,badge_color:a.badge_color,multiple_badge_asset:a.multiple_badge_asset,multiple_badge_asset_colored:a.multiple_badge_asset_colored,text:a.text,serialized:a.serialized}})};var j=(b={},b.frequent_watcher="_7wxe",b.woodhenge="_7wxf",b.top_fan="_7wxg",b),k=function(a,b){return!1};d=function(a,b,c,d){if(!a||!Array.isArray(a.identityBadges)||a.identityBadges.length===0||!a.isunseen||d===!0||!k(b,c))return null;d=a.identityBadges.map(function(a){return a.type}).filter(function(a){return a.toString()in j});return d.length===0?null:j[d[0]]};g.isBadgeTypeEligible=i;g.fromLiveVideoCommentCreateSubscription=a;g.isEligibleForColorComments=k;g.commentColorAnimationClass=d}),98);
__d("CometUFICommentIdentityBadges.react",["AuthoritativeExpertBadgeClickedFalcoEvent","AuthoritativeExpertBadgeHoveredFalcoEvent","CometIdentityBadges.react","CometLazyDialogTrigger.react","CometLink.react","CometRelay","CometUFICommentIdentityBadges_comment.graphql","IdentityBadgeUtils","JSResourceForInteraction","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("JSResourceForInteraction")("CometIdentityBadgeInformationDialog.react").__setRef("CometUFICommentIdentityBadges.react");function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentIdentityBadges_comment.graphql"),a.comment),f=e==null?void 0:e.can_show_multiple_identity_badges;a=e==null?void 0:e.identity_badges_web;if(a==null||f==null)return null;var g=a.filter(function(a){a=a.identity_badge_type;return a==null?!1:d("IdentityBadgeUtils").isBadgeTypeEligible(a)});if(g.length===0)return null;var k=g.length===1||!(f===!0&&c("gkx")("890475")),l=function(a){a.identity_badge_type==="authoritative_expert"&&c("AuthoritativeExpertBadgeClickedFalcoEvent").log(function(){var b;return{badge_text:a.text,comment_id:e==null?void 0:e.id,commenter_id:e==null?void 0:(b=e.author)==null?void 0:b.id}})},m=function(a){a.identity_badge_type==="authoritative_expert"&&c("AuthoritativeExpertBadgeHoveredFalcoEvent").log(function(){var b;return{badge_text:a.text,comment_id:e==null?void 0:e.id,commenter_id:e==null?void 0:(b=e.author)==null?void 0:b.id}})};return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{badges:g,comment:e,showStarsPopover:null,useNewBadgeAssets:!1},dialogResource:j,children:function(a,b){return i.jsx(c("CometLink.react"),{"aria-label":"Identity Badges",onClick:function(){a(),k&&l(g[0])},onHoverEnd:function(){k&&m(g[0])},ref:b,children:i.jsx("div",{className:"tvmbv18p j83agx80 bp9cbjyn",children:k?i.jsx(c("CometIdentityBadges.react"),{canShowMultipleBadges:f,extraCount:g.length-1,identityBadge:g[0],shouldAppendText:!0}):g.map(function(a){return i.jsx(c("CometIdentityBadges.react"),{canShowMultipleBadges:f,extraCount:0,identityBadge:a,shouldAppendText:!1},a.identity_badge_type)})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentInlineIdentityBadges.react",["fbt","CometInlineIdentityBadge.react","CometLazyDialogTrigger.react","CometLink.react","CometRelay","CometUFICommentInlineIdentityBadges_comment.graphql","CometUFIStarsPopoverContext.react","IdentityBadgeUtils","JSResourceForInteraction","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useContext,l=c("JSResourceForInteraction")("CometIdentityBadgeInformationDialog.react").__setRef("CometUFICommentInlineIdentityBadges.react"),m={additionalBadgeCount:{":hover":{textDecoration:"p8dawk7l"},":active":{textDecoration:"izd1hwj0"}},root:{alignItems:"bp9cbjyn",backgroundColor:"tdjehn4e",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",display:"pq6dq46d",marginTop:"kvgmc6g5",marginEnd:"cgat1ltu",marginBottom:"oygrvhab",marginStart:"kkf49tns",paddingTop:"jwdofwj8",paddingEnd:"n8tt0mok",paddingBottom:"r8blr3vg",paddingStart:"hyh9befq",":hover":{textDecoration:"p8dawk7l"},":active":{textDecoration:"izd1hwj0"}}},n=4,o=i!==void 0?i:i=b("CometUFICommentInlineIdentityBadges_comment.graphql");function a(a){a=d("CometRelay").useFragment(o,a.comment);var b=k(c("CometUFIStarsPopoverContext.react")),e=b.ufiStarsPopoverRef;if(a==null)return null;b=a==null?void 0:a.identity_badges_web.filter(function(a){return d("IdentityBadgeUtils").isBadgeTypeEligible(a.identity_badge_type)});if(b.length===0)return null;var f=b.slice(0,n),g=Math.max(0,b.length-f.length),i=function(){e.current!=null&&e.current.show()};return j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{badges:b,comment:a,showStarsPopover:i,useNewBadgeAssets:!0},dialogResource:l,children:function(a,b){return j.jsxs(c("CometLink.react"),{"aria-label":h._(/*FBT_CALL*/"Huy hi\u1ec7u danh t\u00ednh"/*FBT_CALL*/),onClick:a,ref:b,xstyle:m.root,children:[f.map(function(a){return j.jsx(c("CometInlineIdentityBadge.react"),{identityBadge:a},a.identity_badge_type)}),g>0?j.jsx("div",{className:c("stylex")(m.additionalBadgeCount),children:h._(/*FBT_CALL*/"+ {num_additional_badges}"/*FBT_CALL*/,[h._param("num_additional_badges",g.toString())])}):null]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFITimestampedCommentsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometUFICommentBody.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometTextLangContext","CometUFICommentActorName.react","CometUFICommentBodyStandaloneEmoji.react","CometUFICommentBodyTextWithEntities.react","CometUFICommentBody_comment.graphql","CometUFICommentIdentityBadges.react","CometUFICommentInlineIdentityBadges.react","CometUFITimestampedCommentsContext.react","TetraText.react","cr:1798299","cr:1798300","formatLanguageCode","gkx","isStandaloneEmoji","qex","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useContext,l=e.useMemo,m=i!==void 0?i:i=b("CometUFICommentBody_comment.graphql");function a(a){var e,f,g=a.comment,i=a.feedbackSource,n=a.hasHighlightApplied,o=a.isConstantHighlightEnabled,p=a.isHighlightable,q=a.shouldAlwaysHaveCommentBackground;q=q===void 0?!1:q;var r=a.shouldTruncate,s=a.showReplyingToHeader;a=a.storyRenderLocation;g=d("CometRelay").useFragment(m,g);e=c("isStandaloneEmoji")(g==null?void 0:(e=g.preferred_body)==null?void 0:e.text);var t=g.preferred_body;t=e?j.jsx("div",{children:j.jsx(c("CometUFICommentBodyStandaloneEmoji.react"),{comment:g})}):(t==null?void 0:t.__typename)==="TextWithEntities"?j.jsx(c("CometUFICommentBodyTextWithEntities.react"),{shouldTruncate:r,textWithEntities:t}):j.jsx(d("CometRelay").MatchContainer,{fallback:null,match:g.body_renderer,props:{shouldTruncate:r}});r=c("gkx")("2203")&&(g==null?void 0:(r=g.preferred_body)==null?void 0:(r=r.text)==null?void 0:r.endsWith("?"))===!0;f=(f=g==null?void 0:(f=g.comment_parent)==null?void 0:(f=f.author)==null?void 0:f.short_name)!=null?f:g==null?void 0:(f=g.comment_parent)==null?void 0:(f=f.author)==null?void 0:f.name;var u=k(c("CometUFITimestampedCommentsContext.react"));u=u==null?null:j.jsx(u,{timestamp:g.timestamp_in_video,writtenWhileLive:!!g.written_while_video_was_live});var v=Boolean(g.body_renderer),w=g.work_ama_answer_status==="ANSWERED";q=!q&&(!v||e);v=b("cr:1798300")(g,q);e=g.is_declined_by_group_admin_assistant===!0;var x=j.jsx(c("CometUFICommentActorName.react"),{className:"lrazzd5p"+(g.is_author_weak_reference===!0?" shfzb974":""),comment:g}),y=!1;(g==null?void 0:g.is_gaming_video_comment)===!0&&(y=!0);if((g==null?void 0:g.is_live_video_comment)===!0){var z=c("qex")._("823");z===!0&&(y=!0)}var A=(z=g.preferred_body)==null?void 0:z.translation_type,B=(z=g.translatability_for_viewer)==null?void 0:z.source_dialect;z=l(function(){return A!=="ORIGINAL"?void 0:c("formatLanguageCode")(B)},[B,A]);var C=c("gkx")("1962870");C=C&&(a==="homepage_stream"||a==="group");return j.jsxs("div",{className:c("stylex").dedupe({"background-color-1":"b3i9ofy5","border-top-start-radius-1":"e72ty7fz","border-top-end-radius-1":"qlfml3jp","border-bottom-end-radius-1":"inkptoze","border-bottom-start-radius-1":"qmr60zad","box-sizing-1":"rq0escxv","color-1":"oo9gr5id","display-1":"q9uorilb","margin-top-1":"kvgmc6g5","margin-end-1":"cxmmr5t8","margin-bottom-1":"oygrvhab","margin-start-1":"hcukyx3x","max-width-1":"d2edcug0","overflow-wrap-1":"jm1wdb64","position-1":"l9j0dhe7","white-space-1":"l3itjdph","word-break-1":"qv66sw1b"},q?{"background-color-1":"g5ia77u1"}:null,o===!0?{"background-color-1":"b8zhkkm9"}:null,r?{"background-color-1":"m3fj6ogm"}:null,p===!0?{"transition-duration-1":"mi9thwiq","transition-property-1":"pnx7fd3z","transition-timing-function-1":"heur4gxb"}:null,n===!0?{"background-color-1":"b8zhkkm9","transition-delay-1":"lxbcnve3","transition-duration-1":"akwz6i9j"}:null,g.work_ama_answer_status==="ANSWERING_NOW"&&!C?{"background-color-1":"b8zhkkm9","border-top-0.3":"al5e1bck","border-end-0.3":"dnrdovi6","border-bottom-0.3":"i7lnijfl","border-start-0.3":"c31yq5mp"}:null),"data-testid":void 0,children:[j.jsxs("div",{className:"tw6a2znq sj5x9vvc d1544ag0 cxgpxx05",children:[y?null:j.jsx(c("CometUFICommentIdentityBadges.react"),{comment:g}),s!==!0||f==null?null:j.jsx("div",{className:"ecm0bbzt e5nlhep0",children:j.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta1",children:h._(/*FBT_CALL*/"\u0110ang tr\u1ea3 l\u1eddi {name}"/*FBT_CALL*/,[h._param("name",f)])})}),i===97&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:g.work_knowledge_inline_annotation_comment_badge_renderer,props:{renderer:g.work_knowledge_inline_annotation_comment_badge_renderer}})}),y?j.jsxs("div",{className:"btwxx1t3 nc684nl6 bp9cbjyn",children:[x,j.jsx(c("CometUFICommentInlineIdentityBadges.react"),{comment:g})]}):x,b("cr:1798299")!=null&&!e?j.jsx(b("cr:1798299"),{comment:g,isBackgroundTransparent:q}):null,v!=null?v.map(function(a,b){return j.jsx(c("CometErrorBoundary.react"),{children:a},b)}):null,u,g.body_renderer!=null?j.jsx("div",{className:"ecm0bbzt e5nlhep0 a8c37x1j",children:j.jsx(c("CometTextLangContext").Provider,{value:z,children:j.jsx(c("TetraText.react"),{color:w?"disabled":null,type:"body3",children:t})})}):null]}),Boolean(g.optimistic_error)?j.jsx("span",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 a8c37x1j rm7oo3ik i09qtzwb qmr60zad inkptoze qlfml3jp e72ty7fz czm2i3kx hxpkjkow m2wu88kb pmg7q2s5",children:"\xa0"}):null]})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="CometUFICommentBody";g["default"]=a}),98);
__d("CometUFICommentMenu.entrypoint",["CometUFICommentMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.feedLocation;a=a.id;return{queries:{menuQueryReference:{options:{fetchPolicy:"network-only"},parameters:b("CometUFICommentMenuQuery$Parameters"),variables:{feedLocation:c,id:a}}}}},root:c("JSResourceForInteraction")("CometUFICommentMenu.react").__setRef("CometUFICommentMenu.entrypoint")};g["default"]=a}),98);
__d("CometUFICommentMenuButton.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometRelay","CometTooltip.react","CometUFICommentMenu.entrypoint","CometUFICommentMenuButton_comment.graphql","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useCallback,m=e.useState;function a(a){var e=a.color,f=e===void 0?"secondary":e;e=a.comment;var g=a.feedbackSource,n=a.feedLocation,o=a.onEdit,p=a.onOptimisticDeletion,q=a.popoverPosition,r=a.showMenuIcons,s=a.topLevelFeedbackId;a=a.visible;e=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentMenuButton_comment.graphql"),e);var t=e.comment_menu_tooltip,u=e.id,v=e.optimistic_action;e=e.should_show_comment_menu;var w=m(!1),x=w[0],y=w[1],z=l(function(){y(!0)},[]),A=l(function(){y(!1)},[]),B=t!=null?t:h._(/*FBT_CALL*/"Xem th\u00eam"/*FBT_CALL*/);if(v!=null)return k.jsx("div",{className:"b5wmifdl no6464jc tf0xghai",children:k.jsx(c("TetraIcon.react"),{"aria-label":B,color:f,disabled:!0,icon:d("fbicon")._(i("484386"),16)})});if(e!==!0||u==null)return null;w=q!=null?{position:q}:{};v=a===!0||x===!0;return k.jsx("div",{className:c("stylex").dedupe({"margin-start-1":"no6464jc","opacity-1":"b5wmifdl"},v?{"opacity-1":"pedkr2u6"}:null,{"opacity-2-(any-pointer: coarse)":"nv5ty6hh"}),children:k.jsx(c("CometEntryPointPopoverTrigger.react"),babelHelpers["extends"]({align:"middle",entryPointParams:{feedLocation:n,id:u},otherProps:{feedLocation:n,feedbackSource:g,onEdit:o,onOptimisticDeletion:p,showMenuIcons:r,topLevelFeedbackId:s},popoverEntryPoint:c("CometUFICommentMenu.entrypoint"),popoverType:"menu"},w,{children:function(a,b,e,g,h,j){e=k.jsx(c("TetraIcon.react"),{"aria-label":B,color:f,icon:d("fbicon")._(i("484386"),16),onFocusIn:z,onFocusOut:A,onHoverIn:g,onHoverOut:h,onPress:b,onPressIn:j,ref:a,testid:void 0});return t!=null?k.jsx(c("CometTooltip.react"),{position:"above",tooltip:B,children:e}):e}}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIComposerRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({actorRenderer:null,addOn:null});g["default"]=b}),98);
__d("StagesProfileAvatarContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");c=b.createContext;var h=b.useContext;function a(){return h(i)}var i=c(null);g.useStagesProfileAvatar=a;g.StagesProfileAvatarContext=i}),98);
__d("CometUFICommentRow.react",["fbt","ix","CometPressable.react","CometRelativeTimestamp.react","CometRelay","CometUFICommentActorLink.react","CometUFICommentRow_actor.graphql","CometUFICommentRow_comment.graphql","CometUFIComposerRowContext","GraphQLGender","ProfileCometContextualProfileGating","StagesProfileAvatarContext","TetraIcon.react","TetraProfilePhoto.react","UFI2SilhouetteConfig","emptyFunction","fbicon","nux:55","react","stylex","useServerTime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=d("react"),m=d("react"),n=m.useContext,o=m.useMemo,p={aero:{opacity:"qwwmc0zo"},avatarWrapper:{alignSelf:"nqmvxvec",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"a8c37x1j",marginEnd:"fv0vnmcu",marginTop:"rs0gx3tq",position:"l9j0dhe7"},avatarWrapperDepth1:{marginTop:"qjjbsfad"},composerExpandedContent:{paddingEnd:"rz4wbd8a"},expandedContent:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingEnd:"hv4rvrfc"},nux:{maxWidth:"nqmqzb3c"},root:{display:"j83agx80",flexDirection:"btwxx1t3",outline:"lzcic4wl"}},q=(m=b("nux:55")==null?void 0:b("nux:55")("comet_group_ca_adoption"))!=null?m:c("emptyFunction");function a(a){var b,e,f=a.actor,g=a.comment,j=a.depth,k=a.forceLargeAvatar,m=a.isComposer;m=m===void 0?!1:m;var r=a.isDisabled,s=a.onAvatarClick,t=a.showWarning;a=n(c("CometUFIComposerRowContext"));a=a.actorRenderer;var u=o(function(){var a;t?a={icon:l.jsx(c("TetraIcon.react"),{color:"negative",icon:d("fbicon")._(i("681770"),16)}),size:16,type:"activityBadge"}:f.availability==="ACTIVE"&&(a={type:"availabilityBadge"});return a},[f.availability,t]),v=(g==null?void 0:g.if_viewer_can_see_member_page_tooltip)!=null;v=q({align:"start",arrowStyle:"inset",hasCloseButton:!1,label:h._(/*FBT_CALL*/"Truy c\u1eadp trang c\u00e1 nh\u00e2n th\u00e0nh vi\u00ean c\u1ee7a b\u1ea1n."/*FBT_CALL*/),position:"below",type:"accent",xstyle:p.nux},v);b=g==null?void 0:(b=g.author_contextual_profile_info)==null?void 0:(b=b.contextual_profile_picture_depth_0)==null?void 0:b.uri;e=g==null?void 0:(e=g.author_contextual_profile_info)==null?void 0:(e=e.contextual_profile_picture_depth_1)==null?void 0:e.uri;var w=d("StagesProfileAvatarContext").useStagesProfileAvatar();b=d("ProfileCometContextualProfileGating").canViewFullExpressionContextualProfileEdits()&&b!=null?b:m&&w!=null?w:(b=(b=f.profile_picture_depth_0)==null?void 0:b.uri)!=null?b:c("UFI2SilhouetteConfig").neutralSilhouette32;e=d("ProfileCometContextualProfileGating").canViewFullExpressionContextualProfileEdits()&&e!=null?e:m&&w!=null?w:(w=(e=f.profile_picture_depth_1)==null?void 0:e.uri)!=null?w:c("UFI2SilhouetteConfig").neutralSilhouette24;w=j===0||k?l.jsx(c("TetraProfilePhoto.react"),{addOn:u,size:32,source:{uri:b}}):l.jsx(c("TetraProfilePhoto.react"),{addOn:u,size:24,source:{uri:e}});if(m){b=a!=null?a(w):null;w=b==null?l.jsx(c("CometPressable.react"),{"aria-hidden":!0,onPress:s,overlayRadius:"50%",children:w}):b}else f.id!=null&&(w=l.jsx(c("CometUFICommentActorLink.react"),{"aria-hidden":!0,comment$key:g,kind:"profilePhoto",children:w}));w=l.jsx("div",{className:c("stylex")(p.avatarWrapper,j===1&&!k&&p.avatarWrapperDepth1,r&&p.aero),ref:v,children:w});return w}a.displayName=a.name+" [from "+f.id+"]";var r=l.memo(a);function e(a){var e=a.actor,f=a.children,g=a.comment,i=a.depth,m=a.forceLargeAvatar;m=m===void 0?!1:m;var o=a.isComposer;o=o===void 0?!1:o;var q=a.isDisabled;q=q===void 0?!1:q;var s=a.onAvatarClick,t=a.root,u=a.showWarning;u=u===void 0?!1:u;var v=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","children","comment","depth","forceLargeAvatar","isComposer","isDisabled","onAvatarClick","root","showWarning","xstyle"]);e=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentRow_actor.graphql"),e);g=d("CometRelay").useFragment(k!==void 0?k:k=b("CometUFICommentRow_comment.graphql"),g);m=l.jsx(r,{actor:e,comment:g,depth:i,forceLargeAvatar:m,isComposer:o,isDisabled:q,onAvatarClick:s,showWarning:u});q=new(c("GraphQLGender"))(e.gender).toIntlVariationsEnum();u=g==null?void 0:(s=g.comment_parent)==null?void 0:s.author;s=c("useServerTime")();s=(g==null?void 0:g.created_time)!=null?c("CometRelativeTimestamp.react").getRelativeTimestamp(s,new Date(g.created_time*1e3)):"";g=o?{}:{"aria-label":i===0?h._(/*FBT_CALL*/{"*":"B\u00ecnh lu\u1eadn d\u01b0\u1edbi t\u00ean {commenterName} v\u00e0o {relativeTimestamp}"}/*FBT_CALL*/,[h._param("commenterName",e.name,[1,q]),h._param("relativeTimestamp",s)]):h._(/*FBT_CALL*/{"*":{"*":"Ph\u1ea3n h\u1ed3i b\u00ecnh lu\u1eadn c\u1ee7a {parentCommenterName} d\u01b0\u1edbi t\u00ean {commenterName} v\u00e0o {relativeTimestamp}"}}/*FBT_CALL*/,[h._param("commenterName",e.name,[1,q]),h._param("parentCommenterName",u==null?void 0:u.name,[1,new(c("GraphQLGender"))(u==null?void 0:u.gender).toIntlVariationsEnum()]),h._param("relativeTimestamp",s)]),role:"article",tabIndex:"-1"};i=n(c("CometUFIComposerRowContext"));e=i.addOn;return l.jsxs("div",babelHelpers["extends"]({},a,g,{className:c("stylex")(v,p.root),ref:t,children:[m,l.jsx("div",{className:c("stylex")(p.expandedContent,o===!0&&p.composerExpandedContent),children:f}),o&&e]}))}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("DOMIntersection",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.getBoundingClientRect();b=b.getBoundingClientRect();return!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom)}f.isIntersecting=a}),66);
__d("CometUFICommentTopReactionsWrapper.react",["cx","CSS","CometUFICommentTopReactionsWrapper_feedback.graphql","DOMIntersection","UFI2CometRelayCreateFragmentContainer","cr:1725688","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","queryThenMutateDOM","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useRef;function a(a){var e,f=a.avoidableElementBorderingBottom,g=a.children,h=a.feedback,i=a.subscriptionsHandler,m=l(null),n=l(null),o=l(!1),p=l(null),q=l(null),r=k(function(){var a=q.current,b=f.current,e=m.current,g=p.current,j=o.current;if(a!==null||!b||!e||!g||!j)return;var k=!1;i.addSubscriptions(c("queryThenMutateDOM")(function(){k=d("DOMIntersection").isIntersecting(b,g)},function(){k!==a&&(k===!0&&d("CSS").addClass(e,"_680_"),d("CSS").removeClass(e,"invisible_elem"),q.current=k,n.current!=null&&(n.current.remove(),n.current=null))},"CometUFICommentTopReactionsWrapper_"+((j=h.id)!=null?j:"UNKNOWN")))},[f,h.id,i]);a=k(function(a){m.current=a,a==null&&(q.current=null),r()},[r]);var s=k(function(a){p.current!==a&&(p.current=a,n.current!=null&&(n.current.remove(),n.current=null),p.current&&(n.current=c("observeIntersection")(p.current,function(a){o.current=c("intersectionObserverEntryIsIntersecting")(a),r()},{rootMargin:"1000px"}),i.addSubscriptions(n.current)))},[r,i]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){r()},[r]);e=h.should_show_top_reactions!=null?h.should_show_top_reactions:Boolean((e=h.reactors)==null?void 0:e.count);return j.jsxs("div",{className:"_680y",children:[j.jsx("div",{className:"_6cuy",children:g}),e?j.jsx("div",{className:"_6cuq invisible_elem",ref:a,children:j.jsx(b("cr:1725688"),{feedback:h,rootRef:s})}):null]})}a.displayName=a.name+" [from "+f.id+"]";h=c("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(c("injectSubscriptionsHandler.react")(a),{feedback:i!==void 0?i:i=b("CometUFICommentTopReactionsWrapper_feedback.graphql")});g["default"]=h}),98);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=!1,j=c("getDocumentScrollElement")(),k=[],l;function m(a){i=!0;k.push.apply(k,h);while(k.length){var b=k.shift();c("ErrorUtils").applyWithGuard(b,null,[a],null,"UFI2ActiveLayerMonitor")}i=!1}function n(a){j!==a&&(j=a,m(a))}function a(){return j}function b(a){h.push(a);i&&k.push(a);l==null&&(l=new(c("SubscriptionsHandler"))(),l.addSubscriptions(c("UserActivity").subscribe(function(a,b){a=b.event;n(d("Parent").byClass(a.target,"uiLayer")||c("getDocumentScrollElement")())})));var b=!1;return{remove:function(){if(b)return;var c=h.indexOf(a);c!==-1&&h.splice(c,1);if(i){c=k.indexOf(a);c!==-1&&k.splice(c,1)}h.length===0&&(l&&(l.release(),l=null));b=!0}}}g.getLastActiveLayer=a;g.subscribe=b}),98);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i,j=!1,k=d("ExecutionEnvironment").canUseDOM&&c("UserActivity").isOnTab()&&c("UserActivity").isActive(c("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var b=function(){var b=l.shift();c("ErrorUtils").applyWithGuard(function(){return b(a)},null,null,null,"UFI2UserActivityMonitor")};while(l.length)b();j=!1}function o(a){c("clearTimeout")(i),a>0&&(i=c("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}function a(){return k}e=function(){m==null&&(o(Math.max(0,c("UFI2UserActivityIdleTimeout")-(Date.now()-c("UserActivity").getLastActive()))),m=new(c("SubscriptionsHandler"))(),m.addSubscriptions(c("UserActivity").subscribe(function(a,b){a=b.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&c("UserActivity").isOnTab()===!1)return;p("ACTIVE");o(Math.max(0,c("UFI2UserActivityIdleTimeout")-(Date.now()-c("UserActivity").getLastActive())))}),c("Event").listen(window,"blur",function(){p("INACTIVE"),c("clearTimeout")(i)}),c("Visibility").addListener(c("Visibility").HIDDEN,function(){p("INACTIVE"),c("clearTimeout")(i)})))};function b(a){h.push(a);j&&l.push(a);var b=!1;return{remove:function(){if(b)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&c("clearTimeout")(i);b=!0}}}d("ExecutionEnvironment").canUseDOM&&e();g.getActivityState=a;g.init=e;g.subscribe=b}),98);
__d("getFBAlphaConsoleSize",["ge"],(function(a,b,c,d,e,f,g){function a(){var a=c("ge")("alpha_console_container");if(a)return{height:a.offsetHeight,width:a.offsetWidth};else return{height:0,width:0}}g["default"]=a}),98);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i={};function a(a){var b=c("uuid")();if(i[a]==null){var d=new(c("UFIStopWatch"))();i[a]={runningClientMap:{},stopwatch:d,totalClients:0}}i[a].totalClients+=1;var e=!1;function f(){e===!1||h(0,6067)}var g={dispose:function(){if(e)return;g.pause();i[a].totalClients-=1;i[a].totalClients===0&&delete i[a];e=!0},getMilliseconds:function(){f();return i[a].stopwatch.milliseconds()},getStartTime:function(){f();return i[a].stopwatch.getStartTime()},isRunning:function(){f();return i[a].stopwatch.state()===c("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return i[a].totalClients>1},pause:function(){f(),delete i[a].runningClientMap[b],Object.keys(i[a].runningClientMap).length===0&&i[a].stopwatch.pause()},start:function(){f(),i[a].runningClientMap[b]=!0,i[a].stopwatch.start()}};return g}g["default"]=a}),98);
__d("onAttachedToDOM",["ErrorUtils","containsNode","killswitch"],(function(a,b,c,d,e,f){"use strict";var g;function c(){var a=new Map(),c=new MutationObserver(d);function d(c){c.some(function(c){return Array.from(c.addedNodes).some(function(c){a.forEach(function(a,d){b("containsNode")(c,d)&&a.forEach(function(a){h(d,a),(g||(g=b("ErrorUtils"))).applyWithGuard(a)})});return a.size===0})})}function e(a){return b("containsNode")(document.documentElement,a)}function f(b,d){a.size===0&&c.observe(document,{childList:!0,subtree:!0});var e=a.get(b);e==null&&(e=[],a.set(b,e));e.push(d)}function h(b,d){var e=a.get(b);if(e){d=e.indexOf(d);d!==-1&&e.splice(d,1);e.length===0&&a["delete"](b);a.size===0&&c.disconnect()}}return function(a,b){if(e(a)){b();return{remove:function(){}}}f(a,b);var c=!1;return{remove:function(){if(c)return;c=!0;h(a,b)}}}}b("killswitch")("ON_ATTACHED_TO_DOM_HELPER")||a.MutationObserver==null?d=null:d=c();e.exports=d}),null);
__d("UFI2VPVDLoggedComponent.react",["cx","invariant","Banzai","Parent","UFI2ActiveLayerMonitor","UFI2UserActivityMonitor","clearInterval","collectDataAttributes","containsNode","getFBAlphaConsoleSize","getSharedStopwatch","gkx","injectSubscriptionsHandler.react","isIntersectionObserverEntryVPVDVisible","observeIntersection","onAttachedToDOM","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1];a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1="HIDDEN",e.$4=!1,e.$7=d("UFI2UserActivityMonitor").getActivityState(),e.$8="div",e.$11=function(a,b){return e.$5?c("collectDataAttributes")(e.$5,a,b):null},e.$12=function(a){e.$4=c("containsNode")(a,e.$5),e.$13()},e.$14=function(a){e.$1=c("isIntersectionObserverEntryVPVDVisible")(a)?"VISIBLE":"HIDDEN",e.$13()},e.$15=function(a){a==null||a instanceof HTMLDivElement||i(0,5279),e.$5!==a&&(e.$2!=null&&(e.$2.remove(),delete e.$2),e.$3!=null&&(e.$3.remove(),delete e.$3)),a&&(c("onAttachedToDOM")?e.$2=c("onAttachedToDOM")(a,function(){e.$3&&e.$3.remove(),e.$16(a)}):e.$16(a)),e.$5=a},e.$17=function(a){e.$7=a,e.$13()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.$13=function(){var a=this.$6;if(this.$1==="HIDDEN"||this.$4===!1||this.$7==="INACTIVE"){if(a==null)return;if(!a.isSharedWithOtherClients()){var b=a.getMilliseconds(),d=a.getStartTime();this.props.onLogDuration(d,b,this.$11)}a.dispose();this.$6=null}else a==null&&(this.$6=a=c("getSharedStopwatch")(this.props.contentIdentifier)),a.start()};e.$16=function(a){this.$4=c("containsNode")(d("UFI2ActiveLayerMonitor").getLastActiveLayer(),a);var b=d("Parent").byClass(a,"uiScrollableAreaWrap"),e=b==null?"-44px 0px -"+c("getFBAlphaConsoleSize")().height+"px 0px":"0px";this.$3=c("observeIntersection")(a,this.$14,{root:b instanceof HTMLElement?b:null,rootMargin:e,threshold:k})};e.componentDidMount=function(){var a=this;this.props.subscriptionsHandler.addSubscriptions(c("Banzai").subscribe(c("Banzai").SHUTDOWN,function(){a.$1="HIDDEN",a.$13()}),d("UFI2UserActivityMonitor").subscribe(this.$17),d("UFI2ActiveLayerMonitor").subscribe(this.$12));var b=this.props.domAttachmentEventEmitter;b&&this.props.subscriptionsHandler.addSubscriptions(b.addListener("inserted",function(){var b=a.$5;if(b==null)return;a.$2&&(a.$2.remove(),delete a.$2);a.$3&&a.$3.remove();a.$16(b)}))};e.componentWillUnmount=function(){this.$1="HIDDEN",this.$2&&(this.$2.remove(),delete this.$2),this.$3&&(this.$3.remove(),delete this.$3),this.$13()};e.render=function(){var a=this.$8;return j.jsx(a,{ref:this.$15,children:this.props.children})};return b}(j.Component);b=c("injectSubscriptionsHandler.react")(a);g["default"]=b}),98);
__d("isCommentNewSinceLastGroupVisit",["CometRelay","isCommentNewSinceLastGroupVisit_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("isCommentNewSinceLastGroupVisit_comment.graphql"),a);return c!=null&&(a==null?void 0:a.created_time)!=null&&(a==null?void 0:a.created_time)>c}g["default"]=a}),98);
__d("useCometHighlightOnVisible",["BaseScrollableAreaContext","CometEventListener","react","useDebouncedComet","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.maxTime;a=a.scrollDebounce;var d=l(!1),e=d[0],f=d[1];d=l(!0);var g=d[0],m=d[1],n=k(!1),o=k(null),p=h(function(){e||(f(!0),m(!1))},[e]),q=c("useDebouncedComet")(function(){p()},{wait:a});d=h(function(){o.current!=null&&(o.current=null),q.reset()},[q]);var r=h(function(){n.current=!0;var a=o.current;if(a!=null){var c=Date.now();a+b<c?(q.reset(),p()):q()}},[p,b,q]);a=h(function(){o.current==null&&(o.current=Date.now(),n.current||r())},[r]);var s=i(c("BaseScrollableAreaContext"));j(function(){if(e)return;var a=s[s.length-1];a=a==null?void 0:a.getDOMNode();var b=c("CometEventListener").bubbleWithPassiveFlag((a=a)!=null?a:window,"scroll",r,!0);return function(){b.remove()}},[e,r,s]);d=c("useVisibilityObserver")({onHidden:e?void 0:d,onVisible:e?void 0:a});return[d,g]}g["default"]=a}),98);
__d("makeCometUFIHighlightedComment",["react","useCometHighlightOnVisible"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=5e3,j=400;function a(a){return function(b){var d=c("useCometHighlightOnVisible")({maxTime:i,scrollDebounce:j}),e=d[0];d=d[1];return h.jsx("div",{ref:e,children:h.jsx(a,babelHelpers["extends"]({},b,{hasHighlightApplied:d}))})}}g["default"]=a}),98);
__d("CometUFIComment.react",["BaseScrollableAreaContext","CometBackupPlaceholder.react","CometCommunityCommentSignalRenderer.react","CometErrorBoundary.react","CometFeedStoryUFICommentAttachments.react","CometFeedVisitationContext","CometPlaceholder.react","CometProgressIndicator.react","CometRelay","CometScrollAnchorContext","CometTrackingNodeProvider.react","CometUFICommentActionLinks.react","CometUFICommentBody.react","CometUFICommentMenuButton.react","CometUFICommentRow.react","CometUFICommentTopReactionsWrapper.react","CometUFIComment_comment.graphql","CometUFIComment_feedback.graphql","FBLogger","UFI2Config","UFI2VPVDLoggedComponent.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","WebPixelRatio","cr:1829844","emptyFunction","isCommentNewSinceLastGroupVisit","makeCometUFIHighlightedComment","orEmptyArray","react","recoverableViolation","scrollIntoView","stylex","useCometScrollAnchor","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,aa=e.useContext,l=e.useEffect,m=e.useRef,ba=e.useState,ca=e.useTransition,da={behavior:"smooth",verticalAlign:"center"},ea=c("makeCometUFIHighlightedComment")(c("CometUFICommentBody.react")),fa=c("makeCometUFIHighlightedComment")(c("CometUFICommentRow.react"));function ga(a){var b=a.attached_story,d=a.attachments;a=a.id;if(b!=null)return!c("UFI2Config").shouldUseSimplifiedAttachments;if(d==null||d.length===0)return!1;b=d[0].style_list;if(b==null){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",(d=a)!=null?d:"UNKNOWN").mustfix("Encountered a null `style_list` property while trying to determine if a comment attachment is renderable. Investigate why.");return!1}if(b.includes("COMMENT_MESSAGE_INFO"))return!1;if(c("UFI2Config").shouldUseSimplifiedAttachments)for(var a=b,d=Array.isArray(a),b=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(d){if(b>=a.length)break;e=a[b++]}else{b=a.next();if(b.done)break;e=b.value}e=e;if(c("UFI2Config").attachmentStylesToSimplify.includes(e))return!1}return!0}var n={aero:{opacity:"qwwmc0zo"},content:{display:"j83agx80",maxWidth:"bvz0fpym",wordWrap:"c1et5uql"},contentWithMenu:{display:"q9uorilb",verticalAlign:"sf5mxxl7"},fresh:{backgroundColor:"is6700om",bottom:"i09qtzwb",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"dsl5tyj5"},freshDepth1:{start:"ghkatn0t"},freshDepth2:{start:"rn3csqz5"},menu:{display:"q9uorilb",verticalAlign:"sf5mxxl7",width:"pgctjfs5"},root:{position:"l9j0dhe7"}};function o(a){var e=a.showMenuIcons,f=a.addConstantHighlightCallbacks,g=a.alwaysShowsMenu;g=g===void 0?!1:g;var o=a.canBeDisabled;o=o===void 0?!0:o;var p=a.comment,q=a.depth,ha=a.disableFreshIndicator,ia=a.domAttachmentEventEmitter,r=a.feedback,s=a.feedbackSource,t=a.feedLocation,u=a.isHighlighted,ja=a.isLocallyComposed,ka=a.isRealtime,la=a.logCommentViewportViewDuration,v=a.onEdit,w=a.onOptimisticDeletion,x=a.onReplyToComment,y=a.onTranslated,ma=y===void 0?c("emptyFunction"):y;y=a.onUntranslated;var na=y===void 0?c("emptyFunction"):y;y=a.popoverPosition;var z=a.removeConstantHighlightCallback,A=a.showMenu,B=a.hideReplyActionLink,C=a.showReplyingToHeader,D=a.storyRenderLocation,E=a.shouldAlwaysHaveCommentBackground;E=E===void 0?!1:E;var oa=a.topLevelFeedbackID,pa=a.translationRequested,F=a.unpinTriggerRef,G=a.viewOption,H=a.topLevelViewOption;a=a.xstyle;p=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("CometUFIComment_comment.graphql"),p);var I=p[0],qa=p[1];p=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIComment_feedback.graphql"),r);r=k(function(a){a=j.Children.toArray(a);var b=I==null?void 0:I.feedback;if(b==null||(I==null?void 0:I.optimistic_action)!=null||(I==null?void 0:I.optimistic_error)!=null)return a;var d=a.slice(0,-1);a=a.slice(-1);b=j.jsx(c("CometUFICommentTopReactionsWrapper.react"),{avoidableElementBorderingBottom:sa,feedback:b,children:a});return j.Children.toArray([].concat(d,[b]))},[I]);var J=ca(),K=J[0],ra=J[1],L=m(!1),M=k(function(a){if((I==null?void 0:I.translation_available_for_viewer)!==!0){c("recoverableViolation")("Unable to translate a comment that has no available translation","ufi2");return}var b=I==null?void 0:I.id;if(b==null)return;ra(function(){qa({id:b,scale:d("WebPixelRatio").get(),translationType:a},{onComplete:function(){a==="MACHINE_TRANSLATION"?ma():(L.current=!0,na())}})})},[I,ma,na,qa,ra]);l(function(){var a;if(pa!==!0||(I==null?void 0:(a=I.preferred_body)==null?void 0:a.translation_type)==="MACHINE_TRANSLATION"||K===!0||L.current||(I==null?void 0:I.translation_available_for_viewer)!==!0)return;M("MACHINE_TRANSLATION")},[pa,M,I,K,L]);J=k(function(){var a;a=I==null?void 0:(a=I.preferred_body)==null?void 0:a.translation_type;a=a==="MACHINE_TRANSLATION"?"ORIGINAL":"MACHINE_TRANSLATION";M(a)},[I==null?void 0:I.preferred_body,M]);var sa=m(null),N=d("CometFeedVisitationContext").useCometFeedVisitationContext();N=N.feedLastVisitTime;var O=d("CometRelay").useRelayEnvironment(),ta=(I==null?void 0:I.id)!=null?"`CometUFIComment` experienced a fatal error rendering a comment with ID "+(I==null?void 0:I.id)+".":"`CometUFIComment` experienced a fatal error rendering a comment without ID.",P=ba(!1),Q=P[0],R=P[1];P=k(function(a){R(!0)},[]);var ua=k(function(a){R(!1)},[]),va=k(function(a){Q||R(!0)},[Q]),S=c("usePrevious")(I==null?void 0:I.optimistic_action);l(function(){if((I==null?void 0:I.client_id)!=null&&(I==null?void 0:I.optimistic_action)==null&&(I==null?void 0:I.optimistic_error)==null&&(S==="ADD"||S==="EDIT")){var a=(I==null?void 0:I.client_id)+(S==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT);d("UFICommonInteractionLogger").endInteraction(a)}},[I==null?void 0:I.client_id,I==null?void 0:I.optimistic_action,I==null?void 0:I.optimistic_error,S]);l(function(){s===1&&(q===0?d("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount","comet"):d("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount","comet"))},[]);l(function(){if((I==null?void 0:I.client_id)!=null&&((I==null?void 0:I.optimistic_action)==="ADD"||(I==null?void 0:I.optimistic_action)==="EDIT")){var a=I==null?void 0:I.client_id;d("UFICommonInteractionLogger").endInteraction(a+((I==null?void 0:I.optimistic_action)==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT));(I==null?void 0:I.optimistic_error)!=null&&d("UFICommonInteractionLogger").endInteraction(a+((I==null?void 0:I.optimistic_action)==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT),!0)}},[]);var T=aa(c("BaseScrollableAreaContext")),U=T.length>0,V=d("useCometScrollAnchor").useCometScrollAnchor("ufi-comment",U?"FIXME_T68750863":I==null?void 0:I.legacy_fbid,da),wa=m(!1),W=aa(c("CometScrollAnchorContext"));l(function(){if(U&&wa.current===!1&&((W==null?void 0:W.key)==="ufi-comment"||(W==null?void 0:W.key)==="ufi-reply")&&(W==null?void 0:W.value)!=null&&(W==null?void 0:W.value)===(I==null?void 0:I.legacy_fbid)){var a=V.current;a!=null&&(wa.current=!0,c("scrollIntoView")(a,babelHelpers["extends"]({},da,{verticalAlign:"center"})))}},[I==null?void 0:I.legacy_fbid,U,V,W]);var X=I==null?void 0:I.id;T=ba(!1);var Y=T[0],xa=T[1];l(function(){if(X!=null&&f&&z){f(X,xa);return function(){return z(X)}}},[f,X,z]);if(I==null)return null;T=I.author;if(T==null){var Z;c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",(Z=X)!=null?Z:"UNKNOWN").warn("CometUFIComment: Cant render comment without author");return null}if(X==null){c("FBLogger")("ufi2").mustfix("CometUFIComment: Cant render comment without an id");return null}Z=(Z=p.viewer_actor)==null?void 0:Z.id;var ya=u&&!I.preferred_body,$=u?ea:c("CometUFICommentBody.react");ya=ya?fa:c("CometUFICommentRow.react");$=j.jsx($,{comment:I,feedbackSource:s,isConstantHighlightEnabled:Y,shouldAlwaysHaveCommentBackground:E,shouldTruncate:!u&&!ja,showReplyingToHeader:C,storyRenderLocation:D},X);Y=I.elevated_comment_data!=null;C=ga(I)&&j.jsx(c("CometPlaceholder.react"),{fallback:c("CometProgressIndicator.react")!=null?j.jsx("div",{style:{paddingLeft:10},children:j.jsx(c("CometProgressIndicator.react"),{})}):null,children:j.jsx(c("CometFeedStoryUFICommentAttachments.react"),{actorID:Z,comment:I,feedbackSource:s,storyRenderLocation:D})},X+"_attachment_placeholder");Z=j.jsx(c("CometUFICommentActionLinks.react"),{actionLinksListRef:sa,comment:I,depth:q,environment:O,feedLocation:t,feedback:p,feedbackSource:s,handleOnReply:x,handleTranslationClick:J,hasRemovableAttachment:ga(I)&&I.can_viewer_disable_preview===!0,hideReplyActionLink:B,isFetchingTranslation:K,onEdit:v,topLevelViewOption:H,unpinTriggerRef:F,viewOption:G});p=Boolean((D=A)!=null?D:!0)?j.jsx(c("CometUFICommentMenuButton.react"),{comment:I,feedLocation:t,feedbackSource:s,onEdit:v,onOptimisticDeletion:w,popoverPosition:y,showMenuIcons:e,topLevelFeedbackId:(O=oa)!=null?O:null,visible:Q&&!I.optimistic_error||g}):null;J=ha!==!0&&(ja||ka||c("isCommentNewSinceLastGroupVisit")(I,(x=N)!=null?x:void 0));F=c("orEmptyArray")((B=I.attachments)==null?void 0:(H=B[0])==null?void 0:H.style_list);G=!F.some(function(a){return["chat_command_result","TIP_JAR_PAYMENT"].includes(a)});A=G||!I.preferred_body?r([$,C]):[].concat(r([$]),[C]);D=A[0];v=A.slice(1);w=j.jsx(d("CometRelay").MatchContainer,{fallback:D,match:I.comment_upper_badge_renderer,props:{firstContentElement:D}});e=j.jsxs(j.Fragment,{children:[j.jsxs(ya,{actor:T,comment:I,"data-testid":void 0,depth:q,isDisabled:(y=I.is_disabled===!0&&o)!=null?y:!1,onMouseEnter:P,onMouseLeave:ua,onMouseMove:va,root:V,showWarning:Boolean(I.optimistic_error),xstyle:[n.root,I.spam_display_mode!=="none"&&o&&n.aero,a],children:[J?j.jsx("div",{className:c("stylex")(n.fresh,q===1&&n.freshDepth1,q===2&&n.freshDepth2)}):null,j.jsxs("div",{children:[j.jsxs("div",{className:c("stylex")(n.content,n.contentWithMenu,I.is_disabled===!0&&o&&n.aero),children:[j.jsx(c("CometCommunityCommentSignalRenderer.react"),{comment:I,commentID:X,isCommentHighlighted:u,shouldAlwaysHaveCommentBackground:E}),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{fallback:w,match:I.elevated_comment_data,props:{feedLocation:t}})})]}),p!=null&&j.jsx("div",{className:c("stylex")(n.menu),children:p})]}),v.length>0&&!Y&&j.jsx("div",{className:c("stylex")(n.content),children:v}),Z,j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:I.work_answered_event_comment_renderer,props:{data:I}})})]}),j.jsx(c("CometBackupPlaceholder.react"),{fallback:j.jsx("div",{"aria-busy":"true"}),children:j.jsx(d("CometRelay").MatchContainer,{match:I.inline_survey_config,props:{inlineSurveyConfig:I.inline_survey_config}})})]});la!=null&&(e=j.jsx(c("UFI2VPVDLoggedComponent.react"),{contentIdentifier:X,domAttachmentEventEmitter:ia,onLogDuration:la,children:e}));b("cr:1829844")!=null&&(e=j.jsx(b("cr:1829844"),{name:"feed_comment",children:e}));return j.jsx(c("CometErrorBoundary.react"),{context:{project:"ufi2"},description:ta,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:25,children:e})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return j.jsx(c("CometBackupPlaceholder.react"),{fallback:null,children:j.jsx(o,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentActorAMAQuestionAnswerBadge.react",["fbt","CometRelay","CometUFICommentActorAMAQuestionAnswerBadge_comment.graphql","TetraText.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){a=a.comment$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActorAMAQuestionAnswerBadge_comment.graphql"),a);a=a==null?void 0:a.question_and_answer_type;if(a==null)return null;return a!=="AUTHOR"&&a!=="ANSWER"&&a!=="QUESTION"?c("recoverableViolation")("AMA comment badge received an invalid value of "+a+" rather than 'AUTHOR', 'ANSWER', or 'QUESTION'","covid19_ama"):j.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt kkf49tns q9uorilb bnpdmtie qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj cwj9ozl2",children:j.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink4",children:a==="AUTHOR"?h._(/*FBT_CALL*/"T\u00e1c gi\u1ea3"/*FBT_CALL*/):a==="ANSWER"?h._(/*FBT_CALL*/"C\u00e2u tr\u1ea3 l\u1eddi"/*FBT_CALL*/):a==="QUESTION"?h._(/*FBT_CALL*/"C\u00e2u h\u1ecfi"/*FBT_CALL*/):null})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentActorLinkBadges.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFICommentActorAMAQuestionAnswerBadge.react","CometUFICommentActorLinkBadges_comment.graphql","cr:1798298","cr:1979","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("CometUFICommentActorVerifiedBadge.react").__setRef("CometUFICommentActorLinkBadges.react")),k=c("deferredLoadComponent")(c("requireDeferred")("CometUFICommentActorConstituentBadge.react").__setRef("CometUFICommentActorLinkBadges.react")),l=c("deferredLoadComponent")(c("requireDeferred")("CometUFICommentInlineFollowCTA.react").__setRef("CometUFICommentActorLinkBadges.react"));function a(a){var e,f,g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentActorLinkBadges_comment.graphql"),a.comment);e=(g==null?void 0:(e=g.author)==null?void 0:e.is_verified)===!0;f=g==null?void 0:(f=g.author)==null?void 0:f.id;var m=(g==null?void 0:g.has_constituent_badge)===!0,n=(g==null?void 0:g.can_viewer_see_subsribe_button)===!0;return i.jsxs(i.Fragment,{children:[m&&i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(k,{comment:g})},"constituentBadge"),e&&f!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(j,{profileID:f})},"verifiedBadge"),(g==null?void 0:g.author_user_signals_renderer)!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(d("CometRelay").MatchContainer,{match:g.author_user_signals_renderer,props:{isBackgroundTransparent:a.isBackgroundTransparent}})})},"userSignal"),n&&i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(l,{comment$key:g})},"inlineFollowCTA"),i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(c("CometUFICommentActorAMAQuestionAnswerBadge.react"),{comment$key:g})},"amaAnswerBadge"),b("cr:1798298")!=null?i.jsx(b("cr:1798298"),{comment:g}):null,b("cr:1979")!=null?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(b("cr:1979"),{comment$key:g})},"fishbowlBadge"):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentDisabledNotice.react",["CometEmojiTransform","CometEmoticonTransform","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometShortenedExternalUrlEntityRenderer","CometUFICommentDisabledNotice_feedback.graphql","TetraText.react","UFI2ViewOption","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={"*":[c("CometLinkedEntityRenderer")],ExternalUrl:[c("CometShortenedExternalUrlEntityRenderer")]},k=[c("CometEmoticonTransform")(),c("CometEmojiTransform")(),c("CometLineBreakTransform")];function a(a){var e=a.feedback;a=a.viewOption;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentDisabledNotice_feedback.graphql"),e);var f=e.comments_disabled_notice_renderer;if(f==null)return null;a=d("UFI2ViewOption").shouldDisplayInReverse(a);var g=c("gkx")("2820");f=i.jsx(c("TetraText.react"),{align:"center",type:"meta1",children:i.jsx(d("CometRelay").MatchContainer,{match:f,props:{disabledNotice:f,renderers:j,transforms:k}})});e=e.display_comments_count!=null&&e.display_comments_count.count!=null&&e.display_comments_count.count>0;return i.jsx("div",{className:c("stylex").dedupe({"align-items-1":"bp9cbjyn","background-color-1":"b3i9ofy5","border-top-0.3":"l6v480f0","display-1":"j83agx80","justify-content-1":"taijpn5t","padding-end-1":"dflh9lhu","padding-start-1":"scb9dxdr","padding-top-1":"discj3wi","padding-bottom-1":"ihqw7lf3","word-wrap-1":"c1et5uql"},e?{"margin-top-1":"aov4n071","margin-bottom-1":"bi6gxh9e"}:{"margin-bottom-1":"enqfppq2"},a?{"border-bottom-end-radius-1":"ihh4hy1g","border-bottom-start-radius-1":"qttc61fc","margin-bottom-1":"enqfppq2"}:null,g?{"background-color-1":"g5ia77u1","border-top-0.3":"l6v480f0","border-end-0.3":"maa8sdkg","border-bottom-0.3":"s1tcr66n","border-start-0.3":"aypy0576","border-top-start-radius-1":"beltcj47","border-top-end-radius-1":"p86d2i9g","border-bottom-end-radius-1":"aot14ch1","border-bottom-start-radius-1":"kzx2olss","height-1":"cyypbtt7","padding-top-1":"pybr56ya","padding-bottom-1":"f10w8fjw"}:null),children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentListStateConfig",[],(function(a,b,c,d,e,f){"use strict";a=10;f.MIN_REPLIES_TO_SHOW_COLLAPSER=a}),66);
__d("CometUFICommentListState",["CometUFICommentListStateConfig","ErrorNormalizeUtils","FBLogger","UFI2ViewOption","gkx","qex","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a,b){if(a==="forward"){a=b.afterCount+1;return babelHelpers["extends"]({},b,{afterCount:a,hasNext:a>0})}a=b.beforeCount+1;return babelHelpers["extends"]({},b,{beforeCount:a,hasPrevious:a>0})}function m(a,b,d){var e=a.args.commentID,f=!1,g=!1,h=[].concat(b.commentPages);if(c("qex")._("209")===!0){var i,k=b.commentPages.find(function(a){return a.commentIDs.includes(d)});i=(i=k==null?void 0:k.state)!=null?i:b.newCommentsPage.visibleStates[d];if(i==="HIDDEN")if(k!=null){var m=b.commentPages.indexOf(k);h=h.map(function(a,b){return m!==b?l(m<b?"backward":"forward",a):babelHelpers["extends"]({},a)});k=b.commentPages.findIndex(function(a){return a.state==="VISIBLE"});g=m<k;f=m>k}else g=!0;else i==null&&(g=b.pagers.backward!=null&&b.pagers.forward==null,f=b.pagers.forward!=null&&b.pagers.backward==null)}k=babelHelpers["extends"]({},b.commentsByID);delete k[e];return babelHelpers["extends"]({},b,{commentPages:h,commentsByID:k,pagers:{backward:g&&b.pagers.backward!=null?babelHelpers["extends"]({},b.pagers.backward,{count:b.pagers.backward.count+1}):b.pagers.backward,forward:f&&b.pagers.forward!=null?babelHelpers["extends"]({},b.pagers.forward,{count:b.pagers.forward.count+1}):b.pagers.forward},repliesExpander:j({error:(h=(i=b.repliesExpander)==null?void 0:(e=i.status)==null?void 0:e.error)!=null?h:null,expanded:b.expanded,isLoading:(f=(k=b.repliesExpander)==null?void 0:(g=k.status)==null?void 0:g.pending)!=null?f:!1,totalCount:a.args.totalCount})})}function n(a,b){var d=o(a,b);if(a.__type!=="INITIAL_STATE"&&b==null)throw c("unrecoverableViolation")("Expected state not to be null","ufi2");return d}function o(a,b){if(a.__type==="INITIAL_STATE"){var e,f=a.args,g=f.afterCount,n=f.beforeCount,o=f.canViewerComment,p=f.commentIDs,q=f.commentsByID,s=f.feedbackTargetID,w=f.hasNext,x=f.hasPrevious,y=f.hiddenCommentIDs,z=f.initiallyExpanded,A=f.isListVisible,B=f.pageSize,C=f.shouldRenderComposerPreemptively,D=f.topLevelFeedbackTargetID,E=f.totalCount;f=f.viewOption;e={backward:h({count:n,direction:"backward",error:null,hasMore:x,isLoading:(e=b==null?void 0:(e=b.pagers)==null?void 0:(e=e.backward)==null?void 0:(e=e.status)==null?void 0:e.pending)!=null?e:!1,pageSize:B,totalCount:E}),forward:h({count:g,direction:"forward",error:null,hasMore:w,isLoading:(e=b==null?void 0:(e=b.pagers)==null?void 0:(e=e.forward)==null?void 0:(e=e.status)==null?void 0:e.pending)!=null?e:!1,pageSize:B,totalCount:E})};var ha={};y.forEach(function(a){ha[a]="COLLAPSED"});y={canViewerComment:o,commentPages:p.length>0?[{__type:"COMMENTS_PAGE",afterCount:g,beforeCount:n,commentIDs:p,hasNext:w,hasPrevious:x,state:"VISIBLE"}]:[],commentsByID:q,commentsHiddenByViewer:ha,expanded:(B=b==null?void 0:b.expanded)!=null?B:z,feedbackTargetID:s,hasPaged:{backward:!1,forward:!1},isListVisible:A,locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:e,shouldComposerRenderWhenListIsExpanded:C,topLevelFeedbackTargetID:D,viewOption:f};if(a.args.depth===0)return babelHelpers["extends"]({},y,{__type:"DEPTH_0",status:{error:null,pending:!1}});o=a.args;g=o.minCountToShowCollapser;n=o.parentCommentID;w=null;b!=null&&b.__type==="DEPTH_1"&&(w=b.repliesExpander);n==null&&c("recoverableViolation")("No parent comment ID provided when setting initial state for nested\n          comment list","ufi2");return babelHelpers["extends"]({},y,{__type:"DEPTH_1",parentCommentID:n,repliesCollapser:i({count:p.length,expanded:z,minCountToShowCollapser:g}),repliesExpander:j({error:null,expanded:(x=b==null?void 0:b.expanded)!=null?x:z,isLoading:(s=(q=w)==null?void 0:(B=q.status)==null?void 0:B.pending)!=null?s:!1,totalCount:E})})}if(b==null)throw c("unrecoverableViolation")("Expected state not to be null","ufi2");switch(a.__type){case"COLLAPSE_LIST":A=a.args;e=A.depth;C=A.totalCount;if(b.expanded===!1)return b;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{expanded:!1});D=v.getCommentsCount({depth:e,state:b})===0;f=C>0&&D===!0;f&&c("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},b,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:b.repliesExpander?b.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:C})});case"DELETE_COMMENT":o=a.args;var F=o.commentID;y=o.depth;n=b.commentPages;p=b.locallyComposedCommentIDs;var G=b.newCommentsPage;if(n.length===0&&G.commentIDs.length===0)return b;g=G.commentIDs.filter(function(a){return a!==F});x=v.getVisibleCommentsCount({depth:y,state:b});z=g.length<G.commentIDs.length;if(z){var ia={};g.forEach(function(a){ia[a]=G.visibleStates[a]});w=babelHelpers["extends"]({},G,{commentIDs:g,visibleStates:ia});q=n.map(function(a){return k({direction:"backward",page:a})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:q,newCommentsPage:w});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");B=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:q,newCommentsPage:w,repliesCollapser:i({count:x-1,expanded:b.expanded,minCountToShowCollapser:B})})}var H=null,I=!1;s=n.map(function(a,b){if(I)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==F});if(c.length<a.commentIDs.length){I=!0;H=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&H!=null&&b<H?k({direction:"forward",page:a}):a}).filter(Boolean);if(I===!1){c("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried deleting a comment that isnt present");return b}E=p.filter(function(a){return a!==F});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:s,locallyComposedCommentIDs:E});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:s,locallyComposedCommentIDs:E,repliesCollapser:i({count:x-1,expanded:b.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":A=a.args.commentIDs;var ja=b.commentsHiddenByViewer,J=babelHelpers["extends"]({},ja);A.forEach(function(a){var b=ja[a];if(b==null){c("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried expanding a comment that is not hidden");return}b==="COLLAPSED"&&(J[a]="EXPANDED")});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsHiddenByViewer:J}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsHiddenByViewer:J});case"EXPAND_LIST":e=a.args;D=e.depth;f=e.totalCount;C=b.commentPages;o=b.newCommentsPage;if(b.expanded===!0&&b.shouldComposerRenderWhenListIsExpanded===!0)return b;if(D!==0&&v.isRepliesExpanderLoading({depth:D,state:b}))return b;if(f===0)return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});y=v.getVisibleCommentsCount({depth:D,state:b});if(y===0){z=v.getCommentsCount({depth:D,state:b})===0;if(c("gkx")("1567108")?o.commentIDs.length===0&&C.length===0:z)return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:f})});g=C.length>0?C[0]:null;q=g!=null?[babelHelpers["extends"]({},g,{state:"VISIBLE"})].concat(C.slice(1)):C;var ka={};o.commentIDs.forEach(function(a){ka[a]="VISIBLE"});w=babelHelpers["extends"]({},o,{visibleStates:ka});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:q,expanded:!0,newCommentsPage:w,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");B=(g!=null?g.commentIDs.length:0)+o.commentIDs.length;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:q,expanded:!0,newCommentsPage:w,repliesCollapser:i({count:B,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:y,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"FAIL_COMMENT_PAGINATION":n=a.args;p=n.depth;s=n.direction;E=n.error;if(s==="forward"&&p!==0&&b.__type==="DEPTH_1"&&v.isRepliesExpanderLoading({depth:p,state:b}))return b.repliesExpander!=null?babelHelpers["extends"]({},b,{__type:"DEPTH_1",repliesExpander:babelHelpers["extends"]({},b.repliesExpander,{status:babelHelpers["extends"]({},b.repliesExpander.status,{error:E,pending:!1})})}):b;x=v.isPagerLoading({depth:p,direction:s,state:b})===!0;if(x===!1)return b;A=b.pagers.backward;e=b.pagers.forward;D=babelHelpers["extends"]({},b.pagers,{backward:s==="backward"&&A!=null?babelHelpers["extends"]({},A,{status:{error:E,pending:!1}}):A,forward:s==="forward"&&e!=null?babelHelpers["extends"]({},e,{status:{error:E,pending:!1}}):e});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",pagers:D});else return babelHelpers["extends"]({},b,{__type:"DEPTH_1",pagers:D});case"HIDE_COMMENTS":z=a.args.commentIDs;f=b.commentsHiddenByViewer;var K=babelHelpers["extends"]({},f);z.forEach(function(a){K[a]="LOCALLY_HIDDEN"});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsHiddenByViewer:K}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsHiddenByViewer:K});case"RECEIVE_COMMENTS_PAGE":C=b.commentPages;g=b.locallyComposedCommentIDs;var L=b.newCommentsPage;o=b.pagers;q=a.args;var M=q.commentIDs;w=q.depth;B=q.direction;y=q.hiddenCommentIDs;n=q.pageSize;var N=v.isPagerLoading({depth:w,direction:B,state:b})===!0;p=w!==0&&v.isRepliesExpanderLoading({depth:w,state:b});var la=w===0&&!N;x=L.commentIDs.filter(function(a){return!(M.includes(a)&&(!la||L.visibleStates[a]==="HIDDEN"))});A=g.filter(function(a){return!M.includes(a)});var O={};x.forEach(function(a){O[a]=L.visibleStates[a]});s=babelHelpers["extends"]({},L,{commentIDs:x,visibleStates:O});var ma=new Set(C.reduce(function(a,b){return a.concat(b.commentIDs)},[]).concat(la?x:[]));E=M.filter(function(a){return!ma.has(a)});e=b.shouldComposerRenderWhenListIsExpanded===!0||N===!0||p===!0;var P=babelHelpers["extends"]({},b.commentsHiddenByViewer);y.forEach(function(a){Object.prototype.hasOwnProperty.call(P,a)||(P[a]="COLLAPSED")});D=ma.size;if(w!==0&&a.args.direction==="forward"&&D===0){f=a.args;z=f.afterCount;q=f.hasNext;B={backward:null,forward:h({count:z,direction:"forward",error:null,hasMore:q,isLoading:!1,pageSize:n})};var Q=b.expanded||p?"VISIBLE":"HIDDEN";g={__type:"COMMENTS_PAGE",afterCount:z,beforeCount:x.length,commentIDs:E,hasNext:q,hasPrevious:!1,state:Q};x.forEach(function(a){O[a]=Q});s=babelHelpers["extends"]({},L,{commentIDs:x,visibleStates:O});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");if(b.__type!=="DEPTH_1")throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");y=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[g],commentsHiddenByViewer:P,expanded:Q==="VISIBLE",locallyComposedCommentIDs:A,newCommentsPage:s,pagers:B,repliesCollapser:i({count:E.length,expanded:p,minCountToShowCollapser:y}),repliesExpander:p?null:b.repliesExpander,shouldComposerRenderWhenListIsExpanded:e})}D=C[0];f=C[C.length-1];z=v.getVisibleCommentsCount({depth:w,state:b});if(a.args.direction==="backward"){if(N&&D!=null&&D.state!=="VISIBLE")throw c("unrecoverableViolation")("Expected first available page to be visible if backward pager was loading when backward comments were received","ufi2");q=a.args;g=q.beforeCount;B=q.hasPrevious;y=g<=x.length;y&&(O={},s.commentIDs.forEach(function(a){O[a]=N?"VISIBLE":"HIDDEN"}),s=babelHelpers["extends"]({},s,{visibleStates:O}));w=g-s.commentIDs.length-A.length;q=babelHelpers["extends"]({},o,{backward:N?h({count:w,direction:"backward",error:null,hasMore:B&&!y,isLoading:!1,pageSize:n}):o.backward});D={__type:"COMMENTS_PAGE",afterCount:((x=D==null?void 0:D.afterCount)!=null?x:0)+((x=D==null?void 0:(w=D.commentIDs)==null?void 0:w.length)!=null?x:0),beforeCount:g,commentIDs:E,hasNext:!0,hasPrevious:B,state:N||p?"VISIBLE":"HIDDEN"};if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[D].concat(C),commentsHiddenByViewer:P,locallyComposedCommentIDs:A,newCommentsPage:s,pagers:q,shouldComposerRenderWhenListIsExpanded:e});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");w=a.args.minCountToShowCollapser;x=p?!0:b.expanded;g=z+(D.state==="VISIBLE"?E.length:0)+(y&&N?s.commentIDs.length:0);return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[D].concat(C),commentsHiddenByViewer:P,expanded:x,locallyComposedCommentIDs:A,newCommentsPage:s,pagers:q,repliesCollapser:i({count:g,expanded:x,minCountToShowCollapser:w}),repliesExpander:p?null:b.repliesExpander,shouldComposerRenderWhenListIsExpanded:e})}if(N&&f!=null&&f.state!=="VISIBLE")throw c("unrecoverableViolation")("Expected last available page to be visible if forward pager was loading when forward comments were received","ufi2");B=a.args;y=B.afterCount;D=B.hasNext;q=babelHelpers["extends"]({},o,{forward:N?h({count:y,direction:"forward",error:null,hasMore:D,isLoading:!1,pageSize:n}):o.forward});B={__type:"COMMENTS_PAGE",afterCount:y,beforeCount:C.length===0?s.commentIDs.length:((g=f==null?void 0:f.beforeCount)!=null?g:0)+((w=f==null?void 0:(x=f.commentIDs)==null?void 0:x.length)!=null?w:0),commentIDs:E,hasNext:D,hasPrevious:!0,state:N||p?"VISIBLE":"HIDDEN"};var R=0;n=p?C.map(function(a){a.state==="HIDDEN"&&(R+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):C;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[].concat(n,[B]),commentsHiddenByViewer:P,locallyComposedCommentIDs:A,newCommentsPage:s,pagers:q,shouldComposerRenderWhenListIsExpanded:e});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");o=a.args.minCountToShowCollapser;y=B.state==="VISIBLE"?z+R+E.length:z+R;g=p?!0:b.expanded;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[].concat(n,[B]),commentsHiddenByViewer:P,expanded:g,locallyComposedCommentIDs:A,newCommentsPage:s,pagers:q,repliesCollapser:i({count:y,expanded:g,minCountToShowCollapser:o}),repliesExpander:p?null:b.repliesExpander,shouldComposerRenderWhenListIsExpanded:e});case"RECEIVE_NEW_COMMENT":f=a.args;var S=f.commentID;x=f.commentsComposedByThisUFI;w=f.depth;D=f.pageSize;C=f.prevTotalCount;E=f.totalCount;z=b.commentPages;n=b.commentsByID;B=b.expanded;A=b.locallyComposedCommentIDs;var T=b.newCommentsPage;s=b.pagers;q=b.viewOption;y=v.getCommentsCount({depth:w,state:b})===0;g=Object.prototype.hasOwnProperty.call(T.visibleStates,S)||z.some(function(a){return a.commentIDs.includes(S)});if(g)return b;o=n[S]!=null&&x!=null&&n[S].client_id!=null&&x.has(n[S].client_id);var U=!d("UFI2ViewOption").shouldDisplayInReverse(q)&&b.__type!=="DEPTH_0";p=b.repliesExpander!=null?babelHelpers["extends"]({},b.repliesExpander,{count:Math.min(b.repliesExpander.count+1,E)}):null;if(z.length===0){f=babelHelpers["extends"]({},T,{commentIDs:[S].concat(T.commentIDs),visibleStates:babelHelpers["extends"]({},T.visibleStates,(e={},e[S]=B||o||w!==0&&y&&C===0?"VISIBLE":"HIDDEN",e))});g=o?[S].concat(A):A;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",locallyComposedCommentIDs:g,newCommentsPage:f});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");x=a.args.minCountToShowCollapser;n=y&&C===0?!0:B;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:n,locallyComposedCommentIDs:g,newCommentsPage:f,repliesCollapser:i({count:f.commentIDs.length,expanded:B,minCountToShowCollapser:x}),repliesExpander:p,shouldComposerRenderWhenListIsExpanded:!0})}q=z[0];e=r(b);y=w===0&&v.hasMoreInDirection({depth:w,direction:"forward",state:b,totalCount:E})&&!b.commentPages.some(function(a){return a.state==="VISIBLE"});if(!y&&o){var V=!1,na=babelHelpers["extends"]({},T.visibleStates),oa=[],W=[];n=(U?[].concat(z).reverse():z).map(function(a){if(!V&&a.state==="VISIBLE"){V=!0;T.commentIDs.forEach(function(a){na[a]==="VISIBLE"&&!u(b)?(delete na[a],W.push(a)):oa.push(a)});return babelHelpers["extends"]({},a,{commentIDs:U?[].concat(a.commentIDs,W.reverse(),[S]):[S].concat(W,a.commentIDs)})}return V?babelHelpers["extends"]({},a,{afterCount:U?a.afterCount+1+W.length:a.afterCount,beforeCount:U?a.beforeCount:a.beforeCount+1+W.length}):a});g=babelHelpers["extends"]({},T,{commentIDs:oa,visibleStates:na});f=[S].concat(A);if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:n,locallyComposedCommentIDs:f,newCommentsPage:g});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");x=a.args.minCountToShowCollapser;var X=v.getVisibleCommentsCount({depth:w,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:U?n.reverse():n,locallyComposedCommentIDs:f,newCommentsPage:g,repliesCollapser:i({count:X+1,expanded:B,minCountToShowCollapser:x}),repliesExpander:p,shouldComposerRenderWhenListIsExpanded:!0})}else if(y){f={commentPages:z.map(function(a,b){return b===0?babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0}):a}),locallyComposedCommentIDs:o?[S].concat(A):A,newCommentsPage:babelHelpers["extends"]({},T,{commentIDs:[S].concat(T.commentIDs),visibleStates:babelHelpers["extends"]({},T.visibleStates,(n={},n[S]="VISIBLE",n))})};return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,f,{__type:"DEPTH_0"}):babelHelpers["extends"]({},b,f,{__type:"DEPTH_1"})}else if(e&&ba(b)){g=z.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});x=babelHelpers["extends"]({},T,{commentIDs:[S].concat(T.commentIDs),visibleStates:babelHelpers["extends"]({},T.visibleStates,(X={},X[S]="VISIBLE",X))});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:g,newCommentsPage:x});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");y=a.args.minCountToShowCollapser;o=v.getVisibleCommentsCount({depth:w,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:g,newCommentsPage:x,repliesCollapser:i({count:o+1,expanded:B,minCountToShowCollapser:y}),repliesExpander:p,shouldComposerRenderWhenListIsExpanded:!0})}else if(e&&T.commentIDs.length===0){A=s.backward!=null?babelHelpers["extends"]({},s,{backward:babelHelpers["extends"]({},s.backward,{count:Math.min(s.backward.count+1,D)})}):s;n=q.commentIDs.length<D;if(n){f=[babelHelpers["extends"]({},q,{commentIDs:[S].concat(q.commentIDs)})].concat(z.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:f,pagers:A}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:f,pagers:A,repliesExpander:p})}X=[{__type:"COMMENTS_PAGE",afterCount:q.afterCount+q.commentIDs.length,beforeCount:0,commentIDs:[S],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},q,{beforeCount:1,hasPrevious:!0})].concat(z.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:X,pagers:A}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:X,pagers:A,repliesExpander:p})}else{w=E<=C;g=w?z:z.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});x=s.backward!=null?babelHelpers["extends"]({},s,{backward:babelHelpers["extends"]({},s.backward,{count:w?s.backward.count:Math.min(s.backward.count+1,D)})}):s;B=babelHelpers["extends"]({},T,{commentIDs:[S].concat(T.commentIDs),visibleStates:babelHelpers["extends"]({},T.visibleStates,(o={},o[S]="HIDDEN",o))});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:g,newCommentsPage:B,pagers:x}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:g,newCommentsPage:B,pagers:x,repliesExpander:p})}case"RECEIVE_REALTIME_COMMENT":var Y=a.args.commentID;y=Object.prototype.hasOwnProperty.call(b.newCommentsPage.visibleStates,Y)||b.commentPages.some(function(a){return a.commentIDs.includes(Y)});e=u(b);n=fa(b);f=ga(b);if(!d("UFI2ViewOption").shouldDisplayInReverse(b.viewOption)&&!e&&!n&&!f){if(d("UFI2ViewOption").expectedWasteComment(b.viewOption,b.__type==="DEPTH_0"))return b;c("FBLogger")("ufi2").warn("Unable to receive realtime comment for non chronological ordering mode %s",(q=b.viewOption)!=null?q:"(null ordering mode)");return b}if(y)return b;X=b.commentsByID[Y];E=X==null?void 0:(A=X.reply_parent_comment)==null?void 0:A.id;if((b.viewOption==="SUB_REPLIES"||b.viewOption==="CHRONO_SUB_REPLIES"||b.viewOption==="RANKED_SUB_REPLIES")&&b.__type==="DEPTH_1"&&E!=null&&b.parentCommentID!==E)return m(a,b,E);C=v.getCommentsCount({depth:a.args.depth,state:b})===0;z=t(b).length===0;w=!a.args.hideCommentInPager&&C&&b.__type==="DEPTH_1";D=z&&!b.expanded;s=a.args.hideCommentInPager||!b.expanded&&!w||!C&&!ba(b)||e&&!C&&!da(b);o=!D&&s===!0&&!(z&&b.pagers.forward!=null)&&!e;g=!D&&s&&!o;var pa=e;n={canViewerComment:b.canViewerComment,commentPages:b.commentPages.map(function(a){return pa?babelHelpers["extends"]({},a,{afterCount:a.afterCount+1,hasNext:!0}):babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})}),commentsByID:b.commentsByID,commentsHiddenByViewer:b.commentsHiddenByViewer,expanded:b.expanded||w,feedbackTargetID:b.feedbackTargetID,hasPaged:b.hasPaged,locallyComposedCommentIDs:b.locallyComposedCommentIDs,newCommentsPage:babelHelpers["extends"]({},b.newCommentsPage,{commentIDs:pa?[].concat(b.newCommentsPage.commentIDs,[Y]):[Y].concat(b.newCommentsPage.commentIDs),visibleStates:babelHelpers["extends"]({},b.newCommentsPage.visibleStates,(B={},B[Y]=s?"HIDDEN":"VISIBLE",B))}),pagers:s?{backward:o?{__type:"PAGER",count:((n=(x=b.pagers)==null?void 0:(p=x.backward)==null?void 0:p.count)!=null?n:0)+1,direction:"backward",status:{error:(y=(f=b.pagers)==null?void 0:(q=f.backward)==null?void 0:q.status.error)!=null?y:null,pending:(E=(X=b.pagers)==null?void 0:(A=X.backward)==null?void 0:A.status.pending)!=null?E:!1}}:b.pagers.backward,forward:g?{__type:"PAGER",count:((D=(C=b.pagers)==null?void 0:(z=C.forward)==null?void 0:z.count)!=null?D:0)+1,direction:"forward",status:{error:(B=(e=b.pagers)==null?void 0:(w=e.forward)==null?void 0:w.status.error)!=null?B:null,pending:(p=(o=b.pagers)==null?void 0:(x=o.forward)==null?void 0:x.status.pending)!=null?p:!1}}:b.pagers.forward}:b.pagers,shouldComposerRenderWhenListIsExpanded:b.shouldComposerRenderWhenListIsExpanded,topLevelFeedbackTargetID:b.topLevelFeedbackTargetID,viewOption:b.viewOption};if(b.__type==="DEPTH_1"){return babelHelpers["extends"]({},b,n,{repliesCollapser:i({count:v.getVisibleCommentsCount({depth:a.args.depth,state:b})+(s?0:1),expanded:b.expanded,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),repliesExpander:j({error:(y=(f=b.repliesExpander)==null?void 0:(q=f.status)==null?void 0:q.error)!=null?y:null,expanded:b.expanded,isLoading:(E=(X=b.repliesExpander)==null?void 0:(A=X.status)==null?void 0:A.pending)!=null?E:!1,totalCount:a.args.totalCount})})}return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,n):b;case"RECEIVE_REFETCH_LIST":g=a.args.depth;C=b.feedbackTargetID;z=b.topLevelFeedbackTargetID;D=b.viewOption;if(g!==0)throw c("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(!v.isListLoading({depth:g,state:b}))throw c("unrecoverableViolation")("Expected list to be loading","ufi2");e=aa.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:C,initiallyExpanded:!0,topLevelFeedbackTargetID:z,viewOption:D}),state:null});if(e.__type!=="DEPTH_0")throw c("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");return babelHelpers["extends"]({},e,{__type:"DEPTH_0",expanded:b.expanded,status:{error:null,pending:!1}});case"RECEIVE_REPARENTED_COMMENT":if(b.__type==="DEPTH_0")return b;w=b.commentPages;B=b.newCommentsPage;o=a.args;var qa=o.commentID,ra=o.removedID;if(B.commentIDs.includes(ra)){x=B.commentIDs.indexOf(ra);p=[].concat(B.commentIDs);p.splice(x,0,qa);s=babelHelpers["extends"]({},B.visibleStates);s[qa]="VISIBLE";f=babelHelpers["extends"]({},B,{commentIDs:p,visibleStates:s});q=w.map(function(a){return l("backward",a)});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:q,newCommentsPage:f})}var sa=!1,ta=-1;y=w.map(function(a,b){if(sa)return l("backward",a);var c=a.commentIDs.indexOf(ra);if(c===-1)return a;var d=[].concat(a.commentIDs);d.splice(c,0,qa);ta=b;sa=!0;return babelHelpers["extends"]({},a,{commentIDs:d})}).map(function(a,b){return ta===-1||b>=ta?a:l("forward",a)});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:y});case"REQUEST_COMMENTS_PAGE":X=a.args;A=X.depth;E=X.direction;n=X.pageSize;g=b.commentPages;C=b.expanded;z=b.newCommentsPage;D=b.pagers;if(!C)throw c("unrecoverableViolation")("Expected list to be expanded","ufi2");if(v.isPagerLoading({depth:A,direction:E,state:b}))throw c("unrecoverableViolation")("Cant request page if pager is loading","ufi2");if(A===0&&v.isListLoading({depth:A,state:b}))throw c("unrecoverableViolation")("Cant request page if list is loading","ufi2");if(A!==0&&v.isRepliesExpanderLoading({depth:A,state:b}))throw c("unrecoverableViolation")("Cant request page if replies expander is loading","ufi2");if(E==="backward"){e=g.findIndex(function(a){return a.state==="VISIBLE"});o=-1;x=r(b)&&ea(b,"HIDDEN");if(e>-1){B=g[e];B.hasPrevious===!1&&c("FBLogger")("ufi2").mustfix("CometUFICommentList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",b.topLevelFeedbackTargetID);if(B.hasPrevious!==!0)throw c("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");o=e-1}else e===-1&&g.length>0&&!x&&(o=0);p=g[o];if(p&&p.state==="HIDDEN"){s=[].concat(g);s[o]=babelHelpers["extends"]({},p,{state:"VISIBLE"});q=babelHelpers["extends"]({},D,{backward:h({count:p.beforeCount,direction:"backward",error:null,hasMore:p.hasPrevious,isLoading:!1,pageSize:n})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:s,hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:q,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");f=a.args.minCountToShowCollapser;w=v.getVisibleCommentsCount({depth:A,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:s,hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:q,repliesCollapser:i({count:w+p.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:f}),shouldComposerRenderWhenListIsExpanded:!0})}else if(x){var ua={};z.commentIDs.forEach(function(a){ua[a]="VISIBLE"});y=babelHelpers["extends"]({},z,{visibleStates:ua});X=babelHelpers["extends"]({},D,{backward:null});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),newCommentsPage:y,pagers:X,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");C=a.args.minCountToShowCollapser;E=v.getVisibleCommentsCount({depth:A,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),newCommentsPage:y,pagers:X,repliesCollapser:i({count:E+y.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:C}),shouldComposerRenderWhenListIsExpanded:!0})}else{B=babelHelpers["extends"]({},D,{backward:D.backward&&babelHelpers["extends"]({},D.backward,{status:{error:null,pending:!0}})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:B}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:B})}}e=[].concat(g).reverse().findIndex(function(a){return a.state==="VISIBLE"});o=-1;if(e>-1){s=g.length-1-e;q=g[s];if(q.hasNext!==!0)throw c("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");o=s+1}else e===-1&&g.length>0&&(o=g.length-1);w=g[o];if(w&&w.state==="HIDDEN"){p=[].concat(g);p[o]=babelHelpers["extends"]({},w,{state:"VISIBLE"});f=babelHelpers["extends"]({},D,{forward:h({count:w.afterCount,direction:"forward",error:null,hasMore:w.hasNext,isLoading:!1,pageSize:n})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:p,hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:f,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");x=a.args.minCountToShowCollapser;X=v.getVisibleCommentsCount({depth:A,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:p,hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:f,repliesCollapser:i({count:X+w.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:x}),shouldComposerRenderWhenListIsExpanded:!0})}else if(u(b)&&ca(b)&&ea(b,"HIDDEN")&&b.__type==="DEPTH_0"){var va={};z.commentIDs.forEach(function(a){va[a]="VISIBLE"});return babelHelpers["extends"]({},b,{hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),newCommentsPage:babelHelpers["extends"]({},z,{visibleStates:va}),pagers:babelHelpers["extends"]({},D,{forward:null}),shouldComposerRenderWhenListIsExpanded:!0})}else{E=babelHelpers["extends"]({},D,{forward:D.forward&&babelHelpers["extends"]({},D.forward,{status:{error:null,pending:!0}})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:E}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:E})}case"REQUEST_REFETCH_LIST":y=a.args.depth;if(y!==0||b.__type!=="DEPTH_0")throw c("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(v.isListLoading({depth:y,state:b}))throw c("unrecoverableViolation")("Expected list to be loading","ufi2");return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":C=a.args.canViewerComment;return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",canViewerComment:C}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",canViewerComment:C});case"SET_COMMENTS_BY_ID":B=a.args.commentsByID;return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsByID:B}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsByID:B});case"SET_SERVER_COMMENT_ID":q=a.args;var Z=q.clientCommentID,$=q.serverCommentID;s=b.commentPages;e=b.locallyComposedCommentIDs;g=b.newCommentsPage;o=g.commentIDs.indexOf(Z);n=o!==-1;A=s.some(function(a){return a.commentIDs.some(function(a){return a===Z})});if(!n&&!A)return b;p=g.commentIDs.some(function(a){return a===$});f=s.filter(function(a){return a.state==="HIDDEN"}).some(function(a){return a.commentIDs.some(function(a){return a===$})});X=s.filter(function(a){return a.state==="VISIBLE"}).some(function(a){return a.commentIDs.some(function(a){return a===$})});w=b;if(f){x=s.map(function(a){var b=a.commentIDs.indexOf($);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});w.__type==="DEPTH_0"?w=babelHelpers["extends"]({},w,{__type:"DEPTH_0",commentPages:x}):w=babelHelpers["extends"]({},w,{__type:"DEPTH_1",commentPages:x})}if(p){z=e.filter(function(a){return a===Z});D=g.commentIDs.filter(function(a){return a!==Z});E=babelHelpers["extends"]({},g.visibleStates);delete E[Z];y=babelHelpers["extends"]({},g,{commentIDs:D,visibleStates:E});w.__type==="DEPTH_0"?w=babelHelpers["extends"]({},w,{__type:"DEPTH_0",locallyComposedCommentIDs:z,newCommentsPage:y}):w=babelHelpers["extends"]({},w,{__type:"DEPTH_1",locallyComposedCommentIDs:z,newCommentsPage:y})}if(n){C=babelHelpers["extends"]({},g.visibleStates);if(X||p){B=g.commentIDs.filter(function(a){return a!==Z});delete C[Z];q=babelHelpers["extends"]({},g,{commentIDs:B,visibleStates:C});w.__type==="DEPTH_0"?w=babelHelpers["extends"]({},w,{__type:"DEPTH_0",newCommentsPage:q}):w=babelHelpers["extends"]({},w,{__type:"DEPTH_1",newCommentsPage:q})}else{o=g.commentIDs.map(function(a){return a===Z?$:a});C[$]=C[Z];delete C[Z];f=babelHelpers["extends"]({},g,{commentIDs:o,visibleStates:C});w.__type==="DEPTH_0"?w=babelHelpers["extends"]({},w,{__type:"DEPTH_0",newCommentsPage:f}):w=babelHelpers["extends"]({},w,{__type:"DEPTH_1",newCommentsPage:f})}}if(A)if(X||p){x=s.map(function(a){var b=a.commentIDs.indexOf(Z);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});w.__type==="DEPTH_0"?w=babelHelpers["extends"]({},w,{__type:"DEPTH_0",commentPages:x}):w=babelHelpers["extends"]({},w,{__type:"DEPTH_1",commentPages:x})}else{D=s.map(function(a){var b=a.commentIDs.indexOf(Z);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),[$],a.commentIDs.slice(b+1))})});w.__type==="DEPTH_0"?w=babelHelpers["extends"]({},w,{__type:"DEPTH_0",commentPages:D}):w=babelHelpers["extends"]({},w,{__type:"DEPTH_1",commentPages:D})}E=e.map(function(a){return a===Z?$:a});return w.__type==="DEPTH_0"?babelHelpers["extends"]({},w,{__type:"DEPTH_0",locallyComposedCommentIDs:E}):babelHelpers["extends"]({},w,{__type:"DEPTH_1",locallyComposedCommentIDs:E});case"UNHIDE_COMMENTS":z=a.args.commentIDs;y=b.commentsHiddenByViewer;var wa=babelHelpers["extends"]({},y);z.forEach(function(a){delete wa[a]});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsHiddenByViewer:wa}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsHiddenByViewer:wa});case"INITIAL_STATE":default:a.__type;throw c("unrecoverableViolation")("CometUFICommentListState: Invalid action type: "+a.__type,"ufi2")}}function p(a,b){try{var d=n(a,b);return d}catch(f){d=c("ErrorNormalizeUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";c("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("CometUFICommentListState.updater(...): "+d);c("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!b)throw f;return b}}function a(a,b){return n(a,b)}function b(a,b){return n(a,b)}var aa={collapseList:function(a){var b=a.args;a=a.state;return p({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return p({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return p({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return p({__type:"EXPAND_LIST",args:b},a)},failCommentPagination:function(a){var b=a.args;a=a.state;return p({__type:"FAIL_COMMENT_PAGINATION",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return p({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return p({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRealtimeComment:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_REALTIME_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_REFETCH_LIST",args:b},a)},receiveReparentedComment:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_REPARENTED_COMMENT",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return p({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return p({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return p({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return p({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return p({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return p({__type:"UNHIDE_COMMENTS",args:b},a)}};function q(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function r(a){var b=a.commentPages,c=a.newCommentsPage;b=b[0];if(!b)return c.commentIDs.length>0;return u(a)?b.beforeCount===0:b.beforeCount-c.commentIDs.length===0}function ba(a){var b=a.commentPages[0];b=(b==null||b.state==="VISIBLE")&&r(a);return b&&(u(a)||s(a,"VISIBLE"))}function ca(a){var b=a.commentPages,c=a.newCommentsPage;b=[].concat(b).reverse()[0];if(!b)return c.commentIDs.length>0;return u(a)?b.afterCount-c.commentIDs.length===0:b.afterCount===0}function da(a){var b=a.commentPages;b=[].concat(b).reverse()[0];b=(b==null||b.state==="VISIBLE")&&ca(a);return b&&(!u(a)||s(a,"VISIBLE"))}function ea(a,b){var c=a.newCommentsPage;return c.commentIDs.some(function(a){return c.visibleStates[a]===b})}function s(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function t(a){var b=a.__type,c=a.commentPages,e=a.newCommentsPage,f=a.viewOption;c=c.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);var g=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});if(u(a))return[].concat(c,g);return b==="DEPTH_1"&&!d("UFI2ViewOption").shouldDisplayInReverse(f)?[].concat(c,g.reverse()):[].concat(g,c)}function u(a){return a.__type==="DEPTH_0"&&a.viewOption==="MOST_VOTED"}function fa(a){return a.__type==="DEPTH_0"&&a.viewOption==="ANSWERED"&&c("gkx")("1762503")}function ga(a){return a.__type==="DEPTH_0"&&a.viewOption==="UNANSWERED"&&c("gkx")("1762503")}var v={canFetchInDirection:function(a){var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=v.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&v.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&v.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=v.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&s(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){var b=a.depth,d=a.direction,e=a.pageSize;a=a.state;d=v.getPagerCount({depth:b,direction:d,state:a});if(d!=null)return d;if(b!==0){if(e==null)throw c("unrecoverableViolation")("CometUFICommentListState.getCountForFetch(...): Expected pageSize to compute fetch count for expanding replies","ufi2");d=v.getRepliesExpanderCount({depth:b,state:a});if(d!=null)return Math.min(d,e)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){a=a.state;var b=a.commentsByID,e=a.locallyComposedCommentIDs,f=a.newCommentsPage,g=a.viewOption;a=t(a);var h=a.map(function(a){var d=b[a];if(!d){c("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&h.length===0&&c("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!e.length&&f.commentIDs.length>0&&d("UFI2ViewOption").shouldDisplayInReverse(g)?h.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):h},getVisibleCommentsCount:function(a){a=a.state;return t(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=v.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return v.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return v.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=q({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){var b=a.direction,c=a.state;a=a.totalCount;c=q({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return v.getVisibleComments({depth:b,state:a}).length>0},isComposerVisible:function(a){a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null},pagerHasRealtimeComments:function(a){var b=a.direction;a=a.state;var c=Object.values(a.newCommentsPage.visibleStates).find(function(a){return a==="HIDDEN"})!=null;return b==="forward"?a.pagers.backward==null?c:!1:c}};g._updaterDepth0_DO_NOT_USE=a;g._updaterDepth1_DO_NOT_USE=b;g.StateUpdaters=aa;g.Selectors=v}),98);
__d("CometUFICommentListGetDerivedStateFromProps",["CometUFICommentListState","CometUFICommentListStateConfig","UFI2UserActivityIdleTimeout","UserActivity","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.depth,c=a.feedback,d=a.topLevelCommentFeedback;a=a.topLevelFeedback;return b>1?(d==null?void 0:d.can_viewer_comment)===!0&&(a==null?void 0:a.can_viewer_comment)===!0:b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,e){var f=e.listState;e=e.mirroredProps;if(e===a)return{listState:f,mirroredProps:e};var g=e.connectionGeneration,j=e.feedback,k=e.isRefetchingConnection,l=e.topLevelCommentFeedback,m=e.topLevelFeedback;e=e.totalCount;var n=a.commentIDs,o=a.commentsByID,p=a.connectionGeneration,q=a.connectionPageInfo,r=a.depth,s=a.feedback,t=a.hiddenCommentIDs,u=a.isRefetchingConnection,v=a.shouldRenderComposerPreemptively,w=a.topLevelCommentFeedback,x=a.topLevelFeedback,y=a.totalCount,z=a,A=q.afterCount,B=q.beforeCount,C=q.hasNext,D=q.hasPrevious;q=q.pageSize;var E=f;E=d("CometUFICommentListState").StateUpdaters.setCommentsByID({args:{commentsByID:o,depth:r},state:E});if(r===0&&d("CometUFICommentListState").Selectors.isListLoading({depth:r,state:E})){k=k===!0&&u===!1;k&&(E=d("CometUFICommentListState").StateUpdaters.receiveRefetchList({args:{afterCount:A,beforeCount:B,canViewerComment:h({depth:r,feedback:s,topLevelCommentFeedback:w,topLevelFeedback:x}),commentIDs:n,commentsByID:o,depth:r,hasNext:C,hasPrevious:D,hiddenCommentIDs:t,pageSize:q,shouldRenderComposerPreemptively:v,totalCount:y},state:E}));return{listState:E,mirroredProps:z}}if(p>g){E=i(z,f);return{listState:E,mirroredProps:z}}u=a.commentIDsUpdatedToServerIDs;k=a.locallyComposedCommentIds;A=a.newlyCreatedCommentIDs;B=a.newlyHiddenCommentIDs;n=a.newlyReparentedToDeletedCommentsMap;o=a.newlyUnhiddenCommentIDs;C=a.realtimeCommentIds;D=a.removedCommentIDs;t=h({depth:r,feedback:j,topLevelCommentFeedback:l,topLevelFeedback:m});q=h({depth:r,feedback:s,topLevelCommentFeedback:w,topLevelFeedback:x});u.length>0&&u.forEach(function(a){var b=a.clientID;a=a.serverID;E=d("CometUFICommentListState").StateUpdaters.setServerCommentID({args:{clientCommentID:b,depth:r,serverCommentID:a},state:E})});t!==q&&(E=d("CometUFICommentListState").StateUpdaters.setCanViewerComment({args:{canViewerComment:q,depth:r},state:E}));B.length>0&&(E=d("CometUFICommentListState").StateUpdaters.hideComments({args:{commentIDs:B,depth:r},state:E}));o.length>0&&(E=d("CometUFICommentListState").StateUpdaters.unhideComments({args:{commentIDs:o,depth:r},state:E}));if(A.length>0){v=a.connectionPageInfo.pageSize;for(var p=A.length-1;p>=0;p--){g=A[p];if(C.has(g)){E=d("CometUFICommentListState").StateUpdaters.receiveRealtimeComment({args:{commentID:g,depth:r,hideCommentInPager:!c("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))||!a.isUFIVisible.current,totalCount:y},state:E});continue}r===0?E=d("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:g,commentsComposedByThisUFI:k,depth:r,pageSize:v,prevTotalCount:e,totalCount:y},state:E}):E=d("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:g,commentsComposedByThisUFI:k,depth:r,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:v,prevTotalCount:e,totalCount:y},state:E})}}else n.size>0&&n.forEach(function(a,b){E=d("CometUFICommentListState").StateUpdaters.receiveReparentedComment({args:{commentID:b,depth:r,removedID:a},state:E})}),D.length>0&&D.forEach(function(a){r===0?E=d("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:r},state:E}):E=d("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:r,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER},state:E})});return{listState:E,mirroredProps:z}}function i(a,b){var e=a.commentIDs,f=a.commentsByID,g=a.connectionPageInfo,i=g.afterCount,j=g.beforeCount,k=g.hasNext,l=g.hasPrevious;g=g.pageSize;var m=a.depth,n=a.feedback,o=a.hiddenCommentIDs,p=a.isInitiallyExpanded,q=a.shouldRenderComposerPreemptively,r=a.topLevelCommentFeedback,s=a.topLevelFeedback,t=a.totalCount,u=a.viewOption;r=h({depth:m,feedback:n,topLevelCommentFeedback:r,topLevelFeedback:s});if(n.id==null)throw c("unrecoverableViolation")("A feedback target cannot have a null id","ufi2");j={afterCount:i,beforeCount:j,canViewerComment:r,commentIDs:e,commentsByID:f,feedbackTargetID:n.id,hasNext:k,hasPrevious:l,hiddenCommentIDs:o,initiallyExpanded:p,pageSize:g,shouldRenderComposerPreemptively:q,topLevelFeedbackTargetID:(i=s==null?void 0:s.id)!=null?i:n.id,totalCount:t,viewOption:u};if(m===0){return d("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},j,{depth:0}),state:(r=b)!=null?r:null})}f=(e=a.commentParent)==null?void 0:e.id;if(f==null)throw c("unrecoverableViolation")("A nested comment list must have a parent comment ID","ufi2");return d("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},j,{depth:1,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,parentCommentID:f}),state:(k=b)!=null?k:null})}g.getCanViewerComment=h;g.getDerivedStateFromProps=a;g.getInitialState=i}),98);
__d("CometUFICommentsProviderState",["FBLogger","filterMap","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(b){var d=a==null?void 0:a.client_id;if(d!=null&&b.has(d))return!0}if(c){b=a==null?void 0:a.id;if(b!=null&&c.has(b))return!0}return a!=null&&(a.optimistic_error!=null||a.optimistic_action!=null)}function i(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback)==null?void 0:(a=a.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function j(a){return a.filter(function(a){return a.startsWith("client:")})}function k(a){var b={};a=a?a.map(function(a){if(!a){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}if(a.id!=null){var d=a.id;b[d]=a;return d}else{c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}}).filter(Boolean):[];if(a.length>Object.keys(b).length){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:b}}return{commentIDs:a,commentsByID:b}}function l(a,b,c){a=Object.keys(a);a=a.filter(function(a){return!Object.prototype.hasOwnProperty.call(b,a)}).filter(function(a){return!c.some(function(b){return b.clientID===a})});return a}function m(a,b,c,d){var e=[];c=a.filter(function(a){return!a.startsWith("client:")});var f=function(){if(h){if(i>=g.length)return"break";a=g[i++]}else{i=g.next();if(i.done)return"break";a=i.value}var c=a,f=d[c],j=f&&f.client_id!=null?f.client_id:null;j!=null&&b.find(function(a){return a===j})&&e.push({clientID:j,serverID:c})};for(var g=c,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){c=f();if(c==="break")break}return e}function n(a,b,d,e,f,g){if(d.length<=b.length)return[];var i=a[d[0]];if(!i){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}i=b.filter(function(b){return h(a[b],e,f)});b=d.filter(function(b){return h(a[b],e,f)});d=b.length-i.length>0;if(!d)return[];if(i.length===0)return b;var j=new Set(i);return b.filter(function(a){return!j.has(a)}).filter(function(a){return!g.has(a)})}function o(a,b){return b.filter(function(b){b=a[b];return b!=null&&i(b)})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&i(d)===!1&&i(c)===!0})}function q(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&i(d)===!0&&i(c)===!1})}function r(a,b,d){var e=function(c,d){return b.includes(d)&&!a.includes(d)};return c("filterMap")(d,e)}function b(a,b){var d=a.depth,e=a.locallyComposedCommentIds,f=a.realtimeCommentIds,g=a.reparentedToDeletedCommentsMap,h=b.commentsByID,i=b.commentIDs;a=k(a.edges);var s=a.commentIDs;a=a.commentsByID;var t=i.length,u=b.clientCommentIDs,v=j(s),w=s.length,x=b.selectedViewOption;b=b.isRefetchingConnection;var y=o(a,s),z=p(h,a,s),A=q(h,a,s);u=m(s,u,v,a);g=r(i,s,g);w=w>t;t=w?n(a,i,s,e,f,g):[];w=!b;i=w?l(h,a,u):[];e={clientCommentIDs:v,commentIDs:s,commentIDsUpdatedToServerIDs:u,commentsByID:a,hiddenCommentIDs:y,isRefetchingConnection:b,newlyCreatedCommentIDs:t,newlyHiddenCommentIDs:z,newlyReparentedToDeletedCommentsMap:g,newlyUnhiddenCommentIDs:A,removedCommentIDs:i,selectedViewOption:x};c("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return e}function d(a){a=a.edges;a=k(a);var b=a.commentIDs;a=a.commentsByID;var c=j(b),d=o(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyReparentedToDeletedCommentsMap:new Map(),newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}g.getBeforeCount=a;g.getClientCommentIDs=j;g.getCommentsFromEdges=k;g.getRemovedCommentIDs=l;g.getCommentIDsUpdatedToServerIDs=m;g.getNewlyCreatedCommentIDs=n;g.getHiddenCommentIDs=o;g.getNewlyHiddenCommentIDs=p;g.getNewlyUnhiddenCommentIDs=q;g.getNewlyReparentedCommentIDs=r;g.getDerivedStateFromProps=b;g.getInitialState=d}),98);
__d("UFI2RealtimeContext",["react","warning"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(function(){c("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return{dispose:function(){}}});e=b;g["default"]=e}),98);
__d("UFI2RealtimeContainer.react",["UFI2RealtimeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.children;a=a.subscribe;var d=i(c("UFI2RealtimeContext"));return h.jsx(k,{factory:d,subscribe:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";var k=function(a){var b=a.factory,c=a.subscribe;a=a.children;j(function(){var a=b(new l(c));return function(){a.dispose()}},[b,c]);return(a=a)!=null?a:null},l=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();g["default"]=a}),98);
__d("UFI2RelayConnectionRenderer.react",["invariant","RelayRuntime","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/readContext"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=!1;e.$2=!1;e.$6=function(a,b){if(!e.$7()||e.$1)return;e.$4("forward",a,b||{})};e.$8=function(a,b){if(!e.$9()||e.$2)return;e.$4("backward",a,b||{})};e.$7=function(){var a=e.props.connection;a=i(a);return a?a.hasNext:!1};e.$9=function(){var a=e.props.connection;a=i(a);return a?a.hasPrevious:!1};e.$5=function(a,b){a==="forward"?(e.$1=!0,e.forceUpdate(b)):a==="backward"&&(e.$2=!0,e.forceUpdate(b))};var f=d("react-relay/RelayContext").assertRelayContext(c("react-relay/readContext")(c("react-relay/ReactRelayContext")));e.state={mirroredRelayContext:f,prevProps:b,queryFetchers:{backward:new(c("react-relay/ReactRelayQueryFetcher"))(),forward:new(c("react-relay/ReactRelayQueryFetcher"))()}};return e}b.getDerivedStateFromProps=function(a,b){var e=d("react-relay/RelayContext").assertRelayContext(c("react-relay/readContext")(c("react-relay/ReactRelayContext")));if(b.prevProps.paginationQuery!==a.paginationQuery||b.mirroredRelayContext.environment!==e.environment){b=b.queryFetchers;return{mirroredRelayContext:e,prevProps:a,queryFetchers:babelHelpers["extends"]({},b)}}return null};var e=b.prototype;e.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};e.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};e.shouldComponentUpdate=function(a,b){return!0};e.$3=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};e.$4=function(a,b,d){var e=this,f=this.props,g=f.connection;f=f.paginationQuery;var k=this.state.queryFetchers;k=k[a];g=i(g);g||h(0,1775);b=j(a,b,g,d);if(b==null)return;var l=babelHelpers["extends"]({},b,{UFI2CommentsProvider_commentsKey:this.props.commentsKey});g=this.state.mirroredRelayContext.environment;var m=d.onLoaded;b=c("RelayRuntime").getRequest(f);d=c("RelayRuntime").createOperationDescriptor(b,l);var n=!1;try{var o=k.fetch({environment:g,onDataChange:function(b){var c=b.error,d=b.snapshot;if(n)return;n=!0;e.$3(a,function(){m&&m({data:d==null?void 0:d.data,error:c,variables:l})})},operation:d});o?(n=!0,this.$3(a,function(){m&&m({data:o.data,variables:l})})):this.$5(a)}catch(a){m&&m({error:a,variables:l})}};e.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$7(),hasPrevious:this.$9(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$6,loadPrevious:this.$8};return this.props.children(a)};return b}(a.Component);function i(a){if(!a)return null;var b=c("RelayRuntime").ConnectionInterface.get(),d=b.PAGE_INFO,e=b.HAS_NEXT_PAGE,f=b.HAS_PREV_PAGE,g=b.END_CURSOR;b=b.START_CURSOR;a=a[d];a||h(0,1776);return{backwardCursor:a[b],forwardCursor:a[g],hasNext:a[e],hasPrevious:a[f]}}function j(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({},d.queryVariables,{after:null,before:e,first:null,last:a});case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({},d.queryVariables,{after:a,before:null,first:e,last:null});default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}g["default"]=b}),98);
__d("CometUFICommentsProvider.react",["CometRelay","CometUFICommentsProviderPaginationQuery.graphql","CometUFICommentsProviderReadCommentsPageQuery.graphql","CometUFICommentsProviderState","CometUFICommentsProvider_displayCommentsHighlightedComments.graphql","CometUFICommentsProvider_displayCommentsMetadata.graphql","CometUFICommentsProvider_feedback.graphql","FBLogger","RelayModern","RelayUFI2CommentsKeyContext","SiteData","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","gkx","orEmptyArray","react","relay-runtime","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("react"),n=c("requireDeferred")("CometUFICreateCommentSubscription").__setRef("CometUFICommentsProvider.react"),o=c("requireDeferred")("CometUFIPegasusCreateCommentSubscription").__setRef("CometUFICommentsProvider.react"),p=50,q=function(e){babelHelpers.inheritsLoose(a,e);function a(a){var b;b=e.call(this,a)||this;b.state=d("CometUFICommentsProviderState").getInitialState({edges:b.props.edges,feedback:b.props.feedback});b.commentOrdering=null;b.replyCommentOrdering=null;b.$1=function(a){var d=a.count,e=a.direction,f=a.onCommentsFetched;a=b.props;var g=a.depth,h=a.displayCommentsContext,i=a.feedback,j=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.isLoadingNext,n=a.isLoadingPrevious,o=a.loadNext,p=a.loadPrevious,q=a.topLevelViewOption;a=a.useDefaultActor;var r=b.state.selectedViewOption;i=i==null?void 0:i.id;if(i==null){c("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant fetch without a feedback id");return}if(e==="forward"&&m)return;if(e==="backward"&&n)return;n={displayCommentsContextEnableComment:h==null?void 0:h.enableComment,displayCommentsContextIsAdPreview:h==null?void 0:h.isAdPreview,displayCommentsContextIsAggregatedShare:h==null?void 0:h.isAggregatedShare,displayCommentsContextIsStorySet:h==null?void 0:h.isStorySet,displayCommentsFeedbackContext:h==null?void 0:h.feedbackContext,feedLocation:k,feedbackID:i,feedbackSource:j,focusCommentID:l,includeHighlightedComments:!1,includeNestedComments:g===0,initialViewOption:b.commentOrdering,isComet:!0,isInitialFetch:!1,isPaginating:!0,scale:c("SiteData").pr,topLevelViewOption:(m=r)!=null?m:q,useDefaultActor:a,viewOption:r};if(e==="backward")p(d,{onLoaded:function(a){var c=a.error;a=a.variables;return b.$2({direction:e,error:c,onCommentsFetched:f,variables:a})},queryVariables:n});else if(e==="forward")o(d,{onLoaded:function(a){var c=a.error;a=a.variables;return b.$2({direction:e,error:c,onCommentsFetched:f,variables:a})},queryVariables:n});else throw c("unrecoverableViolation")("CometUFICommentsProvider: Invalid direction","ufi2")};b.$3=function(a){var d=b.state.commentsByID[a];if(d==null){c("FBLogger")("ufi2").warn("CometUFICommentsProvider: Could not find requested comment locally: %s",a);return null}return d};b.$5=function(a){var d=a.onComplete,e=a.queryVariables;a=b.props;var f=a.depth,g=a.displayCommentsContext,h=a.feedback,i=a.feedbackSource,j=a.feedLocation,k=a.focusCommentID,l=a.relay,m=a.topLevelViewOption,n=a.useDefaultActor,o=b.state.selectedViewOption,p=h==null?void 0:h.id;if(p==null){c("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant refetch without a feedback id");return}b.setState({isRefetchingConnection:!0},function(){l.refetch(function(a){return babelHelpers["extends"]({},a,{displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:j,feedbackID:p,feedbackSource:i,focusCommentID:k,includeHighlightedComments:f>0&&((e==null?void 0:e.isPaginating)==null||(e==null?void 0:e.isPaginating)===!1),includeNestedComments:!0,isComet:!0,isInitialFetch:!1,scale:c("SiteData").pr,topLevelViewOption:(a=o)!=null?a:m,useDefaultActor:n,viewOption:o},e)},null,function(a){return b.$4(a||null,d)})})};b.$6=function(a){var c=a.onComplete;a=a.viewOption;b.setState({selectedViewOption:a},function(){b.$5({onComplete:c,queryVariables:{isPaginating:!1}})})};b.$7=function(){var a=b.props,d=a.commentsKey,e=a.depth,f=a.feedback,g=a.feedbackSource,h=a.feedLocation,i=a.focusCommentID,j=a.onRealtimeCommentReceived,k=a.relay,l=a.useDefaultActor,m=b.replyCommentOrdering;if(c("gkx")("1352852")&&(g===1||g===69))return null;var p=f==null?void 0:f.id;a=f==null?void 0:f.subscription_target_id;if(e===1||p==null||a==null)return null;var q=!1,r={dispose:function(){q=!0}};!0===c("gkx")("1703994")?o.load().then(function(a){if(q)return;r.dispose=a.subscribe({commentsKey:d,environment:k.environment,feedLocation:h,feedbackSource:g,focusCommentID:i,isComet:!0,onNext:function(a){j&&j(a==null?void 0:(a=a.pegasus_comment_create_subscribe)==null?void 0:a.feedback_comment_edge)},topLevelFeedbackTargetID:p,useDefaultActor:l}).dispose})["catch"](function(a){return c("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFIPegasusCreateCommentSubscription,               this is probably because the arguments didn't line up with what               we're expected or someone has been tinkering with its               implementation")}):n.load().then(function(a){if(q)return;r.dispose=a.subscribe({commentsKey:d,environment:k.environment,feedLocation:h,feedbackSource:g,focusCommentID:i,isComet:!0,onNext:function(a){j&&j(a==null?void 0:(a=a.comment_create_subscribe)==null?void 0:a.feedback_comment_edge)},replyCommentOrdering:m,topLevelFeedbackTargetID:p,useDefaultActor:l}).dispose})["catch"](function(a){return c("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFICreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return r};return b}var f=a.prototype;f.$2=function(a){var b=a.direction,e=a.error,f=a.onCommentsFetched;a=a.variables;if(e){f&&f({commentIDs:[],direction:b,error:e});return}e=this.props.relay.environment;var g=d("relay-runtime").getRequest(s);g=d("relay-runtime").createOperationDescriptor(g,a);a=e.lookup(g.fragment).data;a=c("orEmptyArray")(a==null?void 0:(e=a.feedback)==null?void 0:(g=e.display_comments)==null?void 0:g.edges);e=a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);f&&f({commentIDs:e||[],direction:b,error:null})};f.$4=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};f.render=function(){var a,e,f,g=this.props,j=g.children,k=g.depth,l=g.feedback,n=g.hasNext,o=g.hasPrevious,q=g.isLoadingNext,r=g.isLoadingPrevious,s=g.reparentedToDeletedCommentsMap;g=g.topLevelViewOption;var t=this.state,u=t.commentIDs,v=t.commentIDsUpdatedToServerIDs,w=t.commentsByID,x=t.hiddenCommentIDs,y=t.isRefetchingConnection,z=t.newlyCreatedCommentIDs,A=t.newlyHiddenCommentIDs,B=t.newlyReparentedToDeletedCommentsMap,C=t.newlyUnhiddenCommentIDs,D=t.removedCommentIDs;t=t.selectedViewOption;var E=d("CometRelay").readInlineData(h!==void 0?h:h=b("CometUFICommentsProvider_displayCommentsMetadata.graphql"),l==null?void 0:l.display_comments);a=(a=E==null?void 0:E.page_size)!=null?a:p;e=(e=E==null?void 0:E.ufi2_connection_generation)!=null?e:0;f={afterCount:(f=l==null?void 0:(f=l.display_comments)==null?void 0:f.after_count)!=null?f:0,beforeCount:(f=l==null?void 0:(f=l.display_comments)==null?void 0:f.before_count)!=null?f:0,hasNext:n,hasPrevious:o,pageSize:a};n=null;try{o=d("CometRelay").readInlineData(i!==void 0?i:i=b("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql"),l==null?void 0:l.display_comments);n=c("orEmptyArray")(o==null?void 0:o.highlighted_comments)}catch(a){}var F={};c("orEmptyArray")(E==null?void 0:E.expanded_sub_reply_parents).forEach(function(a){a=a==null?void 0:a.id;a!=null&&(F[a]=!0)});a=(E==null?void 0:E.is_initially_expanded)===!0;o=(l=l==null?void 0:(o=l.display_comments)==null?void 0:o.count)!=null?l:0;l=(E==null?void 0:E.comment_order)||t;t=(t=E==null?void 0:E.reply_comment_order)!=null?t:null;this.commentOrdering=l;this.replyCommentOrdering=t;return m.jsx(c("UFI2RealtimeContainer.react"),{subscribe:this.$7,children:j({commentIDs:u,commentIDsUpdatedToServerIDs:v,commentsByID:w,connectionGeneration:e,connectionPageInfo:f,expandedSubReplyParents:F,fetchComments:this.$1,getComment:this.$3,hiddenCommentIDs:x,highlightedComments:n,isFetchingNextComments:q,isFetchingPreviousComments:r,isInitiallyExpanded:a,isRefetchingConnection:y,newlyCreatedCommentIDs:z,newlyHiddenCommentIDs:A,newlyReparentedToDeletedCommentsMap:B,newlyUnhiddenCommentIDs:C,refetchConnection:this.$5,removedCommentIDs:D,reparentedToDeletedCommentsMap:s,replyViewOption:t,setViewOption:this.$6,shouldRenderComposerPreemptively:(j=E==null?void 0:E.should_render_composer_preemptively)!=null?j:k===0,topLevelViewOption:(u=g)!=null?u:null,totalCount:o,viewOption:l})})};return a}(m.PureComponent);q.displayName="CometUFICommentsProviderInternal";q.getDerivedStateFromProps=d("CometUFICommentsProviderState").getDerivedStateFromProps;function a(a){var b,d=(b=a.feedback)==null?void 0:b.display_comments;if(d==null){return(b=a.fallback)!=null?b:null}return m.jsx(c("RelayUFI2CommentsKeyContext").Consumer,{children:function(b){if(b==null&&c("gkx")("1510195"))throw c("unrecoverableViolation")("CometUFICommentsProvider expected RelayUFI2CommentsKeyContext to be set","ufi2");return m.jsx(c("UFI2RelayConnectionRenderer.react"),{commentsKey:b,connection:d,paginationQuery:r,children:function(c){return m.jsx(q,babelHelpers["extends"]({commentsKey:b,depth:0},a,c))}})}})}a.displayName=a.name+" [from "+f.id+"]";var r=j!==void 0?j:j=b("CometUFICommentsProviderPaginationQuery.graphql"),s=k!==void 0?k:k=b("CometUFICommentsProviderReadCommentsPageQuery.graphql");e=d("RelayModern").createRefetchContainer(a,{feedback:l!==void 0?l:l=b("CometUFICommentsProvider_feedback.graphql")},r);g["default"]=e}),98);
__d("CometUFIVisibilityContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({current:!0});g["default"]=b}),98);
__d("CometUFICommentList.react",["fbt","CometDebounce","CometRelay","CometUFIActionsContext","CometUFICommentListGetDerivedStateFromProps","CometUFICommentListState","CometUFICommentListStateConfig","CometUFICommentList_feedback.graphql","CometUFICommentListenersContext","CometUFICommentsProvider.react","CometUFIReparentedCommentIDsContext.react","CometUFIVisibilityContext","FBLogger","SearchableEntry","SubscriptionsHandler","emptyFunction","gkx","qex","react","recoverableViolation","scrollIntoView","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useContext,l={behavior:"smooth",verticalAlign:"center"};function m(a,b){return(a=a.comment_composer_placeholder)!=null?a:b>0?h._(/*FBT_CALL*/"Vi\u1ebft c\u00e2u tr\u1ea3 l\u1eddi\u2026"/*FBT_CALL*/):h._(/*FBT_CALL*/"Vi\u1ebft b\u00ecnh lu\u1eadn..."/*FBT_CALL*/)}var n=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var e;e=b.call(this,a)||this;e.state={listState:d("CometUFICommentListGetDerivedStateFromProps").getInitialState(e.props,void 0),mirroredProps:e.props};e.$2=null;e.$5=null;e.$6=new Map();e.$7=null;e.$8=new Map();e.$4=new Map();e.$9={};e.$10=!1;e.$11=!1;e.$12=!1;e.$13=!1;e.$14={};e.$3=new(c("SubscriptionsHandler"))();e.$17=function(a,b){e.$4.set(a,b)};e.$18=function(){var a=e.props.feedback.id;a!=null&&e.props.commentListenerContext.isInitialized?e.props.commentListenerContext.getEmitter(a,e.props.feedLocation).emit("comments_collapse",a):a==null&&e.props.commentListenerContext.isInitialized&&c("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2");a=e.props;var b=a.depth,f=a.totalCount;e.$19(function(a){return d("CometUFICommentListState").StateUpdaters.collapseList({args:{depth:b,totalCount:f},state:a})})};e.$20=function(a){var b=a.focusComposer,f=a.preventFetch,g=a.scrollToComposer;a=e.props.feedback.id;a!=null&&e.props.commentListenerContext.isInitialized?e.props.commentListenerContext.getEmitter(a,e.props.feedLocation).emit("comments_expand",a):a==null&&e.props.commentListenerContext.isInitialized&&c("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2");a=e.props;var h=a.connectionPageInfo.pageSize,i=a.depth,j=a.fetchComments,k=a.refetchConnection,l=a.totalCount;a=e.state.listState;f!==!0&&d("CometUFICommentListState").Selectors.isListExpanded({depth:i,state:a})&&d("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:i,state:a})===0&&l>0&&(a.pagers.forward||a.pagers.backward)&&((f=c("qex")._("1568103"))!=null?f:!1)&&(a.pagers.forward?e.$21:e.$22)({onCommentsRendered:function(){return e.$20({focusComposer:b,preventFetch:!0,scrollToComposer:g})}});b&&(e.$10=!0);g===!0&&(e.$11=!0);e.$15();var m=!1;e.$19(function(a){var b=i===0&&d("CometUFICommentListState").Selectors.isListLoading({depth:i,state:a})||i!==0&&d("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:i,state:a});if(b)return null;b=i===0?d("CometUFICommentListState").StateUpdaters.expandList({args:{depth:i,totalCount:l},state:a}):d("CometUFICommentListState").StateUpdaters.expandList({args:{depth:i,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,totalCount:l},state:a});if(i===0){a=d("CometUFICommentListState").Selectors.isListLoading({depth:i,state:b});m=a;return b}a=d("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:i,state:b});m=a;return b},function(a){if(!m)return;if(i===0){k({});return}a=d("CometUFICommentListState").Selectors.getCountForFetch({depth:i,direction:"forward",pageSize:h,state:a});if(a==null)return;j({count:a,direction:"forward",onCommentsFetched:e.$23})})};e.$24=function(a){var b=e.props.depth;e.$19(function(c){return d("CometUFICommentListState").StateUpdaters.expandHiddenComments({args:{commentIDs:a,depth:b},state:c})})};e.$25=function(a){var b=e.props,c=b.connectionPageInfo.pageSize,f=b.depth,g=b.fetchComments;b=b.totalCount;var h=e.state.listState;if(!d("CometUFICommentListState").Selectors.canFetchInDirection({depth:f,direction:a,state:h,totalCount:b}))return;b=d("CometUFICommentListState").Selectors.getCountForFetch({depth:f,direction:a,pageSize:c,state:h});if(b==null)return;g({count:b,direction:a,onCommentsFetched:e.$23})};e.$26=function(){var a=e.props,b=a.depth,d=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID;a=a.useDefaultActor;if(d.id==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");return{feedLocation:g,feedback:d,feedbackSource:f,feedbackTargetID:d.id,focusCommentID:h,placeholder:m(d,b),useDefaultActor:a}};e.$27=function(a){var b=e.props,c=b.depth,d=b.feedback,f=b.feedbackSource,g=b.topLevelFeedback;b=b.useDefaultActor;g=g==null?void 0:g.id;a={addConstantHighlightCallbacks:e.$28,comment:a,depth:c,feedback:d,feedbackSource:f,onReplyToComment:e.handleReplyToComment,removeConstantHighlightCallback:e.$29,useDefaultActor:b};return g==null?a:babelHelpers["extends"]({},a,{topLevelFeedbackID:g})};e.$31=function(){var a=e.props,b=a.commentParent,c=a.depth,d=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID,i=a.topLevelFeedback,j=a.useDefaultActor;a=a.viewOption;i=i==null?void 0:i.id;b={ariaLabel:e.$30(),commentParent:b,componentRef:c===0?e.$32:e.$33,feedLocation:g,feedback:d,feedbackSource:f,focusCommentID:h,onBlur:e.$34,onFocus:e.$35,placeholder:m(d,c),useDefaultActor:j,viewOption:a};return i==null?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:i})};e.$37=function(){return e.$36("forward")};e.$38=function(){return e.$36("backward")};e.$39=function(){var a=e.props,b=a.depth,c=a.environment;a=a.totalCount;var f=e.state.listState;return{Selectors:d("CometUFICommentListState").Selectors,depth:b,environment:c,expandHiddenComments:e.$24,listState:f,totalCount:a}};e.$40=function(a){var b=e.props,d=b.depth,f=b.displayCommentsContext,g=b.feedback,h=b.feedbackSource,i=b.feedLocation,j=b.focusCommentID,k=b.getComment,l=b.locallyComposedCommentIds,m=b.onComposerFocusCallback,n=b.realtimeCommentIds,o=b.topLevelCommentFeedback,p=b.topLevelFeedback,q=b.topLevelViewOption,r=b.useDefaultActor;b=b.viewOption;var s=k(a);k=s&&s.feedback;var t=function(b){e.$9[a]=b,e.$41()},u=function(b){e.$14[a]=b};if(k==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected comment to have a `feedback` in order to render a replies list.","ufi2");o=d===0?k:o;if(o==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel comment feedback.","ufi2");g=d===0?g:p;if(g==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel feedback.","ufi2");return{commentParent:s,composerBlurUnhighlightCommentCallback:e.$42,composerFocusHighlightCommentCallback:e.$43,depth:d+1,displayCommentsContext:f,feedLocation:i,feedback:k,feedbackSource:h,focusCommentID:j,listRef:t,locallyComposedCommentIds:l,onComposerFocusCallback:m,onListRendered:function(a){var b=s!=null?e.$4.get(s.id):null;b&&b(a)},realtimeCommentIds:n,subRepliesExpanderRef:u,topLevelCommentFeedback:o,topLevelFeedback:g,topLevelViewOption:(p=q)!=null?p:b,useDefaultActor:r}};e.$47=function(){return e.$44("forward")};e.$48=function(){return e.$44("backward")};e.$49=function(){var a=e.props,b=a.connectionPageInfo.pageSize,c=a.depth,f=a.environment;a=a.totalCount;var g=e.state.listState;return{Selectors:d("CometUFICommentListState").Selectors,depth:c,environment:f,listState:g,pageSize:b,totalCount:a}};e.$50=function(){var a=e.props,b=a.depth,f=a.environment;a=a.totalCount;var g=e.state.listState;if(b===0)throw c("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies collapser props","ufi2");return{Selectors:d("CometUFICommentListState").Selectors,collapseList:e.$18,depth:b,environment:f,listState:g,totalCount:a}};e.$51=function(){var a=e.props,b=a.depth,f=a.environment,g=a.highlightedComments,h=a.totalCount;a=a.viewOption;var i=e.state.listState;if(b===0)throw c("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies expander props","ufi2");return{Selectors:d("CometUFICommentListState").Selectors,depth:b,environment:f,expandList:e.$20,highlightedComments:g,listState:i,onMouseEnter:function(){return e.$45("forward")},totalCount:h,viewOption:a}};e.$52=function(a){var b=e.props.expandedSubReplyParents;return b[a]===!0};e.$23=function(a){var b=a.commentIDs,f=a.direction,g=a.error;if(g){e.$19(function(a){return d("CometUFICommentListState").StateUpdaters.failCommentPagination({args:{depth:e.props.depth,direction:f,error:g},state:a})});return}a=e.props;var h=a.connectionPageInfo,i=a.depth,j=a.feedback,k=a.hiddenCommentIDs,l=a.totalCount,m=h.afterCount,n=h.beforeCount,o=h.hasNext,p=h.hasPrevious,q=h.pageSize,r=j.id;if(r==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");var s=!1;e.$19(function(a){s=!0;if(i===0)if(f==="backward")return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:n,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:k,pageSize:q,totalCount:l},state:a});else return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:m,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:k,pageSize:q,totalCount:l},state:a});else if(f==="backward")return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:n,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:k,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:l},state:a});else return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:m,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:k,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:l},state:a})},function(a){s&&e.$53(f)})};e.$54=function(a){var b,d=function(){if(b==null){var d,e;d=(d=c("qex")._("1496343"))!=null?d:!0;e=(e=c("qex")._("1496344"))!=null?e:1e3;b=c("CometDebounce")(d?function(){a.$25("forward")}:c("emptyFunction"),{wait:e});a.$3.addSubscriptions(b)}b()};d.reset=function(){b&&b.reset()};return d}(babelHelpers.assertThisInitialized(e));e.$55=function(){e.$54.reset()};e.$28=function(a,b){e.$6.set(a,b)};e.$29=function(a){e.$6["delete"](a)};e.$42=function(a){a=e.$6.get(a);a&&a(!1)};e.$43=function(a){a=e.$6.get(a);a&&a(!0)};e.$34=function(){var a=e.props,b=a.commentParent;a=a.composerBlurUnhighlightCommentCallback;b&&a&&a(b.id)};e.$35=function(){var a=e.props,b=a.commentParent,f=a.composerFocusHighlightCommentCallback,g=a.depth;a=a.onComposerFocusCallback;var h=e.state.listState;d("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:g,state:h})===0&&(h.pagers.forward||h.pagers.backward)&&((g=c("qex")._("1568104"))!=null?g:!1)&&(h.pagers.forward?e.$21:e.$22)({onCommentsRendered:function(){e.$10=!0,e.$11=!0,e.$15()}});b&&f&&f(b.id);a&&a()};e.$32=function(a){e.$5=a,e.$15()};e.$33=function(a){var b;(((b=e.props.commentParent)==null?void 0:b.legacy_fbid)===e.props.focusCommentID||e.props.commentIDs.some(function(a){a=e.props.getComment(a);return(a==null?void 0:a.legacy_fbid)===e.props.focusCommentID}))&&(e.$10=!0);e.$32(a);if(a&&e.$7){b=e.$7;e.$7=null;e.$56(b,a)}a&&e.$13&&(e.$57(e.$1),e.$1=void 0,e.$13=!1);a&&e.$12&&(e.$58(),e.$12=!1)};e.$45=function(a){var b,d=function(d){if(b==null){var f,g;f=(f=c("qex")._("1496345"))!=null?f:!0;g=(g=c("qex")._("1496346"))!=null?g:0;b=c("CometDebounce")(f?e.$25:c("emptyFunction"),{wait:g});a.$3.addSubscriptions(b)}b(d)};d.reset=function(){b&&b.reset()};return d}(babelHelpers.assertThisInitialized(e));e.handleReplyToComment=function(a){var b,f=e.props,g=f.depth,h=f.feedback,i=f.topLevelCommentFeedback;f=f.topLevelFeedback;if(d("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:g,feedback:h,topLevelCommentFeedback:i,topLevelFeedback:f})===!1)return;var j=a.authorId,k=a.authorIsWeakReference,l=a.authorName,m=a.authorType,n=a.authorUrl,o=a.commentComposerPlaceholderText,p=a.commentId;b=j===((b=h.viewer_actor)==null?void 0:b.id);if(g>0){var q=e.$9[p];if(q!=null){q.handleReplyToComment(a);return}q=e.$14[p];if(q!=null){q.handleReplyToComment(a);return}e.$7=null;if(!b){q=e.$5;j={authorId:j,authorIsWeakReference:k,authorName:l,authorType:m,authorUrl:n};q?e.$56(j,q):e.$7=j}}if(g===0){m=(l=(k=h.ask_me_anything_feedback_metadata)==null?void 0:k.is_viewer_host)!=null?l:!1;n=!b&&!m&&c("gkx")("1746423");q=e.$9[p];q!=null&&(q.$57(void 0),q.$58(),n&&q.handleReplyToComment(a))}else e.$57({commentComposerPlaceholderText:o,id:p}),e.$58();if(g===0&&((j=h.threading_config)==null?void 0:j.__typename)==="NoThreadingFeedbackConfig"){e.$10=!0;e.$11=!0;e.$15();return}k=d("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:g,feedback:h,topLevelCommentFeedback:i,topLevelFeedback:f});l=e.$9[p]!=null;if(l){b=g>1?(i==null?void 0:i.can_viewer_comment)===!0:h.can_viewer_comment===!0;if(b){m=p;e.$59.push({commentID:m,scrollToComposer:k});e.$41()}else{n=e.$5;n&&n.focus()}}else e.$20({focusComposer:k,scrollToComposer:k})};e.$60=function(a){a=e.$9[a.id];return a!=null?d("CometUFICommentListState").Selectors.isComposerVisible({depth:a.props.depth,state:a.state.listState}):!1};e.$61=function(a){a=e.$9[a.id];return a!=null?a.props.totalCount:0};e.$59=[];e.$21=function(a){a=a?a.onCommentsRendered:void 0;e.$62("forward",a)};e.$22=function(a){a=a?a.onCommentsRendered:void 0;e.$62("backward",a)};e.$63=function(a){var b=a.onComplete,c=a.viewOption;a=e.props;var f=a.depth,g=a.setViewOption;if(f!==0){b&&b(null);return}var h=!1;e.$19(function(a){if(d("CometUFICommentListState").Selectors.isListLoading({depth:f,state:a}))return null;h=!0;return d("CometUFICommentListState").StateUpdaters.requestRefetchList({args:{depth:f},state:a})},function(a){h?g({onComplete:b,viewOption:c}):b&&b(null)})};e.$64=function(a){a=a.focusComposer;var b=e.props,f=b.depth;b=b.totalCount;var g=e.state.listState;if(!d("CometUFICommentListState").Selectors.isListExpanded({depth:f,state:g})){e.$20({focusComposer:a,scrollToComposer:!1});return}b>0&&d("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:0,state:g})===0?g.pagers.forward?e.$21():g.pagers.backward&&e.$22():c("gkx")("1936457")?e.$21():e.$18()};e.Actions={collapseList:e.$18,expandList:e.$20,loadNewerComments:e.$22,loadOlderComments:e.$21,setViewOption:e.$63,toggleList:e.$64};a=e.props.feedback.id;var f=e.props.feedLocation;if(a!=null)e.$2=e.props.ufiActionsContext.registerUFIActions(a,{expandList:e.Actions.expandList});else{c("recoverableViolation")("CometUFICommentList: Feedback target ID is null in feed location: "+((a=f)!=null?a:"unknown")+". UFI actions cannot be registered.","ufi2")}return e}var e=a.prototype;e.componentWillUnmount=function(){this.$3.release(),this.$4.clear(),this.$2!=null&&this.$2.dispose()};e.$15=function(){var a=this.$10,b=this.$11;if(!a){this.$10=!1;this.$11=!1;return}else{a=this.props.depth;var e=this.state.listState;e=a===0&&!d("CometUFICommentListState").Selectors.isListLoading({depth:a,state:e});a=a!==0;var f=this.$5;if(f!=null&&(e||a)){this.$10=!1;this.$11=!1;e=f.getElementToScrollTo();if(b!==!0){f.focus();return}if(e==null)return;if(e instanceof Text){c("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on CometUFICommentList is being set correctly");f.focus();return}c("scrollIntoView")(e,babelHelpers["extends"]({},l,{onScrollComplete:function(){return f.focus()}}))}}};e.$16=function(a,b){var c=this.$8.get(a)||[];c.push(b);this.$8.set(a,c)};e.$30=function(){var a;a=(a=this.props.commentParent)==null?void 0:(a=a.author)==null?void 0:a.name;return typeof a==="string"?h._(/*FBT_CALL*/"Tr\u1ea3 l\u1eddi {parent-name}"/*FBT_CALL*/,[h._param("parent-name",a)]):h._(/*FBT_CALL*/"Vi\u1ebft b\u00ecnh lu\u1eadn"/*FBT_CALL*/)};e.$36=function(a){var b=this.props,c=b.depth,e=b.environment,f=b.feedback,g=b.totalCount;b=b.viewOption;var h=this.state.listState,i=f.is_vc_acting_as_page_or_profile_plus;return{Selectors:d("CometUFICommentListState").Selectors,depth:c,direction:a,environment:e,isPageOrProfilePlus:i,listState:h,totalCount:g,unfilteredTotalCount:(a=(c=f.toplevel_comment_count)==null?void 0:c.count)!=null?a:g,viewOption:b}};e.$44=function(a){var b=this,c=this.props,e=c.connectionPageInfo.pageSize,f=c.depth,g=c.feedback,h=c.totalCount;c=c.viewOption;var i=this.state.listState,j=a==="forward"?this.$21:this.$22;return{Selectors:d("CometUFICommentListState").Selectors,depth:f,direction:a,listState:i,loadMoreComments:j,onMouseEnter:function(){return b.$45(a)},onMouseLeave:function(){return b.$46()},pageSize:e,summaryTotalNumComments:(i=(f=g.comment_count)==null?void 0:f.total_count)!=null?i:0,totalCount:h,viewOption:c}};e.$46=function(){this.$45.reset()};e.$57=function(a){var b=this.$5;b!=null?b.execCommand({__type:"SetReplyAssociation",commentAssociatedWithReply:a}):(this.$1=a,this.$13=!0)};e.$58=function(){var a=this.$5;a!=null?a.execCommand({__type:"SetReplyClicked"}):this.$12=!0};e.$41=function(){var a=this;this.$59=this.$59.filter(function(b){var c=b.commentID;b=b.scrollToComposer;c=a.$9[c];if(c!=null){c.$20({focusComposer:!0,scrollToComposer:b});return!1}return!0})};e.$62=function(a,b){var e=this,f=this.props.feedback.id,g=b?function(){b(),f!=null&&e.props.commentListenerContext.isInitialized?e.props.commentListenerContext.getEmitter(f,e.props.feedLocation).emit("comments_pagination",f):f==null&&e.props.commentListenerContext.isInitialized&&c("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2")}:function(){},h=this.props,i=h.connectionPageInfo.pageSize,j=h.depth,k=h.fetchComments,l=!1;this.$19(function(b){var c=d("CometUFICommentListState").Selectors.isPagerLoading({depth:j,direction:a,state:b})||j===0&&d("CometUFICommentListState").Selectors.isListLoading({depth:j,state:b})||j!==0&&d("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:j,state:b});if(c)return null;c=j===0?d("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:0,direction:a,pageSize:i},state:b}):d("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:j,direction:a,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:i},state:b});l=d("CometUFICommentListState").Selectors.isPagerLoading({depth:j,direction:a,state:c});if(l){b=d("CometUFICommentListState").Selectors.getCountForFetch({depth:j,direction:a,pageSize:i,state:c});b!=null&&(g!=null&&e.$16(a,g),k({count:b,direction:a,onCommentsFetched:e.$23}))}return c},function(a){l||g&&g()})};e.$56=function(a,b){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName,g=a.authorType;a=a.authorUrl;var h=g;c("gkx")("1858969")||(h=g==="User"?"user":"non_user");b.execCommand({__type:"PrefillMention",mentionableEntity:new(c("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:h,uniqueID:d,uri:a})})};e.$53=function(a){var b=this.$8.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$8["delete"](a)};e.$19=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};e.render=function(){var a=this.props,b=a.children,c=a.commentParent,e=a.depth,f=a.environment,g=a.getComment,h=a.isInitiallyExpanded,i=a.onListRendered,j=a.replyViewOption,k=a.totalCount;a=a.viewOption;var l=this.state.listState;f={Actions:this.Actions,Selectors:d("CometUFICommentListState").Selectors,addRepliesListRenderedCallback:this.$17,environment:f,getComment:g,getCommentEditorProps:this.$26,getCommentProps:this.$27,getComposerProps:this.$31,getFilterWarningPropsForNewerComments:this.$38,getFilterWarningPropsForOlderComments:this.$37,getHiddenCommentsPlaceholderProps:this.$39,getNestedCommentsListProps:this.$40,getPagerPropsForNewerComments:this.$48,getPagerPropsForOlderComments:this.$47,getPaginationProgressProps:this.$49,getTotalRepliesCountForComment:this.$61,isInitiallyExpanded:h,isReplyComposerVisibleForComment:this.$60,listState:l,onCommentsListMouseEnter:this.$54,onCommentsListMouseLeave:this.$55,replyViewOption:j,totalCount:k,viewOption:a};g=e===0?babelHelpers["extends"]({},f,{depth:0}):babelHelpers["extends"]({},f,{commentParent:c,depth:e,getRepliesCollapserProps:this.$50,getRepliesExpanderProps:this.$51,getShouldInitiallyExpandSubRepliesForComment:this.$52});i&&i({composerVisible:d("CometUFICommentListState").Selectors.isComposerVisible({depth:e,state:l}),totalCount:k});return b(g)};return a}(j.PureComponent);n.displayName="CometUFICommentListInternal";n.getDerivedStateFromProps=d("CometUFICommentListGetDerivedStateFromProps").getDerivedStateFromProps;function a(a){var e=a.children,f=a.commentParent,g=a.composerBlurUnhighlightCommentCallback,h=a.composerFocusHighlightCommentCallback,l=a.depth,m=l===void 0?0:l,o=a.displayCommentsContext;l=a.fallback;var p=a.feedback,q=a.feedbackSource,r=a.feedLocation,s=a.focusCommentID,t=a.listRef,u=a.locallyComposedCommentIds,v=a.onComposerFocusCallback,w=a.onListRendered,x=a.onRealtimeCommentReceived,y=a.realtimeCommentIds,z=a.replyRecipientCommentID;a.subRepliesExpanderRef;var A=a.topLevelCommentFeedback,B=a.topLevelFeedback,C=a.topLevelViewOption,D=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commentParent","composerBlurUnhighlightCommentCallback","composerFocusHighlightCommentCallback","depth","displayCommentsContext","fallback","feedback","feedbackSource","feedLocation","focusCommentID","listRef","locallyComposedCommentIds","onComposerFocusCallback","onListRendered","onRealtimeCommentReceived","realtimeCommentIds","replyRecipientCommentID","subRepliesExpanderRef","topLevelCommentFeedback","topLevelFeedback","topLevelViewOption","useDefaultActor"]);var E=d("CometRelay").useRelayEnvironment(),F=k(c("CometUFIVisibilityContext")),G=k(d("CometUFIActionsContext").CometUFIActionsContext),H=k(d("CometUFICommentListenersContext").CometUFICommentListenersContext),I=k(d("CometUFIReparentedCommentIDsContext.react").CometUFIReparentedCommentIDsContext),J=I.reparentedToDeletedCommentsMap,K=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentList_feedback.graphql"),p);if(m>0&&B==null){c("recoverableViolation")("CometUFICommentList: topLevelFeedback is required to render a replies list","ufi2");return null}if(m>1&&A==null){c("recoverableViolation")("CometUFICommentList: topLevelCommentFeedback is required to render a sub replies list","ufi2");return null}return j.jsx(c("CometUFICommentsProvider.react"),babelHelpers["extends"]({depth:m,displayCommentsContext:o,fallback:l,feedLocation:r,feedback:K,feedbackSource:q,focusCommentID:s,locallyComposedCommentIds:u,onRealtimeCommentReceived:x,realtimeCommentIds:y,reparentedToDeletedCommentsMap:J,topLevelFeedback:B,topLevelViewOption:C,useDefaultActor:D},a,{children:function(a){return j.createElement(n,babelHelpers["extends"]({},a,{children:e,commentListenerContext:H,commentParent:f,composerBlurUnhighlightCommentCallback:g,composerFocusHighlightCommentCallback:h,depth:m,displayCommentsContext:o,environment:E,feedLocation:r,feedback:K,feedbackSource:q,focusCommentID:s,isUFIVisible:F,key:[q,s,(a=K.id)!=null?a:""].join("_"),locallyComposedCommentIds:u,onComposerFocusCallback:v,onListRendered:w,realtimeCommentIds:y,ref:t,reparentedToDeletedCommentsMap:J,replyRecipientCommentID:z,topLevelCommentFeedback:A,topLevelFeedback:B,ufiActionsContext:G,useDefaultActor:D}))}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentTranslateAllButton.react",["fbt","CometLink.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{borderBottomWidth:"afxsp9o4",borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",display:"a8c37x1j",marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x",paddingTop:"cxgpxx05",paddingEnd:"rz4wbd8a",paddingBottom:"sj5x9vvc",paddingStart:"a8nywdso",textAlign:"oqcyycmt"}};function a(a){return i.jsx(c("CometLink.react"),{onClick:a.onClick,xstyle:j.root,children:i.jsx(c("TetraText.react"),{type:"body4",children:h._(/*FBT_CALL*/"D\u1ecbch t\u1ea5t c\u1ea3 b\u00ecnh lu\u1eadn"/*FBT_CALL*/)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}f["default"]=a}),66);
__d("isCommentTokenOrFBID",["isCommentTokenOrFBID_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("isCommentTokenOrFBID_comment.graphql");function a(a,b){return a!=null&&(a===b.id||a===b.legacy_fbid)}g["default"]=a}),98);
__d("WebCommentVpvDurationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1842512");c=b("FalcoLoggerInternal").create("web_comment_vpv_duration",a);e.exports=c}),null);
__d("logCommentViewportViewDuration",["WebCommentVpvDurationFalcoEvent","WebSession","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.commentID,e=a.endpoint,f=a.isLivePinnedComment,g=a.isPageComment,h=a.isReply,i=a.isSponsored,j=a.milliseconds,k=a.storyRenderLocation,l=a.visibleStartTime;a=babelHelpers.objectWithoutPropertiesLoose(a,["commentID","endpoint","isLivePinnedComment","isPageComment","isReply","isSponsored","milliseconds","storyRenderLocation","visibleStartTime"]);if(j<100)return;var m=a.referrerSource!=null?{referrer_source:a.referrerSource}:null,n=a.pageInsights!=null?{page_insights:a.pageInsights}:null,o=a.qid!=null?a.qid:null,p=a.xt!=null&&a.xt!==""?a.xt:null;a=a.mfStoryKey!=null?{mf_story_key:a.mfStoryKey}:null;var q={container_module:k,duration_ms:j,endpoint:e,is_live_pinned_comment:f,is_on_sponsored_story:i,is_page_comment:g,is_reply:h,mfStoryKey:a,node_token:b,pageInsights:n,qid:o,referrerSource:m,sid_raw:d("WebSession").getId(),visible_start_time_ms:l,xt:p};c("WebCommentVpvDurationFalcoEvent").log(function(){return{json_data:JSON.stringify(q)}})}g["default"]=a}),98);
__d("useCometUFIVPVDEndpoint",["useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("useCurrentRoute")())==null?void 0:a.tracePolicy}g["default"]=a}),98);
__d("CometUFICommentInGroup.react",["CometFeedStoryEncryptedTrackingContext","CometPlaceholder.react","CometRelay","CometUFIComment.react","CometUFICommentInGroup_feedback.graphql","CometUFICommentList.react","CometUFICommentTranslateAllButton.react","CometUFIQPLInstanceKeyContext","JSResourceForInteraction","getViewportViewDurationPropertiesFromTrackingData","isCommentTokenOrFBID","lazyLoadComponent","logCommentViewportViewDuration","react","requireDeferred","unrecoverableViolation","useCometUFIVPVDEndpoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFICommentInGroup.react"),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometUFICommentEditor.react").__setRef("CometUFICommentInGroup.react")),n={commentRow:{paddingTop:"ecm0bbzt",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},commentRowNested:{paddingTop:"ecm0bbzt",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"scb9dxdr"},firstCommentRow:{paddingTop:"ecm0bbzt"}};function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentInGroup_feedback.graphql"),a.feedback),f=a.actor,g=a.comment,o=a.commentsListRenderProps,p=a.composerPluginProps,q=a.editingCommentID,r=a.feedbackSource,s=a.feedLocation,t=a.focusCommentID,u=a.isFirstRow,v=a.locallyComposedCommentIds,w=a.onCommitCommentCreate,x=a.onEditCommentError,y=a.onTranslateAllClick,z=a.realtimeCommentIds,A=a.renderedTranslationCommentID,B=a.setEditingCommentID,C=a.setRenderedTranslationCommentID,D=a.shouldRequestTranslationForAllComments,E=a.storyRenderLocation,F=a.topLevelViewOption,G=a.viewOption,H=o.addRepliesListRenderedCallback;a=o.depth;var I=o.getCommentEditorProps,J=o.getCommentProps,K=o.getTotalRepliesCountForComment,L=o.isReplyComposerVisibleForComment,M=o.replyViewOption,N=g.id,O=g.optimistic_action==null&&g.optimistic_error==null;J=J(g);var P=g.spam_display_mode!=null&&g.spam_display_mode!=="none";J.key;J=babelHelpers.objectWithoutPropertiesLoose(J,["key"]);var Q=k(c("CometFeedStoryEncryptedTrackingContext")),R=c("useCometUFIVPVDEndpoint")(),S=j(function(a,b,d){if(!O)return;c("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:N,endpoint:R,isLivePinnedComment:!1,isReply:!1,milliseconds:b,storyRenderLocation:E},c("getViewportViewDurationPropertiesFromTrackingData")(d),{visibleStartTime:a,xt:Q}))},[N,O,E,R,Q]),T=k(c("CometUFIQPLInstanceKeyContext")),U=j(function(){l.onReady(function(a){return a.addPoint(T,a.CometUFIFunnelLoggerEvents.COMMENT_MENU_ITEM_EDIT)}),B(N)},[N,B,T]),V=j(function(){return C(N)},[N,C]),W=j(function(){A===N&&C(null)},[N,A,C]);J=i.jsx(c("CometUFIComment.react"),babelHelpers["extends"]({},J,{feedLocation:s,feedbackSource:r,isHighlighted:c("isCommentTokenOrFBID")(t,g),isLocallyComposed:g.client_id!=null&&v!=null&&v.has(g.client_id),isRealtime:g.id!=null&&z!=null&&z.has(g.id),logCommentViewportViewDuration:S,onEdit:U,onTranslated:V,onUntranslated:W,storyRenderLocation:E,topLevelViewOption:F,translationRequested:D,viewOption:G,xstyle:[a===0&&n.commentRow,a>0&&n.commentRowNested,u&&n.firstCommentRow]}));S=null;if(o.depth===0&&!P){if((e==null?void 0:e.threading_config)!=null&&(e==null?void 0:(U=e.threading_config_type)==null?void 0:U.__typename)==="FullThreadingFeedbackConfig"){V={children:J,comment:g,config:e.threading_config,getTotalRepliesCountForComment:K,isReplyComposerVisibleForComment:L,onRepliesListRendered:function(a){return H(g.id,a)},replyComposerVisible:L(g),totalRepliesCount:K(g)};J=i.jsx(d("CometRelay").MatchContainer,{fallback:J,match:e.threading_config,props:V})}var X=e==null?void 0:e.replies_list_renderer;if(X==null)throw c("unrecoverableViolation")("CometUFICommentGroup: Tried to render nested comment list without a valid renderer!","multithreading");W=o.getNestedCommentsListProps;S=i.jsx(c("CometUFICommentList.react"),babelHelpers["extends"]({},W(N),{children:function(a){var b={actor:f,composerPluginProps:p,editingCommentID:q,feedLocation:s,feedbackSource:r,focusCommentID:t,locallyComposedCommentIds:v,onCommitCommentCreate:w,onEditCommentError:x,onTranslateAllClick:y,realtimeCommentIds:z,renderedTranslationCommentID:A,repliesListRenderProps:a,setEditingCommentID:B,setRenderedTranslationCommentID:C,shouldRequestTranslationForAllComments:D,storyRenderLocation:E,topLevelViewOption:G,viewOption:M};return i.jsx("div",{"data-testid":void 0,onMouseEnter:a.onCommentsListMouseEnter,onMouseLeave:a.onCommentsListMouseLeave,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{}),children:i.jsx(d("CometRelay").MatchContainer,{match:X,props:b})})})}}))}return i.jsxs(i.Fragment,{children:[N===q?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{"aria-busy":"true",className:"aero",children:J}),children:i.jsx(m,babelHelpers["extends"]({},p,I(),{comment:g,depth:a,feedbackSource:r,onError:x,onFinishEdit:function(){return B(null)},storyRenderLocation:E}))}):J,N===A&&!D?i.jsx(c("CometUFICommentTranslateAllButton.react"),{onClick:y}):null,S]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentTopReactions.react",["fbt","CometHovercardStagesEventContext","CometLoggedOutCTAStrings","CometPressable.react","CometRelay","CometUFICommentTopReactions_feedback.graphql","CometUFIReactionsDialog.entrypoint","CometUFITooltip.react","JSResourceForInteraction","cr:928","cr:932","cr:933","gkx","isNotOutlierReaction","qpl","react","recoverableViolation","unrecoverableViolation","useCometEntryPointDialog","useCometInteractionTracing","useCometLoggedOutPopupCTA"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=c("gkx")("976093"),n=c("JSResourceForInteraction")("CometUFICommentReactionIconTooltipContent.react").__setRef("CometUFICommentTopReactions.react");function a(a){var e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentTopReactions_feedback.graphql"),a.feedback),f=c("useCometLoggedOutPopupCTA")({title:c("CometLoggedOutCTAStrings").popupTitle}),g=e.id;if(g==null)throw c("unrecoverableViolation")("CometUFICommentTopReactions: Expected feedback id","ufi2");var o=l(c("CometHovercardStagesEventContext"));o=o.stagesSessionID;var p=c("useCometEntryPointDialog")(c("CometUFIReactionsDialog.entrypoint"),{feedbackTargetID:g,stagesSessionID:o},"button"),q=p[0],r=p[1],s=p[2],t=p[3];p=p[4];var u=c("useCometInteractionTracing")(c("qpl")._(30605374,"8121"),"fluid","INTERACTION"),v=k(function(){u(function(){q({})})},[q,u]),w=e.reactors,x=e.top_reactions;w=w==null?void 0:w.count_reduced;x=x==null?void 0:x.edges;if(x==null)return c("recoverableViolation")("CometUFICommentTopReactions: Expected reaction edges","ufi2");if(x.length===0)return null;if(w==null){var y;return c("recoverableViolation")("CometUFICommentTopReactions: Expected a reaction count, targetID: "+((y=e==null?void 0:e.id)!=null?y:"UNKNOWN"),"ufi2")}y=x.filter(c("isNotOutlierReaction")(e)).slice(0,3);x=j.jsxs("div",{className:"hyh9befq r8blr3vg n8tt0mok jwdofwj8 gl3lb2sf r9r71o1u j83agx80 ns4ygwem fykbt5ly hgaippwi fni8adji bp9cbjyn"+(a.hideBackground!==!0?" jkio9rs9 hn33210v":""),children:[j.jsx("div",{className:"b3onmgus rl25f0pe j83agx80 bp9cbjyn",children:y.reverse().map(function(a){var d,e;d=(d=a.node)==null?void 0:(d=d.svg_image)==null?void 0:d.uri;e=(e=a.node)==null?void 0:e.id;a=(a=a.node)==null?void 0:a.reaction_type;if(a==null)return c("recoverableViolation")("CometUFICommentTopReactions: Expected reaction_type on reaction","ufi2");e="UFIReactionIcon:"+a+":"+((e=e)!=null?e:"");var f;if(b("cr:928")!=null&&a==="DYNAMIC"){if(d==null)throw c("unrecoverableViolation")("CometUFITopReactions: image uri is null.","ufi2");f=j.jsx(b("cr:928"),{size:16,uri:d})}else b("cr:933")!=null?f=j.jsx(b("cr:933"),{reactionType:a,role:"presentation",size:16}):b("cr:932")!=null&&d!=null&&(f=j.jsx(b("cr:932"),{size:16,uri:d}));return f!=null?j.jsx("span",{className:"l9j0dhe7 lzcic4wl rl04r1d5 j83agx80 ns4ygwem fykbt5ly hgaippwi fni8adji nl6bj373 hn33210v",children:f},e):null})}),j.jsx("span",{className:"g0qnabr5 hyh9befq qt6c0cv9 n8tt0mok jb3vyjys j5wam9gi knj5qynh e9vueds3 m9osqain",children:w},"count_reduced")]});if(m&&c("gkx")("2820"))return j.jsx("div",{ref:a.rootRef,children:x});e=m?[void 0,void 0,f,void 0]:[s,t,v,p];y=e[0];f=e[1];s=e[2];t=e[3];return j.jsx("div",{ref:a.rootRef,children:j.jsx(c("CometUFITooltip.react"),{tooltipContentComponent:n,tooltipContentProps:{feedbackTargetID:g,stagesSessionID:o},children:j.jsx(c("CometPressable.react"),{"aria-label":h._(/*FBT_CALL*/{"*":"{number} c\u1ea3m x\u00fac; xem ai \u0111\u00e3 b\u00e0y t\u1ecf c\u1ea3m x\u00fac v\u1ec1 b\u00ecnh lu\u1eadn n\u00e0y","_1":"1 c\u1ea3m x\u00fac; xem ai \u0111\u00e3 b\u00e0y t\u1ecf c\u1ea3m x\u00fac v\u1ec1 b\u00ecnh lu\u1eadn n\u00e0y"}/*FBT_CALL*/,[h._plural(parseInt(w,10),"number")]),display:"inline",onHoverIn:y,onHoverOut:f,onPress:s,onPressIn:t,ref:r,children:x})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentsFilterFallbackWarning.react",["fbt","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.Selectors,d=a.depth,e=a.direction,f=a.isPageOrProfilePlus,g=a.listState,j=a.totalCount,k=a.unfilteredTotalCount,l=a.viewOption;a=a.xstyle;var m=b.isPagerLoading({depth:d,direction:e,state:g});if(m)return null;m=b.hasMoreInDirection({depth:d,direction:e,state:g,totalCount:j});if(m)return null;j=b.getVisibleCommentsCount({depth:d,state:g});m=k===j;if(m)return null;if(j===0&&e==="backward")return null;var n;switch(l){case"RANKED_THREADED":n=d>0?h._(/*FBT_CALL*/"\u0110\u00e3 ch\u1ecdn ch\u1ebf \u0111\u1ed9 Ph\u00f9 h\u1ee3p nh\u1ea5t n\u00ean m\u1ed9t s\u1ed1 c\u00e2u tr\u1ea3 l\u1eddi c\u00f3 th\u1ec3 b\u1ecb l\u1ecdc ra."/*FBT_CALL*/):h._(/*FBT_CALL*/"\u0110\u00e3 ch\u1ecdn ch\u1ebf \u0111\u1ed9 Ph\u00f9 h\u1ee3p nh\u1ea5t n\u00ean m\u1ed9t s\u1ed1 b\u00ecnh lu\u1eadn c\u00f3 th\u1ec3 b\u1ecb l\u1ecdc ra."/*FBT_CALL*/);break;case"ADMIN_HIDDEN":n=f===!0?h._(/*FBT_CALL*/"Do b\u1ea1n ch\u1ecdn m\u1ee5c Trang n\u00e0y \u0111\u00e3 \u1ea9n, n\u00ean h\u1ec7 th\u1ed1ng \u0111\u00e3 l\u1ecdc b\u1ecf c\u00e1c b\u00ecnh lu\u1eadn kh\u00e1c, ngo\u1ea1i tr\u1eeb b\u00ecnh lu\u1eadn li\u00ean quan c\u00f3 cung c\u1ea5p ng\u1eef c\u1ea3nh. \u0110\u1ec3 ph\u1ea3n h\u1ed3i b\u00ecnh lu\u1eadn m\u00e0 b\u1ea1n \u0111\u00e3 b\u1ecf \u1ea9n, h\u00e3y thay \u0111\u1ed5i l\u1ef1a ch\u1ecdn b\u1ed9 l\u1ecdc."/*FBT_CALL*/):h._(/*FBT_CALL*/"Do b\u1ea1n ch\u1ecdn m\u1ee5c B\u1ea1n \u0111\u00e3 \u1ea9n, n\u00ean h\u1ec7 th\u1ed1ng \u0111\u00e3 l\u1ecdc b\u1ecf c\u00e1c b\u00ecnh lu\u1eadn kh\u00e1c, ngo\u1ea1i tr\u1eeb b\u00ecnh lu\u1eadn li\u00ean quan c\u00f3 cung c\u1ea5p ng\u1eef c\u1ea3nh. \u0110\u1ec3 ph\u1ea3n h\u1ed3i b\u00ecnh lu\u1eadn m\u00e0 b\u1ea1n \u0111\u00e3 b\u1ecf \u1ea9n, h\u00e3y thay \u0111\u1ed5i l\u1ef1a ch\u1ecdn b\u1ed9 l\u1ecdc."/*FBT_CALL*/);break;default:n=d>0?h._(/*FBT_CALL*/"M\u1ed9t s\u1ed1 c\u00e2u tr\u1ea3 l\u1eddi c\u00f3 th\u1ec3 b\u1ecb l\u1ecdc ra do ch\u1ebf \u0111\u1ed9 s\u1eafp x\u1ebfp \u0111\u00e3 ch\u1ecdn"/*FBT_CALL*/):h._(/*FBT_CALL*/"M\u1ed9t s\u1ed1 b\u00ecnh lu\u1eadn c\u00f3 th\u1ec3 b\u1ecb l\u1ecdc ra do ch\u1ebf \u0111\u1ed9 s\u1eafp x\u1ebfp \u0111\u00e3 ch\u1ecdn"/*FBT_CALL*/)}return i.jsx("div",{className:c("stylex")(a),children:i.jsx(c("TetraText.react"),{type:"meta4",children:n})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentsPagerErrorIcon.react",["fbt","ix","CometImage.react","CometTooltip.react","react","useCometUFICodedErrorDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect;function l(a){return Object.prototype.hasOwnProperty.call(a,"code")&&Object.prototype.hasOwnProperty.call(a,"description")&&Object.prototype.hasOwnProperty.call(a,"summary")}var m="Couldn't load comments. Try again in a few moments.";function a(a){var b=a.error,d=l(b);a=m;var e=c("useCometUFICodedErrorDialog")(),f=e.errorDialog,g=e.setError;k(function(){d&&g(b)},[b,d,g]);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTooltip.react"),{tooltip:h._(/*FBT_CALL*/"{comment pagination error icon tooltip message}"/*FBT_CALL*/,[h._param("comment pagination error icon tooltip message",j.jsx("span",{children:a}))]),children:j.jsx(c("CometImage.react"),{src:i("1334173")})}),f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentsPagerBase.react",["CometPressable.react","CometProgressRingIndeterminate.react","CometTrackingNodeProvider.react","CometUFICommentsPagerErrorIcon.react","TetraIcon.react","TetraText.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={fresh:{backgroundColor:"is6700om",bottom:"i09qtzwb",opacity:"b5wmifdl",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",transitionDuration:"ms05siws",transitionProperty:"art1omkt",transitionTimingFunction:"heur4gxb",width:"dsl5tyj5"},freshDepth0:{start:"dknv9fml"},freshDepth1:{start:"ghkatn0t"},freshDepth2:{start:"rn3csqz5"},freshVisible:{opacity:"pedkr2u6"},icon:{display:"j83agx80",filter:"a5y0qf1c",marginEnd:"fv0vnmcu",marginStart:"ozuftl9m"},item:{display:"j83agx80",marginEnd:"fv0vnmcu",minWidth:"hpfvmrgz"},pagerBasePressable:{alignItems:"bp9cbjyn",color:"m9osqain",flexGrow:"buofh1pr",flexShrink:"g5gj957u",paddingEnd:"p8fzw8mz",":hover":{textDecoration:"gpro0wi8"}},pagerWhileLoading:{cursor:"e3zaq2ox"},root:{display:"j83agx80",flexGrow:"buofh1pr",minHeight:"jklb3kyz",position:"l9j0dhe7"}};function a(a){var b=a.children,d=a.depth,e=a.error,f=a.freshIndicatorVisible,g=a.icon,j=a.isFreshIndicatorAlignedAtStart;j=j===void 0?!0:j;var k=a.isLoading,l=a.onMouseEnter;a=a.onPress;return h.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:24,children:h.jsxs("div",{className:c("stylex")(i.root),children:[h.jsx("div",{className:c("stylex")(i.fresh,d===0&&i.freshDepth0,d===1&&j&&i.freshDepth1,d===2&&j&&i.freshDepth2,f&&i.freshVisible)}),h.jsxs(c("CometPressable.react"),{disabled:k,onHoverIn:l,onPress:a,overlayDisabled:!0,testid:void 0,xstyle:[i.pagerBasePressable,k&&i.pagerWhileLoading],children:[g?h.jsx("span",{className:c("stylex")(i.icon),children:h.jsx(c("TetraIcon.react"),{color:"secondary",icon:g})},"icon"):null,h.jsx("span",{className:c("stylex")(i.item),children:h.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink3",children:b})},"text"),k&&h.jsx("div",{className:c("stylex")(i.item),children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}),e!=null&&c("gkx")("1585174")?h.jsx("div",{className:c("stylex")(i.item),children:h.jsx(c("CometUFICommentsPagerErrorIcon.react"),{error:e})}):null]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getUFI2CommentsPagerLabel",["fbt","intlNumUtils"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.isCommunityQA,c=a.labelType;a=a.numCommentsToShow;switch(c){case"view_one":return h._(/*FBT_CALL*/{"answer":"Xem 1 c\u00e2u tr\u1ea3 l\u1eddi","comment":"Xem 1 b\u00ecnh lu\u1eadn"}/*FBT_CALL*/,[h._enum(b===!0?"answer":"comment",{answer:"answer",comment:"comment"})]);case"view_more":return h._(/*FBT_CALL*/{"answers":"Xem th\u00eam c\u00e2u tr\u1ea3 l\u1eddi","comments":"Xem th\u00eam b\u00ecnh lu\u1eadn"}/*FBT_CALL*/,[h._enum(b===!0?"answers":"comments",{answers:"answers",comments:"comments"})]);case"view_one_more":return h._(/*FBT_CALL*/{"answer":"Xem th\u00eam 1 c\u00e2u tr\u1ea3 l\u1eddi","comment":"Xem th\u00eam 1 b\u00ecnh lu\u1eadn"}/*FBT_CALL*/,[h._enum(b===!0?"answer":"comment",{answer:"answer",comment:"comment"})]);case"view_more_explicit":return h._(/*FBT_CALL*/{"*":{"answer":"Xem th\u00eam {count} c\u00e2u tr\u1ea3 l\u1eddi","answers":"Xem th\u00eam {count} c\u00e2u tr\u1ea3 l\u1eddi","comment":"Xem th\u00eam {count} bi\u0300nh lu\u00e2\u0323n","comments":"Xem th\u00eam {count} b\u00ecnh lu\u1eadn"}}/*FBT_CALL*/,[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(a),[0,a]),h._enum(b===!0?a===1?"answer":"answers":a===1?"comment":"comments",{answer:"answer",answers:"answers",comment:"comment",comments:"comments"})]);case"view_previous":return h._(/*FBT_CALL*/{"answers":"Xem c\u00e2u tr\u1ea3 l\u1eddi tr\u01b0\u1edbc \u0111\u00f3","comments":"Xem c\u00e1c b\u00ecnh lu\u1eadn tr\u01b0\u1edbc"}/*FBT_CALL*/,[h._enum(b===!0?"answers":"comments",{answers:"answers",comments:"comments"})]);case"view_previous_explicit":return h._(/*FBT_CALL*/{"*":{"answer":"Xem {count} c\u00e2u tr\u1ea3 l\u1eddi tr\u01b0\u1edbc \u0111\u00f3","answers":"Xem {count} c\u00e2u tr\u1ea3 l\u1eddi tr\u01b0\u1edbc \u0111\u00f3","comment":"Xem {count} b\u00ecnh lu\u1eadn tr\u01b0\u1edbc","comments":"Xem {count} b\u00ecnh lu\u1eadn tr\u01b0\u1edbc"}}/*FBT_CALL*/,[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(a),[0,a]),h._enum(b===!0?a===1?"answer":"answers":a===1?"comment":"comments",{answer:"answer",answers:"answers",comment:"comment",comments:"comments"})]);default:c;return h._(/*FBT_CALL*/{"answers":"Xem c\u00e2u tr\u1ea3 l\u1eddi","comments":"Xem b\u00ecnh lu\u1eadn"}/*FBT_CALL*/,[h._enum(b===!0?"answers":"comments",{answers:"answers",comments:"comments"})])}}g["default"]=a}),98);
__d("getUFI2RepliesPagerLabel",["fbt","intlNumUtils"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.labelType,c=a.numCommentsToShow;a=a.numCommentsTotal;switch(b){case"view_one":return h._(/*FBT_CALL*/"Xem 1 ph\u1ea3n h\u1ed3i"/*FBT_CALL*/);case"view_more":return h._(/*FBT_CALL*/"Xem ph\u1ea3n h\u1ed3i kh\u00e1c"/*FBT_CALL*/);case"view_one_more":return h._(/*FBT_CALL*/"Xem th\u00eam 1 ph\u1ea3n h\u1ed3i"/*FBT_CALL*/);case"view_more_explicit":return h._(/*FBT_CALL*/{"*":{"*":"Xem th\u00eam {count} ph\u1ea3n h\u1ed3i","_1":"Xem th\u00eam {count} c\u00e2u tr\u1ea3 l\u1eddi"}}/*FBT_CALL*/,[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(c),[0,c]),h._plural(c)]);case"view_previous":return h._(/*FBT_CALL*/"Xem c\u00e1c ph\u1ea3n h\u1ed3i tr\u01b0\u1edbc"/*FBT_CALL*/);case"view_previous_explicit":return h._(/*FBT_CALL*/{"*":{"*":"Xem {count} c\u00e2u tr\u1ea3 l\u1eddi tr\u01b0\u1edbc"}}/*FBT_CALL*/,[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(c),[0,c]),h._plural(c)]);case"view_comments_indeterminate":return h._(/*FBT_CALL*/"Xem ph\u1ea3n h\u1ed3i"/*FBT_CALL*/);case"view_all":default:return h._(/*FBT_CALL*/{"*":"Xem t\u1ea5t c\u1ea3 {count} ph\u1ea3n h\u1ed3i"}/*FBT_CALL*/,[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(a),[0,a])])}}g["default"]=a}),98);
__d("getCometUFIPagerLabel",["ErrorGuard","FBLogger","UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function h(a){var b=a.Selectors,c=a.depth,e=a.direction,f=a.listState,g=a.pagerCount,h=a.pageSize,i=a.summaryTotalNumComments,j=a.totalCount;a=a.viewOption;var k=b.getVisibleCommentsCount({depth:c,state:f});b=b.hasLastPageLeftInDirection({depth:c,direction:e,pageSize:h,state:f,totalCount:j});f=d("UFI2ViewOption").shouldDisplayInReverse(a);j=f&&e==="backward"||!f&&e==="forward";if(k===0){if(g===1&&i===1)return"view_one";if(c>0)return"view_all";else return"view_comments_indeterminate"}else if(b&&g<=h)if(g===1)return"view_one_more";else return"view_more_explicit";if(j)return"view_more";else return"view_previous"}function a(a){var b=a.Selectors,d=a.depth,e=a.direction,f=a.isCommunityQA,g=a.listState,i=a.totalCount,j=b.isPagerVisible({depth:d,direction:e,state:g});if(!j)return null;j=b.getPagerCount({depth:d,direction:e,state:g});if(j==null){c("FBLogger")("ufi2").addMetadata("UFI","RAW_DATA",(b=c("ErrorGuard").applyWithGuard(JSON.stringify,JSON,[g]))!=null?b:"FAILED_TO_SERIALIZE_COMPOSERSTATE").mustfix("CometUFICommentsPager: Expected to have a pager count if pager was rendered");return null}e=h(babelHelpers["extends"]({},a,{pagerCount:j}));g=d>0;return g?c("getUFI2RepliesPagerLabel")({labelType:e,numCommentsToShow:j,numCommentsTotal:i}):c("getUFI2CommentsPagerLabel")({isCommunityQA:f,labelType:e,numCommentsToShow:j})}g["default"]=a}),98);
__d("CometUFICommentsPager.react",["ix","CometUFICommentsPagerBase.react","CometUFIQPLInstanceKeyContext","UFICommonInteractionEvents","UFICommonInteractionLogger","clearTimeout","fbicon","getCometUFIPagerLabel","react","requireDeferred","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFICommentsPager.react");function a(a){var b,e=a.Selectors,f=a.depth,g=a.direction,p=a.isCommunityQA,q=a.listState,r=a.loadMoreComments,s=a.onMouseEnter,t=n(!1),u=t[0],v=t[1];t=e.isPagerLoading({depth:f,direction:g,state:q});var w=e.getPagerError({depth:f,direction:g,state:q}),x=k(c("CometUFIQPLInstanceKeyContext")),y=j(function(){var a=d("UFICommonInteractionLogger").startInteraction(f===0?c("UFICommonInteractionEvents").COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:c("UFICommonInteractionEvents").COMET_UFI_REPLY_COMMENTS_PAGINATION);o.onReady(function(a){var b=a.getPagerEventFromDepth(f);b&&a.addPoint(x,b)});r({onCommentsRendered:function(){d("UFICommonInteractionLogger").endInteraction(a)}})},[f,r,x]);b=(b=e.getPagerCount({depth:f,direction:g,state:q}))!=null?b:0;var z=m(!1),A=m(b),B=b>A.current||e.pagerHasRealtimeComments({direction:g,state:q});l(function(){if(B===!1){v(!1);return}if(!z.current){z.current=!0;v(!0);return}v(!1);var a=c("setTimeout")(function(){v(!0)},200);return function(){return c("clearTimeout")(a)}},[B,b]);A=c("getCometUFIPagerLabel")(babelHelpers["extends"]({},a,{isCommunityQA:p}));return A==null?null:i.jsx(c("CometUFICommentsPagerBase.react"),{depth:f,error:w,freshIndicatorVisible:u,icon:f!==0?d("fbicon")._(h("1602003"),16):void 0,isLoading:t,onMouseEnter:s,onPress:y,children:A})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIComposerInner.react",["cr:11236","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:11236")}),98);
__d("CometUFIComposer.react",["BaseScrollableAreaContext","CometRelay","CometUFIComposerInner.react","CometUFIComposer_actor.graphql","CometUFIComposer_feedback.graphql","react","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useContext;function a(a,e){var f=a.actor,g=a.componentRef,l=a.feedback;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","componentRef","feedback"]);f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIComposer_actor.graphql"),f);l=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIComposer_feedback.graphql"),l);var m=d("CometRelay").useRelayEnvironment(),n=k(c("BaseScrollableAreaContext"));n=n.length===0?void 0:n[n.length-1];return j.jsx(c("CometUFIComposerInner.react"),babelHelpers["extends"]({},a,{actor:f,environment:m,feedback:l,nearestScrollableArea:n,ref:c("useMergeRefs")(e,g)}))}a.displayName=a.name+" [from "+f.id+"]";e=j.forwardRef(a);g["default"]=e}),98);
__d("CometUFIComposerActions.react",["CometErrorBoundary.react","CometTooltipGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometTooltipGroup.react"),{children:h.jsx("ul",{className:"fop5sh7t cgat1ltu tv7at329 j83agx80 c4hnarmi bp9cbjyn",children:h.Children.map(a.children,function(a,b){return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx("li",{className:"ggphbty4 fv0vnmcu q9uorilb",children:a})},b)})})})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("useCometOutlineComposerPlugins",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a,b){return i(function(){var c=[],d=[],e=[],f=[];if(a!=null)for(var g=0;g<a.length;g++){var i=a[g];if(typeof i!=="function"){var j=i.above,k=i.action,l=i.below,m=i.id,n=i.inside;i=i.props;var o=null;k!==null&&(o=k(babelHelpers["extends"]({},i,{pluginProps:b})));if(o!==null){c.push(h.createElement(o,babelHelpers["extends"]({},(k=i)!=null?k:{},{key:m,pluginProps:b})))}if(j!==null){d.push(h.createElement(j,babelHelpers["extends"]({},(o=i)!=null?o:{},{key:m,pluginProps:b})))}if(l!==null){e.push(h.createElement(l,babelHelpers["extends"]({},(k=i)!=null?k:{},{key:m,pluginProps:b})))}if(n!==null){f.push(h.createElement(n,babelHelpers["extends"]({},(j=i)!=null?j:{},{key:m,pluginProps:b})))}}}return{above:d,actions:c,below:e,inside:f}},[a,b])}g["default"]=a}),98);
__d("useOutlineDecorators",["cr:10463"],(function(a,b,c,d,e,f){e.exports=b("cr:10463")}),null);
__d("useOutlinePlainText",["cr:1967621"],(function(a,b,c,d,e,f){e.exports=b("cr:1967621")}),null);
__d("CometUFIComposerInputWithActionsForOutline.react",["CometOutlineContentEditable.react","CometOutlineEventPriority","CometOutlinePlaceholder.react","CometUFIComposerActions.react","CometVisualCompletionAttributes","FBLogger","FocusRegion.react","cr:2012305","cr:287","cr:846","react","stylex","useCometOutlineAddCommitListeners","useCometOutlineComposerPlugins","useCometOutlineErrorListener","useCometOutlineFocusListeners","useCometOutlineKeyBindings","useCometOutlinePlaceholder","useCometUFIOutlineEmptyListeners","useLayoutEffect_SAFE_FOR_SSR","useMergeRefs","useOutlineDecorators","useOutlinePlainText"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=e.useState,l={composerDenial:{backgroundColor:"r898ja9m",borderTop:"pmg7q2s5",borderEnd:"m2wu88kb",borderBottom:"hxpkjkow",borderStart:"czm2i3kx"},disabled:{cursor:"bnpdmtie"},disabledForm:{backgroundColor:"r898ja9m"},editorWrapper:{position:"l9j0dhe7"},emptyInput:{color:"m9osqain",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5",":focus":{color:"r2ndix9n"}},focusPressable:{cursor:"o6r2urh6",position:"l9j0dhe7"},form:{backgroundColor:"b3i9ofy5",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",borderTopWidth:"rt8b4zig",borderEndWidth:"n8ej3o3l",borderBottomWidth:"agehan2d",borderStartWidth:"sk4xxmp2",display:"j83agx80",justifyContent:"bkfpd7mw"},formWithDraftComment:{flexWrap:"lhclo0ds"},input:{cursor:"o6r2urh6",flexBasis:"mg4g778l",flexGrow:"buofh1pr",flexShrink:"g5gj957u",fontSize:"jq4qci2q",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq"}};function m(a,c){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"UFI2RichComposerInput",c,{editor:"OutlineEditor"})}function a(a){var e=a.addAttachmentMapper,f=a.addCommandListener,g=a.ariaDescribedBy,n=a.ariaLabel,o=a.commentAction,p=a.composerState,q=a.depth,r=a.editor,s=a.execCommand,t=a.formElementRef,u=a.handleFormClick,v=a.initialOutlinePlugins,w=a.inputElementRef,x=a.isInitiallyFocused;x=x===void 0?!1:x;var y=a.isLocked,z=a.onBlur,A=a.onCommit,B=a.onFocus,C=a.onInputRefUpdated,D=a.placeholder,E=a.setComposerState;a=i(function(a){var b=w.current;if(b===a)return;w.current=a;r.setRootElement(a);m(a,b)},[r,w]);var F=d("useCometUFIOutlineEmptyListeners").useCometUFIOutlineEmptyListeners(r,p),G=d("useCometOutlineFocusListeners").useCometOutlineFocusListeners(r),H=c("useCometOutlineKeyBindings")(r),I=c("useOutlineDecorators")(r),J=c("useCometOutlineAddCommitListeners")(),K=J[0],L=J[1];J=k(!1);var M=J[0],N=J[1];J=k(null);var O=J[0],P=J[1];J=k(!1);var Q=J[0],R=J[1],S=d("useCometUFIOutlineEmptyListeners").useCometUFIOutlineIsEmpty(F);J=c("useCometOutlinePlaceholder")(r);var T;c("useCometOutlineErrorListener")(r,function(a){var b=a.error,d=a.log;a=babelHelpers.objectWithoutPropertiesLoose(a,["error","log"]);c("FBLogger")("UFIOutlineComposer").catching(b).mustfix("Outline Update Error \u2013 "+d.join(",")+" \u2013 "+JSON.stringify(a));R(!0)});var U=i(function(a){var b;a=a;((b=a)==null?void 0:b.constructor.name)==="SyntheticBaseEvent"&&(c("FBLogger")("UFIOutlineComposer").mustfix("First onCommit param is of type SyntheticBaseEvent. This is probably because you're passing onCommit directly to the React handler. Make sure you're explicitly calling onCommit() when you want to set the first param undefined"),a=void 0);b=K();for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f()==="block-commit")return}A(T,a)},[T,K,A]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){return H(function(a){if(a.keyCode===13&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&!a.altKey){a.preventDefault();a.stopImmediatePropagation();S||U();return"handled"}return"not-handled"},d("CometOutlineEventPriority").CometOutlineEventPriority.EDITOR)},[H,U,S]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(B==null)return;return G(function(a){a&&B()})},[G,B]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(z==null)return;return G(function(a){a||z()})},[G,z]);var V=!1,W=j(function(){return{addAttachmentMapper:e,addCommandListener:f,addCommitListener:L,addEmptyListener:F,addFocusListener:G,addKeyBinding:H,commentAction:o,composerState:p,depth:q,editor:r,execCommand:s,fileIsHoveringOverDropTarget:M,isCommentDenied:V,mediaUploadError:O,onCommit:U,setComposerState:E,setFileIsHoveringOverDropTarget:N,setMediaUploadError:P}},[e,f,L,F,G,H,o,p,q,r,s,M,V,O,U,E]);v=c("useCometOutlineComposerPlugins")(v,W);var X=v.above,Y=v.actions,Z=v.below;v=v.inside;var aa=q?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment",$=p.ariaInputs,ba=$?$["aria-activedescendant"]:void 0;$=$?$["aria-controls"]:void 0;T=c("useOutlinePlainText")(r);return h.jsxs(h.Fragment,{children:[X,Q&&b("cr:287")!=null?h.jsx(b("cr:287"),{editor:r,source:"Editor update"}):null,h.jsxs("form",{className:c("stylex")(V&&l.composerDenial,y&&l.disabled,y&&l.disabledForm,l.focusPressable,l.form,!S&&l.formWithDraftComment),"data-testid":void 0,onClick:u,ref:t,role:"presentation",children:[h.jsxs("div",babelHelpers["extends"]({className:c("stylex")([S&&l.emptyInput,l.input])},c("CometVisualCompletionAttributes").IGNORE,{children:[h.jsxs("div",{className:c("stylex")(l.editorWrapper),children:[h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:null,children:h.jsx(c("CometOutlineContentEditable.react"),{ariaActiveDescendantID:ba,ariaControls:$,ariaDescribedBy:g,ariaLabel:String((X=n)!=null?X:D),contentEditableRef:c("useMergeRefs")(a,C),isInitiallyFocused:x,readOnly:y,spellCheck:!0,webDriverTestID:aa+":rich-input"})}),J&&h.jsx(c("CometOutlinePlaceholder.react"),{children:D})]}),I,v]})),h.jsx(c("CometUFIComposerActions.react"),{children:Y})]}),Z,b("cr:846")&&h.jsx(b("cr:846"),{editor:r,pluginProps:W})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIComposerOnBeforeUnloader.react",["fbt","react","useOnBeforeUnload"],(function(a,b,c,d,e,f,g,h){"use strict";d("react");function a(a){c("useOnBeforeUnload")(function(){if(a.isUnfinished())return{warnMessage:h._(/*FBT_CALL*/"B\u1ea1n ch\u01b0a ho\u00e0n t\u1ea5t b\u00ecnh lu\u1eadn. B\u1ea1n c\u00f3 mu\u1ed1n r\u1eddi m\u00e0 kh\u00f4ng ho\u00e0n t\u1ea5t kh\u00f4ng?"/*FBT_CALL*/)}});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("textProbablyWritingMarkdown",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;function a(a){a=a.slice(0,h);var b=a.match(/^[*+-] /gm);if(b&&b.length>1)return!0;b=a.match(/^[\t ]*[>+-]/gm);if(b!=null)return!0;b=a.match(/`/);if(b)return!0;b=a.match(/\$([^ \t\n\$]([^\$]*[^ \t\n\$])?)\$/);if(b)return!0;b=a.match(/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/);if(b)return!0;b=a.match(/(^\s{0,3}#{2,6}[^#])|(^\s*[-=]{5,}\s*$)/m);if(b)return!0;b=a.match(/\]\(|\]\[/);if(b)return!0;b=a.includes("#markdown");if(b)return!0;if(!c("CurrentUser").isEmployee())return!1;b=a.match(/\b[sS]\d{5,6}\b/);if(b)return!0;b=a.match(/\b[tT]\d{7,8}\b/);if(b)return!0;b=a.match(/\b[dD]\d{6,8}\b/);if(b)return!0;b=a.match(/\b[qQ]\d{1,8}\b/);if(b)return!0;b=a.match(/\b[pP]\d{7,9}\b/);if(b)return!0;b=a.match(/\b(cms|CMS)\d\b/);if(b)return!0;b=a.match(/\b[aA]\d{4,}\b/);if(b)return!0;b=a.match(/\b[aA][eE]\d{4,}\b/);if(b)return!0;b=a.match(/\b[zZ][0-9]{4,}\b/);if(b)return!0;b=a.match(/\b(NT|nt)\d{4,}\b/);if(b)return!0;b=a.match(/\b(BK|nt)\d{3,}\b/);if(b)return!0;b=a.match(/\b(re|RE)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(ram|RAM)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(s2p|S2P)\s?\d{4,16}\b/);if(b)return!0;b=a.match(/\b([Gg][Bb])\s?\d{4,5}\b/);if(b)return!0;b=a.match(/\b(pr|PR)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(po|PO)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(inv|INV)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(inb|INB)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(out|OUT)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(nda|NDA)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(set|SET)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(contract|CONTRACT)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(ie|IE)\d{3,15}\b/);if(b)return!0;b=a.match(/\b[lL][0-9]{5,}(?:[a-zA-Z]{1,5}\d{0,})?\b/);if(b)return!0;b=a.match(/\b(C|C#|CASE)\d{3,}\b/);if(b)return!0;b=a.match(/\b[Nn](\d{4,10})\b/);if(b)return!0;b=a.match(/\b(nwt|NWT)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(oa|OA)\d{1,16}\b/);if(b)return!0;b=a.match(/\b(rid|RID)\d{4,16}\b/);if(b)return!0;b=a.match(/\b(PD|pd|M|m)\d{6,11}\b/);if(b)return!0;b=a.match(/\b(CM|cm)\d{5,}\b/);if(b)return!0;b=a.match(/\b(ME|Me|mE|me)[0-9]{3,11}\b/);if(b)return!0;b=a.match(/\b(K|k)[0-9]{3,}\b/);if(b)return!0;b=a.match(/\b(G|g)(\d{1,})\b/);if(b)return!0;b=a.match(/\b(20\d{2}[01]\d[0-3]\d_[0-2]\d[0-5]\d[0-5]\d_[0-9]{5}_[a-kmnp-z2-9]{5})\b/);if(b)return!0;if(a.match(/\bfbt\s+[0-9A-Fa-f]{32}\b/))return!0;if(a.match(/\b(FD|fd)\d{6,11}\b/))return!0;if(a.match(/\b(CC|cc)\d{4,}\b/))return!0;if(a.match(/\b(EXTRR|extrr|EXTREVIEW|extreview)[0-9]{4,11}\b/))return!0;if(a.match(/\basync( jobtype)? ?#?(\d+)\b/i))return!0;if(a.match(/\b(BR|br)\d{4,}\b/))return!0;if(a.match(/\b((asset:\/\/)\S+)\b/))return!0;if(a.match(/\b(PROG|prog)([PWA]|[pwa])(\d+)\b/))return!0;return a.match(/\b(rfx|rfi|rfp|rfq|rpu)\d{4,}\b/i)?!0:!1}g["default"]=a}),98);
__d("cometUFICommentFormattingStyleForText",["gkx","textProbablyWritingMarkdown"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("gkx")("2051215")&&c("textProbablyWritingMarkdown")(a)?"MARKDOWN":(a=b)!=null?a:null}g["default"]=a}),98);
__d("getCommentDataFromCometUFIComposerStateForOutline",["CometOutlineEmojiNode","CometOutlineEntityTextNode","Outline","UnicodeUtils","cometUFICommentFormattingStyleForText"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=e.attachment,h;g==null?h=null:g.__type==="ExistingAttachment"?h=[]:h=Array.from(f).map(function(a){return a(g)}).filter(Boolean);var i={},j=[],k="";b.getEditorState().read(function(a){a=a.getRoot().getFirstChild();a instanceof d("Outline").BlockNode&&a.getChildren().forEach(function(a){if(a instanceof c("CometOutlineEntityTextNode")){var e=a.getUFIComposerEntity(b);i[e.id]=e;j.push({entity:{id:e.id},length:d("UnicodeUtils").strlen(a.getTextContent()),offset:d("UnicodeUtils").strlen(k)})}else if(a instanceof d("CometOutlineEmojiNode").EmojiNode){k+=a.getRawText();return}k+=a.getTextContent()})});return k.trim()===""&&e.attachment==null?null:{commentData:{attachments:h,feedback_id:a,file_marker:e.fileMarker,formatting_style:c("cometUFICommentFormattingStyleForText")(k,e.formattingStyle),insights_point_json:e.insightsPoint,is_inline_vote_enabled_for_qna:e.shouldDisableReactionsOnOptimisticComment,message:{ranges:j,text:k},reply_comment_parent_fbid:(f=e.commentAssociatedWithReply)==null?void 0:f.id,reply_target_clicked:e.replyTargetClicked},entitiesByID:i,usedWritingHelpToCompose:e.usedWritingHelpToCompose===!0}}g["default"]=a}),98);
__d("CometUFIComposerInnerForOutline.experimental.react",["CometErrorBoundary.react","CometTrackingNodeProvider.react","CometUFICommentRow.react","CometUFIComposerInputWithActionsForOutline.react","CometUFIComposerOnBeforeUnloader.react","CometUFIOutlineEditor","CometUFIQPLInstanceKeyContext","FBLogger","ReactDOMComet","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","collectDataAttributes","cometUFIOutlineIsEmpty","cr:287","getCommentDataFromCometUFIComposerStateForOutline","orEmptyArray","performanceNow","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useImperativeHandle,m=e.useRef,n=e.useState,o=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFIComposerInnerForOutline.experimental.react");function p(){var a=500,b=m(-Infinity);return i(function(){var d=c("performanceNow")(),e=d-b.current;e<a&&c("FBLogger")("UFIOutlineComposer").warn("Possible duplicate commit detected in the outline composer. Delta: %s",e);b.current=d},[b])}function a(a,e){var f,g=i(function(){a.commentAction==="EDIT"&&a.commentID==null&&c("FBLogger")("UFIOutlineComposer").mustfix("A `CometUFIComposer` was mounted without a comment ID on EDIT");return a.commentID},[a.commentAction,a.commentID]),q=i(function(){if(a.feedback.id==null)throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("A `CometUFIComposer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID.","ufi2");return a.feedback.id},[a.feedback.id]);f=n((f=a.initialComposerState)!=null?f:{attachment:null,commentAssociatedWithReply:null,commentID:g(),editor:d("CometUFIOutlineEditor").createCometUFIComposerOutlineCreateEditor(),feedbackID:q(),inputDecorators:[],inputState:{__type:"outline-editor-state-based"},isLocked:!1});var r=f[0],s=f[1],t=m(null),u=m(null),v=m(new Set()),w=m(new Set()),x=m(!1),y=p();k(function(){var b=c("orEmptyArray")(a.initialPlugins);if(x.current)return;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f=f.toString().substring(0,250);c("FBLogger")("UFIOutlineComposer").mustfix("Outline received a Draft.js plugin: %s",f);x.current=!0}},[a.initialPlugins]);k(function(){var b=a.depth,c=a.feedbackSource;c===1&&(b===0?d("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","comet"):d("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","comet"))},[a.depth,a.feedbackSource]);var z=i(function(a,b){var d=t.current;return d!==null?c("collectDataAttributes")(d,a,b):null},[]),A=i(function(){if(a.initialComposerState){if(a.initialComposerState!==r)return!0}else{var b=r.editor;if(b===null)throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Expected editor not to be null");if(!c("cometUFIOutlineIsEmpty")(b,r))return!0}return!1},[r,a.initialComposerState]),B=i(function(a){var b=Array.from(w.current);for(var d=0;d<b.length;d++){var e=b[d];e=e(a);if(e==="handled")return}c("FBLogger")("UFIOutlineComposer").warn("UFI Outline Composer command type "+a.__type+" not handled.")},[]);g=i(function(a){var b=w.current;b.add(a);return function(){b["delete"](a)}},[]);var C=j(c("CometUFIQPLInstanceKeyContext")),D=i(function(b){var e=a.commentAction,f=e==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT;d("UFICommonInteractionLogger").startInteraction(f,b+f);f=e==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT;d("UFICommonInteractionLogger").startInteraction(f,b+f);e==="ADD"?o.onReady(function(a){return a.addPoint(C,a.CometUFIFunnelLoggerEvents.COMMENT_CREATE)}):e==="EDIT"&&o.onReady(function(a){return a.addPoint(C,a.CometUFIFunnelLoggerEvents.COMMENT_EDIT)})},[a.commentAction,C]),E=r.editor,F=r.isLocked,G=i(function(){var a=t.current;if(!a||F||E===null)return;a=E.getEditorState().read(function(a){return a.getRoot().getChildrenSize()!==0});if(a)E.focus();else var b=E.addListener("update",function(){b(),E.focus()})},[E,F]),H=i(function(){return t.current},[]),I=i(function(a){a.preventDefault(),document.activeElement!==t.current&&G()},[G]);f=i(function(a){a.target===u.current&&I(a)},[I]);var J=i(function(b,d,e,f){d===void 0&&(d={});var g=a.onCommit,h=a.actor,i=a.environment,j=a.feedLocation,k=a.topLevelFeedbackID,l=a.useDefaultActor;h=h.id;if(h==null)throw new(c("FBLogger"))("ufi2").mustfix("We can't commit a comment without knowing the ID of the current actor. Check why the GraphQL query for `viewer_current_actor.id` failed.");g({actorID:h,clientID:e,commentData:b,entitiesByID:d,environment:i,feedLocation:j,feedbackSource:a.feedbackSource,focusCommentID:a.focusCommentID,getTrackingDataFn:z,topLevelFeedbackID:k,useDefaultActor:l,usedWritingHelpToCompose:f,viewOption:a.viewOption});y()},[z,y,a.actor,a.environment,a.feedLocation,a.feedbackSource,a.focusCommentID,a.onCommit,a.topLevelFeedbackID,a.useDefaultActor,a.viewOption]),K=i(function(b){var e="client:"+d("UFICommonInteractionLogger").makeTrackingID();D(e);var f=b.editor;if(f===null)throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Expected editor not to be null");f=c("getCommentDataFromCometUFIComposerStateForOutline")(q(),f,b,v.current);if(f==null){a.commentAction==="EDIT"?J(null,{},e,b.usedWritingHelpToCompose):c("FBLogger")("UFIOutlineComposer").warn("Attempted to commit empty composer data on comment create");return}J(f.commentData,f.entitiesByID,e,b.usedWritingHelpToCompose)},[q,D,J,a.commentAction]),L=i(function(a){a(function(){var a;d("ReactDOMComet").flushSync(function(){s(function(a){return babelHelpers["extends"]({},a,{attachment:null,formattingStyle:void 0,isLocked:!1,replyTargetClicked:!1,usedWritingHelpToCompose:!1})})});(a=r.editor)==null?void 0:a.focus()})},[r.editor]),M=i(function(a,b){var e=!1,f=null;d("ReactDOMComet").flushSync(function(){s(function(a){if(a.isLocked)return a;e=!0;var c=b!=null?b(a):null;f=babelHelpers["extends"]({},a,c,{isLocked:!0});return f})});if(!e)return;if(f==null)throw c("FBLogger")("UFIOutlineComposer").mustfix("Expected lockedComposerState not to be null");K(f);L(a)},[K,L]),N=i(function(a){var b=v.current;b.add(a);return function(){b["delete"](a)}},[]),O=i(function(a){s(function(b){if(b.isLocked)return b;var c=a(b);return babelHelpers["extends"]({},b,c)})},[]);l(e,function(){return{execCommand:B,focus:G,getElementToScrollTo:H,isUnfinished:A}},[B,G,H,A]);if(E===null)throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Expected editor not to be null");return h.jsx(c("CometErrorBoundary.react"),{context:{project:"ufi2"},fallback:function(){return b("cr:287")!=null?h.jsx(b("cr:287"),{editor:E,source:"Error boundary"}):null},children:h.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:34,children:[h.jsx(c("CometUFIComposerOnBeforeUnloader.react"),{isUnfinished:A}),h.jsx(c("CometUFICommentRow.react"),{actor:a.actor,"data-testid":void 0,depth:a.depth,forceLargeAvatar:a.forceLargeAvatar,isComposer:!0,onAvatarClick:I,xstyle:a.xstyle,children:h.jsx(c("CometUFIComposerInputWithActionsForOutline.react"),{addAttachmentMapper:N,addCommandListener:g,ariaDescribedBy:a.ariaDescribedBy,ariaLabel:a.ariaLabel,commentAction:a.commentAction,composerState:r,depth:a.depth,editor:E,execCommand:B,formElementRef:u,handleFormClick:f,initialOutlinePlugins:a.initialOutlinePlugins,initialPlugins:[],inputElementRef:t,isInitiallyFocused:a.isInitiallyFocused,isLocked:F,onBlur:a.onBlur,onCommit:M,onFocus:a.onFocus,onInputRefUpdated:a.onInputRefUpdated,placeholder:a.placeholder,setComposerState:O})})]})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("CometUFIComposerInnerForOutline.react",["cr:11238","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:11238")}),98);
__d("useCometUFIComposerPlugins",["CometRelay","ErrorGuard","useCometUFIComposerPlugins_feedback.graphql","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometUFIComposerPlugins_feedback.graphql"),a);var e=a==null?void 0:a.plugins,f=d("CometRelay").useRelayEnvironment();return c("useStable")(function(){if(e==null)return{draftjsPlugins:[],outlinePlugins:[]};var a=[];for(var b=0;b<e.length;b++){var g=e[b],h=d("CometRelay").ModuleResource.read(g);h&&a.push([g,h])}g=a.flatMap(function(b){var a=b[0];b=b[1];return c("ErrorGuard").applyWithGuard(b,null,[{environment:f,fragmentKey:a}],{name:"Failed to initialize plugin "+((b=d("CometRelay").ModuleResource.getModuleId(a))!=null?b:"UNKNOWN"),project:"ufi2"})}).filter(Boolean);var i=[],j=[];g.forEach(function(a){typeof a==="function"?i.push(a):j.push(a)});return{draftjsPlugins:i,outlinePlugins:j}})}g["default"]=a}),98);
__d("useCometUFIDisabledNotice",["CometUFICommentDisabledNotice.react","RelayHooks","gkx","react","useCometUFIDisabledNotice_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a,e){a=d("RelayHooks").useFragment(h!==void 0?h:h=b("useCometUFIDisabledNotice_feedback.graphql"),a);var f=a.are_live_video_comments_disabled,g=a.have_comments_been_disabled,j=a.is_viewer_muted,k=c("gkx")("976093");g=g===!0||j===!0||f===!0;j=k?null:i.jsx(c("CometUFICommentDisabledNotice.react"),{feedback:a,viewOption:e});return{areCommentsDisabled:g,commentsDisabledComponent:j}}g["default"]=a}),98);
__d("CometUFIComposerWrapper.react",["CometRelay","CometUFIComposerWrapperUseComposerPluginProps_feedback.graphql","CometUFIComposerWrapper_feedback.graphql","react","useCometUFIComposerPlugins","useCometUFIDisabledNotice"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useMemo;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIComposerWrapperUseComposerPluginProps_feedback.graphql"),e);e=c("useCometUFIComposerPlugins")(a);var f=e.draftjsPlugins,g=e.outlinePlugins;return k(function(){return{initialOutlinePlugins:g,initialPlugins:f}},[f,g])}function e(a){var e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIComposerWrapper_feedback.graphql"),a.feedback),f=a.commentsListRenderProps,g=a.composerPluginProps,h=a.isInitiallyFocused;h=h===void 0?!1:h;var k=a.onCommitCommentCreate;a=a.xstyle;var l=e.composer_renderer,m=e.constituent_badge_banner_renderer,n=f.Selectors,o=f.depth,p=f.getComposerProps,q=f.listState;f=f.viewOption;n=n.isComposerVisible({depth:o,state:q});q={commentAction:"ADD",composerPluginProps:g,depth:o,getComposerProps:p,isInitiallyFocused:h,onCommit:k,viewOption:f,xstyle:a};g=c("useCometUFIDisabledNotice")(e,f);o=g.areCommentsDisabled;p=g.commentsDisabledComponent;return o?p:n&&l!=null?j.jsxs(j.Fragment,{children:[j.jsx(d("CometRelay").MatchContainer,{match:m}),j.jsx(d("CometRelay").MatchContainer,{match:l,props:q})]}):null}e.displayName=e.name+" [from "+f.id+"]";g.useComposerPluginProps=a;g.CometUFIComposerWrapper=e}),98);
__d("CometUFIHiddenCommentsPlaceholder.react",["fbt","ix","CometPressable.react","CometTooltip.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.commentIDs,e=a.expandHiddenComments;return j.jsx(c("CometTooltip.react"),{tooltip:h._(/*FBT_CALL*/{"*":"{count} \u0111\u01b0\u1ee3c \u1ea9n \u0111i"}/*FBT_CALL*/,[h._param("count",b.length),h._plural(b.length)]),children:j.jsx(c("CometPressable.react"),{"aria-label":h._(/*FBT_CALL*/"Hi\u1ec3n th\u1ecb c\u00e1c b\u00ecnh lu\u1eadn b\u1ecb \u0111\u00e1nh d\u1ea5u l\u00e0 spam"/*FBT_CALL*/),display:"inline",onPress:k(function(){return e(b)},[b,e]),role:"button",children:j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(i("484388"),24)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIReactionLink.react",["fbt","ix","CometPressable.react","CometRelay","CometTintedIcon.react","CometTrackingNodeProvider.react","CometUFIReactionLink_feedback.graphql","CometUFIReactionsMenu.react","FocusWithinHandler.react","ODS","UFI2ReactionUtils","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIReactionTypes","clearTimeout","collectDataAttributes","cometDynamicReactionsUtil","cometGetKeyCommandConfig","fbicon","react","recoverableViolation","requireDeferred","setTimeout","stylex","useKeyCommands","useTrackingCodeFnForComet","useTriggeredStoryCTAHandler"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=c("requireDeferred")("CometUFIFeedbackReactMutation").__setRef("CometUFIReactionLink.react"),q={accessible_elem:{clip:"q45zohi1",clipPath:"g0aa4cga",position:"pmk7jnqg"},circularButton:{borderTopColor:"est2fu8x",borderEndColor:"i2z0utgf",borderBottomColor:"nalm63nx",borderStartColor:"rbyq7rg5",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},hasNotReactedFilter:{filter:"bdca9zbp"},hasReacted:{fontWeight:"n3ffmt46"},iconWrapper:{display:"q9uorilb",verticalAlign:"sf5mxxl7"},inlineReactButton:{marginStart:"kkf49tns"},menu:{marginBottom:"qzhwtbm6",marginStart:"je412x5n"},overlayReactButton:{end:"n7fi1qx3",paddingTop:"b4ylihy8",paddingEnd:"rz4wbd8a",paddingBottom:"b40mr0ww",paddingStart:"a8nywdso",position:"pmk7jnqg",top:"maw0qe7g"},reactButtonSpacing:{paddingEnd:"gvs12r03",paddingStart:"up7ckamt"},reactWithA11yButton:{alignItems:"bp9cbjyn",display:"j83agx80"},root:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",justifyContent:"taijpn5t",touchAction:"gokke00a"},wrapper:{position:"l9j0dhe7"},wrapperInlineBlock:{display:"q9uorilb"}};function r(a){return a===c("UFICommonInteractionEvents").COMET_UFI_STORY_REACTION}function s(a){a=a.onClickKeyboard;c("useKeyCommands")([d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","likeStory",a)],!0);return null}var t=500;function a(a){var e,f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIReactionLink_feedback.graphql"),a.feedback),g=d("CometRelay").useRelayEnvironment(),u=n(null),v=n(null),w=n(null),x=n(null),y=n(null),z=n(null),A=n(null),B=n(null),C=o({hasPreviouslyShownMenu:!1,isLongPressing:!1,isTouchDown:!1,showMenu:!1}),D=C[0],E=C[1];C=c("useTriggeredStoryCTAHandler")();var F=C[0],G=l(function(a,b){var d=z.current;return d?c("collectDataAttributes")(d,a,b):null},[]),H=c("useTrackingCodeFnForComet")(),I=function(e){var h,b=e.reactionID;e=e.reactionKey;var i=f.id;h=(h=f.viewer_actor)==null?void 0:h.id;var j=a.feedbackSource;u.current&&u.current.dispose();v.current&&v.current.remove();if(i==null||h==null){c("recoverableViolation")("Error feedbackID or actorID is undefined so a user cannot react","ufi2");return}var k=babelHelpers["extends"]({feedback_id:i,feedback_reaction:e,feedback_reaction_id:b,feedback_source:j},H(G));v.current=p.onReadyImmediately(function(b){u.current=b.commit({environment:g,input:k,onError:a.onReactionError||function(){},useDefaultActor:!1})});U.current&&(z.current!=null&&z.current.focus(),U.current=!1);E(function(a){return babelHelpers["extends"]({},a,{showMenu:!1})});e===c("UFIReactionTypes").LIKE&&F("LIKE");e===2&&F("LOVE");e!==c("UFIReactionTypes").NONE&&F("REACT");d("ODS").bumpFraction(2507,"ufi_reaction_mutation","deferred_mutation_code_not_yet_loaded",p.getModuleIfRequireable()?0:1,1)};function J(b){if(a.interactionEvent==null)return;var c=d("UFICommonInteractionLogger").startInteraction(a.interactionEvent);x.current={newReactionKey:b,trackingID:c}}function K(a){var b=a.reactionID;a=a.reactionKey;if(a===V&&(a!==d("cometDynamicReactionsUtil").DYNAMIC_IDENTIFIER||W===b)){E(function(a){return babelHelpers["extends"]({},a,{showMenu:!1})});return}J(a);I({reactionID:b,reactionKey:a})}var L=function(){var a;a=(a=f.viewer_feedback_reaction_info)==null?void 0:a.key;a=d("UFI2ReactionUtils").checkReactionKey(a);a=a?c("UFIReactionTypes").NONE:c("UFIReactionTypes").LIKE;J(a);I({reactionKey:a})},M=l(function(a){D.isTouchDown&&a.preventDefault()},[D]);C=l(function(){c("clearTimeout")(w.current)},[]);var N=function(){c("clearTimeout")(w.current),y.current=c("setTimeout")(function(){E(function(a){return babelHelpers["extends"]({},a,{hasPreviouslyShownMenu:!0,isLongPressing:!0,showMenu:!0})})},t),E(function(a){return babelHelpers["extends"]({},a,{isLongPressing:!1})})},O=l(function(){c("clearTimeout")(y.current)},[]),P=l(function(){E(function(a){return babelHelpers["extends"]({},a,{hasPreviouslyShownMenu:!0,showMenu:!0})})},[]),Q=l(function(){U.current&&(A.current!=null&&A.current.focus(),U.current=!1),E(function(a){return babelHelpers["extends"]({},a,{showMenu:!1})})},[]),R=l(function(){U.current=!0,P()},[P]),S=l(function(){c("clearTimeout")(w.current),D.showMenu||(w.current=c("setTimeout")(P,a.showDelay))},[D.showMenu,P,a.showDelay]),T=l(function(){if(U.current)return;c("clearTimeout")(w.current);D.showMenu&&(w.current=c("setTimeout")(Q,a.hideDelay))},[Q,a.hideDelay,D.showMenu]);m(function(){return function(){c("clearTimeout")(w.current)}},[]);m(function(){var a=x.current;if(a){var b;b=f==null?void 0:(b=f.viewer_feedback_reaction_info)==null?void 0:b.key;b=d("UFI2ReactionUtils").checkReactionKey(b);b===a.newReactionKey&&(d("UFICommonInteractionLogger").endInteraction(a.trackingID),x.current=null)}});var U=n(!1);e=(e=f.viewer_feedback_reaction_info)==null?void 0:e.key;var V=d("UFI2ReactionUtils").checkReactionKey(e),W=(e=f.viewer_feedback_reaction_info)==null?void 0:e.id,X,Y;a.textColorOverride!=null&&(Y=a.textColorOverride);if(!V)W=null,X=c("UFIReactionTypes").reactions[c("UFIReactionTypes").LIKE].display_name;else{e=c("UFIReactionTypes").reactions[V];var Z=e.color;e=e.display_name;X=e;Y=Z}e=h._(/*FBT_CALL*/"Thay \u0111\u1ed5i c\u1ea3m x\u00fac {selected reaction}"/*FBT_CALL*/,[h._param("selected reaction",X)]);var $=V?h._(/*FBT_CALL*/"G\u1ee1 {selected reaction}"/*FBT_CALL*/,[h._param("selected reaction",X)]):X,aa=V?e:h._(/*FBT_CALL*/"B\u00e0y t\u1ecf c\u1ea3m x\u00fac"/*FBT_CALL*/),ba=a.displayInlineBlock===!0?d("fbicon")._(i("481880"),12):d("fbicon")._(i("481882"),16);return k.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:V===c("UFIReactionTypes").NONE?5:6,children:[r(a.interactionEvent)&&k.jsx(s,{onClickKeyboard:R}),k.jsx("div",{className:c("stylex")(q.wrapper,a.displayInlineBlock===!0?q.wrapperInlineBlock:void 0),ref:B,children:k.jsx(c("FocusWithinHandler.react"),{children:function(b,d){b=b&&d;d=b||U.current;return k.jsxs("span",{className:a.displayInlineBlock===!0&&d?c("stylex")(q.reactWithA11yButton):null,children:[k.jsx(c("CometPressable.react"),{focusable:!0,label:$,onContextMenu:M,onHoverIn:S,onHoverOut:T,onPress:L,onPressIn:N,onPressOut:O,overlayDisabled:!0,ref:z,testid:void 0,xstyle:[q.root,!!V&&q.hasReacted,d&&a.displayInlineBlock!==!0&&q.reactButtonSpacing,a.buttonVariant==="CIRCULAR"&&q.circularButton],children:k.jsxs("div",{className:a.className,"data-testid":void 0,style:{color:Y},children:[k.jsx("span",{className:c("stylex")(q.iconWrapper,!V&&((b=a.filterXStyle)!=null?b:q.hasNotReactedFilter)),children:a.children}),a.hideLabel!==!0&&X]})}),k.jsx(c("CometPressable.react"),{focusable:!0,label:aa,onPress:R,ref:A,xstyle:[a.displayInlineBlock===!0?q.inlineReactButton:q.overlayReactButton,!d&&q.accessible_elem],children:k.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:ba})})]})}})}),k.jsx(c("CometUFIReactionsMenu.react"),{contextRef:B,feedback:f,initialReaction:{reactionID:W,reactionKey:V},onClose:Q,onHoverIn:C,onHoverOut:T,onReactionSelect:K,scrubbingMode:D.isLongPressing,shouldFocusOnShow:function(){return U.current},visible:D.showMenu,xstyle:q.menu})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIRepliesCollapser.react",["fbt","ix","CometUFICommentsPagerBase.react","NumberFormat","fbicon","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.Selectors,e=a.collapseList,f=a.depth;a=a.listState;if(f!==1){c("recoverableViolation")("CometUFIRepliesExpander: Can only render replies expander at depth 1","ufi2");return null}if(!b.isRepliesCollapserVisible({depth:f,state:a}))return null;b=b.getVisibleCommentsCount({depth:f,state:a});a=h._(/*FBT_CALL*/{"*":{"*":"\u1ea8n {count} ph\u1ea3n h\u1ed3i","_1":"\u1ea8n {count} c\u00e2u tr\u1ea3 l\u1eddi"}}/*FBT_CALL*/,[h._param("count",d("NumberFormat").formatInteger(b),[0,b]),h._plural(b)]);return j.jsx(c("CometUFICommentsPagerBase.react"),{depth:f,freshIndicatorVisible:!1,icon:d("fbicon")._(i("505579"),16),isFreshIndicatorAlignedAtStart:!1,isLoading:!1,onPress:e,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIRepliesExpander.react",["fbt","ix","CometMiddot.react","CometRelativeTimestamp.react","CometRow.react","CometRowItem.react","CometUFICommentsPagerBase.react","CometUFIRepliesExpander_highlightedComments.graphql","DateConsts","GraphQLGender","NumberFormat","RelayHooks","TetraProfilePhoto.react","TetraText.react","UFI2SilhouetteConfig","clearTimeout","fbicon","qex","react","recoverableViolation","setTimeout","useServerTime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useEffect,m=e.useMemo,n=e.useRef,o=e.useState,p={ellipsisText:{display:"q9uorilb",overflowX:"ni8dbmo4",overflowY:"stjgntxs",textOverflow:"ltmttdrg"},item:{whiteSpace:"g0qnabr5"}};function q(a){var b=a.timestamp;a=m(function(){return new Date(b*d("DateConsts").MS_PER_SEC)},[b]);return k.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta3",children:k.jsx(c("CometRelativeTimestamp.react"),{date:a,format:"minimized"})})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=d("RelayHooks").useFragment(j!==void 0?j:j=b("CometUFIRepliesExpander_highlightedComments.graphql"),a.highlightedComments),f=c("useServerTime")(),g=a.Selectors,m=a.depth,r=a.expandList,s=a.listState,t=a.onMouseEnter;a=a.viewOption;var u=g.getRepliesExpanderCount({depth:m,state:s}),v=o(!1),w=v[0],x=v[1],y=n(!1);v=n(u!=null?u:0);var z=u!=null&&u>v.current&&c("qex")._("209")===!0;l(function(){if(z===!1){x(!1);return}if(!y.current){y.current=!0;x(!0);return}x(!1);var a=c("setTimeout")(function(){x(!0)},200);return function(){return c("clearTimeout")(a)}},[u,z]);if(m!==1){c("recoverableViolation")("CometUFIRepliesExpander: Can only render replies expander at depth 1","ufi2");return null}if(!g.isRepliesExpanderVisible({depth:m,state:s}))return null;if(u==null){c("recoverableViolation")("CometUFIRepliesExpander: Tried rendering a visible replies expander without a count","ufi2");return null}v=g.isRepliesExpanderLoading({depth:m,state:s});e=e||[];e=e[0];g=g.getRepliesExpanderError({depth:m,state:s});s=h._(/*FBT_CALL*/{"*":{"*":"{count} ph\u1ea3n h\u1ed3i"}}/*FBT_CALL*/,[h._param("count",d("NumberFormat").formatInteger(u),[0,u]),h._plural(u)]);u=s;if(e&&e.author){var A,B=e.author,C=B.name;e=e.created_time;A=(A=B.profilePictureForReplyExpander)==null?void 0:A.uri;var D=new(c("GraphQLGender"))(B.gender);if(C!=null&&A!=null&&e!=null){f=f.getTime();f=f/1e3-e<43200||a==="RECENT_ACTIVITY";u=k.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[k.jsx(c("CometRowItem.react"),{children:k.jsx(c("TetraProfilePhoto.react"),{addOn:B.availability==="ACTIVE"?{type:"availabilityBadge"}:void 0,size:24,source:{uri:(a=A)!=null?a:c("UFI2SilhouetteConfig").neutralSilhouette24}})}),k.jsx(c("CometRowItem.react"),{expanding:!0,xstyle:[p.item,p.ellipsisText],children:h._(/*FBT_CALL*/{"*":"{actor} \u0111\u00e3 tr\u1ea3 l\u1eddi"}/*FBT_CALL*/,[h._name("actor",C,D.toIntlVariationsEnum())])}),k.jsx(c("CometRowItem.react"),{children:k.jsx(c("CometMiddot.react"),{})}),k.jsx(c("CometRowItem.react"),{xstyle:p.item,children:s}),f?k.jsx(c("CometRowItem.react"),{xstyle:p.item,children:k.jsx(q,{timestamp:e})}):null]})}}return k.jsx(c("CometUFICommentsPagerBase.react"),{depth:m,error:g,freshIndicatorVisible:w,icon:d("fbicon")._(i("1602003"),16),isLoading:v,onMouseEnter:t,onPress:function(){return r({focusComposer:!0})},children:u})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIReactionLinkWithError.react",["CometUFIReactionLink.react","react","useCometUFICodedErrorDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useCometUFICodedErrorDialog")(),d=b.errorDialog;b=b.setError;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometUFIReactionLink.react"),babelHelpers["extends"]({},a,{onReactionError:b})),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("createCometUFIAssociateReplyWithParentComposerPluginForOutline",["useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.pluginProps;var b=a.addCommandListener,d=a.setComposerState;c("useLayoutEffect_SAFE_FOR_SSR")(function(){b(function(a){if(a.__type==="SetReplyAssociation"){var b=a.commentAssociatedWithReply;d(function(){return{commentAssociatedWithReply:b}});return"handled"}return"not-handled"})},[b,d]);return null}function a(){return{above:null,action:null,below:h,id:"associate_reply",inside:null,props:{}}}g["default"]=a}),98);
__d("cometUFIComposerGIFPlugin",["CometRelay","cometUFIComposerGIFPlugin_plugin.graphql","cometUFIComposerGIFPlugin_pluginData.graphql","cr:239"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerGIFPlugin_plugin.graphql");function a(a){a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerGIFPlugin_pluginData.graphql"),a);return b("cr:239")({ftentidentifier:a.feedback_id})}g["default"]=a}),98);
__d("errorDesc",["fbt","invariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){i(0,3625)}a.withParams=function(a,b){i(0,3625)};a._=function(a,b){return a(h,b)};b=a;g["default"]=b}),98);
__d("errorSummary",["fbt","invariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){i(0,771)}a._=function(a){return a(h)};g["default"]=a}),98);
__d("lengthInUTF8Bytes",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new TextEncoder();return b.encode(a).length}f["default"]=a}),66);
__d("useOutlineCharacterLimit",["cr:384"],(function(a,b,c,d,e,f){e.exports=b("cr:384")}),null);
__d("createCometUFICommentCharacterLimitComposerPluginForOutline",["errorCode","errorDesc","CometWallConstants","TetraText.react","errorSummary","lengthInUTF8Bytes","react","useCometAlertDialog","useOutlineCharacterLimit"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState;function o(a){a=a.pluginProps;var b=a.addCommitListener;a=a.editor;var e=c("useCometAlertDialog")(),f=e[0],g=m(0);e=n(0);var h=e[0],o=e[1];e=l(function(){return{remainingCharacters:function(a){a<=0?(g.current=-a,o(-a)):(g.current=0,o(0))},strlen:function(a){return c("lengthInUTF8Bytes")(a)}}},[]);d("useOutlineCharacterLimit").useCharacterLimit(a,d("CometWallConstants").COMMENT_MAX_LENGTH,e);k(function(){return b(function(){if(g.current>0){var a=1446011,b=c("errorSummary")._(function(a){return a._(/*FBT_CALL*/"B\u00ecnh lu\u1eadn qu\u00e1 d\u00e0i"/*FBT_CALL*/)}),d=i._(function(a,b){return a._(/*FBT_CALL*/"B\u00ecnh lu\u1eadn kh\u00f4ng \u0111\u01b0\u1ee3c d\u00e0i qu\u00e1 8.000 k\u00fd t\u1ef1. H\u00e3y th\u1eed r\u00fat ng\u1eafn b\u00ecnh lu\u1eadn."/*FBT_CALL*/)},{});a!=null&&b!=null&&d!=null&&f({body:d,title:b});return"block-commit"}return"continue-commit"})},[b,f]);return h>0?j.jsx(c("TetraText.react"),{color:"negative",testid:void 0,type:"body3",children:-h}):null}function a(){return{above:null,action:null,below:null,id:"comment_COMMENT_MAX_LENGTH",inside:o,props:{}}}g["default"]=a}),98);
__d("createCometUFIDelightsComposerPluginForOutline",["CometPlaceholder.react","CometRelay","CometTextDelightAnimation.entrypoint","CometTextDelightConfig","CometUFIOutlineDelightNode","Outline","ReactDOMComet","getCampaignRegex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useState;function m(a){return/[\s\d.,\\\/!$%\^&\*;:{}=\-`~()]/.test(a)}function n(a){return a instanceof d("CometUFIOutlineDelightNode").CometUFIOutlineDelightNode}function o(a){var b=d("Outline").createTextNode(a.getTextContent());a.replace(b)}function p(a,b){var e=a.getTextContent(),f=a.getNextSibling();f=f;while(d("Outline").isTextNode(f)){var g=f.getTextContent();if(!g!==""&&!m(g[0]))return;f=f.getNextSibling()}g=b.getSelection();if(!m(e[0])){f=a.getPreviousSibling();n(f)&&o(f)}b=a;f=void 0;a=0;for(var h in c("CometTextDelightConfig").campaigns){var i=c("CometTextDelightConfig").campaigns[h],j=c("getCampaignRegex")(i),k=i.id,l=i.styles;k=c("CometTextDelightConfig").campaigns[k].delight_asset;if(k==null)continue;var p;while((p=j.exec(e.substr(a)))!==null){if(p===null)break;var q=p[1],r=p.index+q.length;p=r+p[2].length;var s=f;a+=p;if(q!==""&&!m(q[q.length-1]))continue;if(r===0){q=b.getPreviousSibling();if(d("Outline").isTextNode(q))continue;q=b.splitText(p);f=q[0];b=q[1]}else{q=b.splitText(r,p);f=q[1];b=q[2]}if(b){r=b.getTextContent();if(r.length>0&&!m(r[0])){f=s;continue}}p=f.getTextContent();q=d("CometUFIOutlineDelightNode").createCometUFIOutlineDelightNode(p,l,i.id,k);f.replace(q);f=q}}g!==null&&(!g.anchor.getNode().isAttached()||!g.focus.getNode().isAttached())&&(f!==void 0?f.selectNext(0,0):b!==void 0&&b.select(0,0))}function q(a){a=a.pluginProps;var b=a.editor,e=d("CometRelay").useRelayEnvironment();a=k(function(){return{getEnvironment:function(){return e}}},[e]);a=d("CometRelay").useEntryPointLoader(a,c("CometTextDelightAnimation.entrypoint"));var f=a[0],g=a[1];a=l(!1);var m=a[0],q=a[1];j(function(){b.registerNodeType("delight",d("CometUFIOutlineDelightNode").CometUFIOutlineDelightNode);var a=function a(b){b=b.getFirstChild();while(b!==null){var c=b.getPreviousSibling(),e=b.getNextSibling();d("Outline").isBlockNode(b)?a(b):d("Outline").isTextNode(b)&&!b.isSimpleText()&&(n(c)&&o(c),n(e)&&o(e));b=b.getNextSibling()}},c=function(){b.update(function(b){d("Outline").log("CometUFIDelightsComposerPlugin");b=b.getRoot();a(b)})},e=b.addTextNodeTransform(p),f=b.addListener("update",c);return function(){e(),f()}},[b]);var r=i(function(a){a=a.target;var b=a instanceof Element?a.getAttribute("data-delight-asset"):null;b!=null&&!m&&d("ReactDOMComet").unstable_batchedUpdates(function(){g({id:b}),q(!0)})},[m,g]);j(function(){return b.addListener("root",function(a,b){b!==null&&b.removeEventListener("click",r),a!==null&&a.addEventListener("click",r)})},[r,b]);return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:m&&f!=null&&h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:f,props:{onRepeatEnd:function(){q(!1)}}})})}q.displayName=q.name+" [from "+f.id+"]";function a(){return{above:null,action:null,below:q,id:"delights",inside:null,props:{}}}g["default"]=a}),98);
__d("CometUFIInsertEmojiComposerActionForOutline.react",["fbt","ix","CometPopoverLoadingState.react","CometUFILazyPopoverComposerAction.react","JSResourceForInteraction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIEmojiPickerPopoverForOutline.react").__setRef("CometUFIInsertEmojiComposerActionForOutline.react"),m={popoverFallback:{minHeight:"k1c241ex"}};function a(a){var b=a.pluginProps;a=k(function(){return{pluginProps:b}},[b]);return j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("642536"),16),label:h._(/*FBT_CALL*/"Ch\u00e8n m\u1ed9t bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac"/*FBT_CALL*/),popoverProps:a,popoverResource:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useDeferredModuleOnReady",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(b){var c=i(function(){return b.getModuleIfRequireable()}),a=c[0],d=c[1];h(function(){if(a!=null)return;var c=b.onReady(function(a){d(function(){return a})});return function(){c.remove()}},[b,a]);return a}g["default"]=a}),98);
__d("createCometUFIEmojiComposerPluginForOutline",["CometOutlineEmojiNode","CometUFIInsertEmojiComposerActionForOutline.react","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("createCometUFIEmojiComposerPluginForOutline");function j(a){var b=a.pluginProps.editor,e=c("useDeferredModuleOnReady")(i);h(function(){if(e!=null)return e(b,d("CometOutlineEmojiNode").UFI_EMOJI_SIZE)},[b,e]);return null}function a(a){return{above:null,action:function(){return c("CometUFIInsertEmojiComposerActionForOutline.react")},below:j,id:"emoji",inside:null,props:a}}g["default"]=a}),98);
__d("createCometUFIEmoticonsComposerPluginForOutline",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("getUpgradedCometUFIEmoticonsComposerHandler").__setRef("createCometUFIEmoticonsComposerPluginForOutline");function j(a){var b=a.pluginProps.editor,d=c("useDeferredModuleOnReady")(i);h(function(){if(d!=null)return d(b)},[b,d]);return null}function a(a){return{above:null,action:null,below:j,id:"emoticons",inside:null,props:a}}g["default"]=a}),98);
__d("CometUFIGIFComposerPreviewArea.react",["fbt","CometImage.react","CometUFIComposerPreviewArea.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={previewImage:{borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",display:"a8c37x1j",height:"idiwt2bm",maxWidth:"d2edcug0"}};function l(a){return a.attachment&&a.attachment.__type==="GIF"?a.attachment.data:null}function a(a){var b=a.composerState,d=a.setComposerState;a=l(b);b=j(function(){d(function(){return{attachment:null}})},[d]);return a==null?null:i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._(/*FBT_CALL*/"G\u1ee1 file GIF"/*FBT_CALL*/),onRemove:b,children:i.jsx(c("CometImage.react"),{height:a.media.preview.height,src:a.media.preview.url,width:a.media.preview.width,xstyle:k.previewImage})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIInsertGIFComposerActionForOutline.react",["fbt","ix","CometPopoverLoadingState.react","CometUFILazyPopoverComposerAction.react","JSResourceForInteraction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIGIFPickerPopoverForOutline.react").__setRef("CometUFIInsertGIFComposerActionForOutline.react"),m={popoverFallback:{minHeight:"if5txojj"}};function a(a){var b=a.pluginProps;a=k(function(){return{pluginProps:b}},[b]);return j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("687980"),16),label:h._(/*FBT_CALL*/"B\u00ecnh lu\u1eadn b\u1eb1ng file GIF"/*FBT_CALL*/),popoverProps:a,popoverResource:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometUFIGIFAttachmentMapper",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){h(function(){return a(function(a){return a.__type==="GIF"?{link:{external:{url:a.data.source.url}}}:null})},[a])}g["default"]=a}),98);
__d("createCometUFIGIFComposerPluginForOutline",["CometUFIGIFComposerPreviewArea.react","CometUFIInsertGIFComposerActionForOutline.react","qex","react","useCometUFIGIFAttachmentMapper"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.pluginProps;var b=a.addAttachmentMapper,d=a.composerState;a=a.setComposerState;c("useCometUFIGIFAttachmentMapper")(b);return h.jsx("div",{className:"buofh1pr",children:h.jsx(c("CometUFIGIFComposerPreviewArea.react"),{composerState:d,setComposerState:a})})}i.displayName=i.name+" [from "+f.id+"]";function j(a){a=a.pluginProps;a=a.composerState;return!a||!a.attachment?c("CometUFIInsertGIFComposerActionForOutline.react"):null}function a(a){a=a.ftentidentifier;return{above:null,action:j,below:i,id:"gifs",inside:null,props:{ftentidentifier:c("qex")._("1000665")?a:null}}}g["default"]=a}),98);
__d("createCometUFIHashtagComposerPluginForOutline",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("getUpgradedCometHashtagComposerHandler").__setRef("createCometUFIHashtagComposerPluginForOutline");function j(a){var b=a.pluginProps.editor,d=c("useDeferredModuleOnReady")(i);h(function(){if(d!=null)return d(b)},[b,d]);return null}function a(){return{above:null,action:null,below:j,id:"hashtag",inside:null,props:{}}}g["default"]=a}),98);
__d("CometUFIMediaUploadComposerActionForOutline.react",["fbt","ix","CometUFIActionsContext","CometUFIComposerActionButton.react","UFICommentFileInputAcceptValues","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useRef,o=b.useState;function a(a){var b=a.feedback,e=a.pluginProps,f=e.composerState.feedbackID;a=e.fileIsHoveringOverDropTarget;var g=e.mediaUploadError!==null;b=((b=b.viewer_actor)==null?void 0:b.__typename)==="Page";var p=l(d("CometUFIActionsContext").CometUFIActionsContext),q=p.registerUFIActions,r=n(null);p=o(!1);var s=p[0],t=p[1],u=k(function(){var a;t(!0);(a=r.current)==null?void 0:a.click()},[t]);m(function(){if(f==null)return;var a=q(f,{uploadMedia:u});return function(){a&&a.dispose()}},[q,u,f]);p=b?c("UFICommentFileInputAcceptValues").photos:c("UFICommentFileInputAcceptValues").both;return j.jsxs(j.Fragment,{children:[j.jsx(c("CometUFIComposerActionButton.react"),{color:s?"highlight":g&&!a?"negative":"secondary",icon:a?d("fbicon")._(i("568448"),16):d("fbicon")._(i("550098"),16),label:g?h._(/*FBT_CALL*/"\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi \u0111\u00ednh k\u00e8m file, vui l\u00f2ng th\u1eed l\u1ea1i"/*FBT_CALL*/):h._(/*FBT_CALL*/"\u0110\u00ednh k\u00e8m m\u1ed9t \u1ea3nh ho\u1eb7c video"/*FBT_CALL*/),onFocusIn:function(){return t(!1)},onPress:u}),j.jsx("input",{accept:p,className:"mkhogb32",onChange:function(a){var b=a.target.files.item(0);a=e.setComposerState;a(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}});t(!1)},ref:r,type:"file"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIMediaUploadComposerPluginSupportedTypes",[],(function(a,b,c,d,e,f){"use strict";a=["photo","video"];b=a;f["default"]=b}),66);
__d("CometUFIMediaUploadProgressBar.react",["CometProgressStepper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.label;a=a.value;return h.jsx("div",{className:"bi6gxh9e aov4n071 oi9244e8 buofh1pr",children:h.jsx(c("CometProgressStepper.react"),{label:b,step:a,totalSteps:100})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometUFIMediaUploadDragAndDrop",["react","useCometOutlineFileDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b){a(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function a(a){var b=a.editor,d=a.isMimeTypeAcceptable,e=a.setComposerState,f=a.setFileIsHoveringOverDropTarget;a=h(function(a,b){f(b)},[f]);var g=h(function(a){a.length>0&&i(e,a[0])},[e]);c("useCometOutlineFileDragAndDrop")({editor:b,isMimeTypeAcceptable:d,onHover:a,onSubmit:g})}g["default"]=a}),98);
__d("useCometUFIPreventCommitWhenUploadingFile",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.addCommitListener,c=a.composerState;h(function(){return b(function(){var a=c.attachment;return(a==null?void 0:a.__type)==="Media"&&(a==null?void 0:a.reference.__type)!=="UploadedFile"?"block-commit":"continue-commit"})},[b,c.attachment])}g["default"]=a}),98);
__d("createCometUFIMediaUploadComposerPluginForOutline",["fbt","CometPlaceholder.react","CometUFIComposerPreviewArea.react","CometUFIMediaUploadComposerActionForOutline.react","CometUFIMediaUploadProgressBar.react","JSResourceForInteraction","cometIsMimeTypeForMedia","cometUFIMediaUploadComposerPluginSupportedTypes","lazyLoadComponent","react","useCometUFIMediaUploadDragAndDrop","useCometUFIPreventCommitWhenUploadingFile"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometUFIMediaUploadUpgradedPlugin.experimental.react").__setRef("createCometUFIMediaUploadComposerPluginForOutline"));function l(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}function m(a){var b,e=a.feedback;a=a.pluginProps;var f=a.addCommitListener,g=a.composerState,m=a.editor,n=a.setComposerState,o=a.setFileIsHoveringOverDropTarget,p=(b=e.viewer_actor)==null?void 0:b.__typename;b=j(function(a){if(a.kind!=="file")return!1;for(var b=c("cometUFIMediaUploadComposerPluginSupportedTypes"),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;switch(g){case"photo":if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;break;case"video":if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return p==="User";break;default:g}}return!1},[p]);var q=l(g);c("useCometUFIMediaUploadDragAndDrop")({editor:m,isMimeTypeAcceptable:b,setComposerState:n,setFileIsHoveringOverDropTarget:o});c("useCometUFIPreventCommitWhenUploadingFile")({addCommitListener:f,composerState:g});m=j(function(){n(function(){return{attachment:null}})},[n]);b=i.jsx("div",{className:"buofh1pr",children:i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._(/*FBT_CALL*/"H\u1ee7y t\u1ea3i l\u00ean"/*FBT_CALL*/),onRemove:m,children:i.jsx(c("CometUFIMediaUploadProgressBar.react"),{label:h._(/*FBT_CALL*/"{value}\u0025"/*FBT_CALL*/,[h._param("value","0")]),value:0})})});if(q)return i.jsx(c("CometPlaceholder.react"),{fallback:b,children:i.jsx(k,{feedback:e,pluginProps:a})});else return null}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.pluginProps;a=a.composerState;return a.attachment!=null?null:c("CometUFIMediaUploadComposerActionForOutline.react")}function a(a){a=a.feedback;return{above:null,action:n,below:m,id:"media_upload",inside:null,props:{feedback:a}}}g["default"]=a}),98);
__d("createCometUFIMentionsComposerPluginForOutline",["react","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.config,d=a.pluginProps;a=a.upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE;a=c("useDeferredModuleOnReady")(a);if(a==null)return null;else return h.jsx(a,{config:b,pluginProps:d})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE;a=babelHelpers.objectWithoutPropertiesLoose(a,["upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE"]);return{above:null,action:null,below:i,id:"mentions",inside:null,props:{config:a,upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE:b}}}g["default"]=a}),98);
__d("createCometUFIPrefillMentionComposerPluginForOutline",["CometUFIOutlineGenericEntityNode","FBLogger","Outline","OutlineParagraphNode","OutlineRootHelpers","requireDeferred","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("UFIODSLogger").__setRef("createCometUFIPrefillMentionComposerPluginForOutline");function i(a){a=a.pluginProps;var b=a.addCommandListener,e=a.editor;a=a.setComposerState;c("useLayoutEffect_SAFE_FOR_SSR")(function(){b(function(a){if(a.__type==="PrefillMention"){h.onReady(function(a){a.bump("prefill_mention_plugin.prefill_requested.with_implementation","relay")});e.update(function(b){d("Outline").log("CometUFIPrefillMentionComposerPlugin");var f=a.mentionableEntity,g=e.getEditorState(),h=d("OutlineRootHelpers").textContent(g);g=d("OutlineRootHelpers").isBlank(g,e.isComposing());var i=!1;b.getRoot().getAllTextNodes().forEach(function(a){a instanceof d("CometUFIOutlineGenericEntityNode").CometUFIOutlineGenericEntityNode&&a.getTextContent()===h.trim()&&(i=!0)});if(!g&&!i)return;g=b.getRoot();b=g.getFirstChild();if(d("Outline").isBlockNode(b))b.clear();else if(b===null)b=d("OutlineParagraphNode").createParagraphNode(),g.append(b);else{c("FBLogger")("UFIOutlineComposer").mustfix("Prefill mentions plugin found a non-block first node. This should not happen.");return}g=j(f.getType());g=d("CometUFIOutlineGenericEntityNode").createCometUFIOutlineGenericEntityNode({id:f.getUniqueID(),text:f.getTitle(),type:g,uri:f.getURI()});b.append(g);f=new(d("Outline").TextNode)(" ");g.insertAfter(f);f.select()});return"handled"}return"not-handled"})},[b,e,a]);return null}function j(a){switch(a){case"Actor":case"Application":case"CMSObject":case"Doc":case"Event":case"FundraiserPersonForPerson":case"FundraiserPersonToCharity":case"GeneralGroupContextualProfile":case"Group":case"GroupAnonAuthorProfile":case"GroupCommerceProductItem":case"GroupRule":case"InstantArticle":case"KnowledgeNote":case"Menu":case"Note":case"Page":case"Photo":case"ProductItem":case"ReducedMessagingActor":case"Story":case"User":case"Video":case"VideoList":case"WorkKnowledgeCollection":return a;default:c("FBLogger")("UFIOutlinePlugin").mustfix("PrefillMention unexpected command entity type "+a);return"Actor"}}function a(){return{above:null,action:null,below:i,id:"prefill_mentions",inside:null,props:Object.freeze({})}}g["default"]=a}),98);
__d("createCometUFISetReplyClickedComposerPluginForOutline",["useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.pluginProps;var b=a.addCommandListener,d=a.setComposerState;c("useLayoutEffect_SAFE_FOR_SSR")(function(){b(function(a){if(a.__type==="SetReplyClicked"){d(function(){return{replyTargetClicked:!0}});return"handled"}return"not-handled"})},[b,d]);return null}function a(){return{above:null,action:null,below:h,id:"set_reply_clicked",inside:null,props:{}}}g["default"]=a}),98);
__d("getComposerStateSnapshotterForOutline",["CometLruCache","memoizeWithArgsWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(20);function i(a,b){return JSON.stringify({commentID:(b=b)!=null?b:"",feedbackID:a})}function a(a,b){var c=i(a,b);return{clear:function(){h["delete"](c)},get:function(){return h.get(c)},set:function(a){h.set(c,a)}}}b=c("memoizeWithArgsWeak")(a);g["default"]=b}),98);
__d("createCometStateSnapshotComposerPluginForOutline",["FBLogger","getComposerStateSnapshotterForOutline","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function j(a){a=a.pluginProps;var b=a.addCommandListener,d=a.addCommitListener,e=a.composerState,f=a.editor,g=a.setComposerState;a=e.commentID;var j=e.feedbackID,k=c("getComposerStateSnapshotterForOutline")(j,(j=a)!=null?j:null),l=i(!1),m=i(!1),n=i(!1);a=f.getEditorState();var o=i(a.isEmpty()?null:a);h(function(){if(!l.current){var a=k.get();if(a!=null){var b=a.state;b.editor;var d=babelHelpers.objectWithoutPropertiesLoose(b,["editor"]);b=a.editorState;if(b.isEmpty()){c("FBLogger")("UFIOutlineComposer").mustfix("Snapshot plugin attempted to restore an empty Outline EditorState");return}g(function(){return d});f.setEditorState(a.editorState)}l.current=!0}return function(){var a=o.current;a!==null&&f.getRootElement()==null&&!m.current&&!n.current&&k.set({editorState:a,state:e})}},[k,g,f,e]);h(function(){return f.addListener("update",function(a){a=a.editorState;f.getRootElement()!==null&&!a.isEmpty()&&(o.current=a)})},[f]);h(function(){return d(function(){m.current=!0;k.clear();return"continue-commit"})},[k,d]);h(function(){return b(function(a){if(a.__type==="BeforeFinishEdit"){n.current=!0;k.clear();return"handled"}return"not-handled"})});return null}function a(){return{above:null,action:null,below:j,id:"statesnapshot",inside:null,props:Object.freeze({})}}g["default"]=a}),98);
__d("CometUFIInsertStickerComposerActionForOutline.react",["fbt","ix","CometPopoverLoadingState.react","CometStickerPickerCardPopoverRootWithPresetProps","CometUFIEntryPointPopoverComposerAction.react","fbicon","gkx","react","useCometUFIOutlineEmptyListeners"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;b=274;var l=Math.floor(b/4),m={popover:{height:"j707pzvn",width:"hdkcmrsv"},popoverFallback:{minHeight:"enf79l09"}},n=10;function a(a){var b=a.feedbackID;a=a.pluginProps;var e=a.setComposerState,f=a.commentAction,g=a.onCommit,o=d("useCometUFIOutlineEmptyListeners").useCometUFIOutlineIsEmpty(a.addEmptyListener),p=a.editor;a=k(function(a){var b=a.stickerID;if(c("gkx")("1632")){a=function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Sticker",id:b},updateSource:"InsertStickerButton"})};o&&f==="ADD"?g(a):(e(a),p.focus())}else e(function(){return{attachment:{__type:"Sticker",id:b},updateSource:"InsertStickerButton"}},function(){o&&f==="ADD"&&g(),p.focus()})},[e,o,f,p,g]);return j.jsx(c("CometUFIEntryPointPopoverComposerAction.react"),babelHelpers["extends"]({},c("CometStickerPickerCardPopoverRootWithPresetProps").props,{entryPointParams:{feedbackID:b,flyoutTagsCount:n,stickerInterface:"COMMENTS"},fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("687986"),16),label:h._(/*FBT_CALL*/"B\u00ecnh lu\u1eadn b\u1eb1ng nh\u00e3n d\u00e1n"/*FBT_CALL*/),otherProps:{onSelect:a,stickerHeight:l,stickerWidth:l,xstyle:m.popover},popoverEntryPoint:c("CometStickerPickerCardPopoverRootWithPresetProps").resource}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIStickersComposerPreviewArea.react",["fbt","CometProgressIndicator.react","CometUFIComposerPreviewArea.react","FBLogger","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("CometUFIStickersComposerUpgradedPreviewContent.react").__setRef("CometUFIStickersComposerPreviewArea.react");function l(a){return a.attachment&&a.attachment.__type==="Sticker"?a.attachment.id:null}function a(a){var b=a.composerState,d=a.environment,e=a.setComposerState;a=l(b);b=c("useDeferredModuleOnReady")(k);var f=j(function(){e(function(){return{attachment:null}})},[e]),g=j(function(a){e(function(){return{attachment:null}}),c("FBLogger")("ufi2").catching(a).mustfix("Encountered an error while rendering a sticker.")},[e]),m=i.jsx(c("CometProgressIndicator.react"),{size:"small"});return a==null?null:i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._(/*FBT_CALL*/"G\u1ee1 nh\u00e3n d\u00e1n"/*FBT_CALL*/),onRemove:f,children:b==null?m:i.jsx(b,{environment:d,loadingIndicatorElement:m,onError:g,stickerId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometUFIStickersAttachmentMapper",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){h(function(){return a(function(a){return a.__type==="Sticker"?{media:{id:a.id}}:null})},[a])}g["default"]=a}),98);
__d("createCometUFIStickersComposerPluginForOutline",["CometUFIInsertStickerComposerActionForOutline.react","CometUFIStickersComposerPreviewArea.react","react","useCometUFIStickersAttachmentMapper"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.environment;a=a.pluginProps;var d=a.addAttachmentMapper,e=a.composerState;a=a.setComposerState;c("useCometUFIStickersAttachmentMapper")(d);return h.jsx("div",{className:"buofh1pr",children:h.jsx(c("CometUFIStickersComposerPreviewArea.react"),{composerState:e,environment:b,setComposerState:a})})}i.displayName=i.name+" [from "+f.id+"]";function j(a){a=a.pluginProps;a=a.composerState;return!a||!a.attachment?c("CometUFIInsertStickerComposerActionForOutline.react"):null}function a(a){return{above:null,action:j,below:i,id:"stickers",inside:null,props:a}}g["default"]=a}),98);
__d("createCometUFILiveTypingBroadcastComposerPluginForOutline",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react").__setRef("createCometUFILiveTypingBroadcastComposerPluginForOutline");function j(a){var b=a.feedback,d=a.pluginProps;a=a.relayEnvironment;var e=c("useDeferredModuleOnReady")(i);return e!=null?h.jsx(e,{feedback:b,pluginProps:d,relayEnvironment:a}):null}function a(a){var b=a.feedback;a=a.relayEnvironment;return{above:null,action:null,below:j,id:"typing_broadcast",inside:null,props:{feedback:b,relayEnvironment:a}}}g["default"]=a}),98);
__d("createDeferredUpgradedUFI2MentionsComposerPluginForOutline",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("createUpgradedUFI2MentionsComposerPluginForOutline").__setRef("createDeferredUpgradedUFI2MentionsComposerPluginForOutline");g["default"]=a}),98);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("Outline.prod",[],(function $module_Outline_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function p(a){throw Error("Minified Outline error #"+a+"; see codes.json for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}
var aa=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,ba=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,ca={bold:1,underline:8,strikethrough:4,italic:2,code:16};var da=0;var ea=window.Promise,fa="function"===typeof queueMicrotask?queueMicrotask:function(a){return ea.resolve().then(a);};
function ha(a,b,c){a=a.getRootElement();try{return null!==a&&a.contains(b)&&a.contains(c);}catch(d){return!1;}}function ja(a){return aa.test(a)?"rtl":ba.test(a)?"ltr":null;}function ka(a){for(;null!=a;){if(3===a.nodeType)return a;a=a.firstChild;}return null;}function la(a,b,c){b=ca[b];return a&b&&(null===c||0===(c&b))?a^b:null===c||c&b?a|b:a;}function ma(a,b,c){for(;null!==a&&!c.has(a);){c.add(a);a=b.get(a);if(void 0===a)break;a=a.__parent;}}
function r(a){var b=t();var c=b._compositionKey;b._compositionKey=a;null!==c&&(b=u(c),null!==b&&b.getWritable());null!==a&&(a=u(a),null!==a&&a.getWritable());}function x(){return t()._compositionKey;}function u(a){a=B()._nodeMap.get(a);return void 0===a?null:a;}function na(a){a=a.__outlineInternalRef;return void 0!==a?u(a):null;}function oa(a){for(;null!=a;){var b=na(a);if(null!==b)return b;a=a.parentNode;}return null;}
function ra(a){var b=Object.assign({},a._decorators);return a._pendingDecorators=b;}function sa(a){t()._log.push(a);}function ta(a){return a.read(function(b){return b.getRoot().getTextContent();});}var ua=!1,va=0;function wa(a){va=a.timeStamp;}function xa(a){return a.getEditorState().read(function(b){b=b.getSelection();return null!==b?b.clone():null;});}
function ya(a,b,c){ua=!0;var d=100<performance.now()-va;try{a.update(function(){sa("onMutation");var e=!1;for(var f=0;f<b.length;f++){var g=b[f],h=g.type,k=g.target,l=oa(k);if(!C(l))if("characterData"===h){if(d&&3===k.nodeType&&D(l)&&l.isAttached()){h=k;k=l;l=a;g=window.getSelection();var m=null,n=null;null!==g&&g.anchorNode===h&&(m=g.anchorOffset,n=g.focusOffset);E("textmutation",l,!1,F,{node:k,anchorOffset:m,focusOffset:n,text:h.nodeValue});}}else if("childList"===h){e=!0;h=g.addedNodes;l=g.removedNodes;
g=g.nextSibling;for(m=0;m<l.length;m++){n=l[m];var q=na(n);var v=g;null!==q&&q.isAttached()&&(q=q.getNextSibling(),null!==q&&(q=q.getKey(),q=a.getElementByKey(q),null!==q&&null!==q.parentNode&&(v=q)));if(null!=v)for(;null!=v;){q=v.parentNode;if(q===k){k.insertBefore(n,v);break;}v=q;}else k.appendChild(n);}for(k=0;k<h.length;k++){l=h[k],g=na(l),m=l.parentNode,null!=m&&null===g&&m.removeChild(l);}}}f=c.takeRecords();if(0<f.length){for(h=0;h<f.length;h++){for(l=f[h],k=l.addedNodes,l=l.target,g=0;g<k.length;g++){m=
k[g],n=m.parentNode,null!=n&&"BR"===m.nodeName&&l.__outlineLineBreak!==m&&void 0===m.__outlineInternalRef&&n.removeChild(m);}}c.takeRecords();}e&&(e=F.getSelection()||xa(a),null!==e&&(e.dirty=!0,F.setSelection(e)));});}finally{ua=!1;}}function za(a){var b=a._observer;if(null!==b){var c=b.takeRecords();ya(a,c,b);}}function Aa(a){0===va&&window.addEventListener("textInput",wa,!0);a._observer=new MutationObserver(function(b,c){ya(a,b,c);});}var
Ba=function(){function Ba(a,b,c){this.key=a;this.offset=b;this.type=c;}var _proto=Ba.prototype;_proto.is=function is(a){return this.key===a.key&&this.offset===a.offset&&this.type===a.type;};_proto.isBefore=function isBefore(a){var b=this.getNode(),c=a.getNode();var d=this.offset;a=a.offset;H(b)&&(b=b.getDescendantByIndex(d));H(c)&&(c=c.getDescendantByIndex(a));return b===c?d<a:b.isBefore(c);};_proto.getCharacterOffset=function getCharacterOffset(){return"text"===this.type?this.offset:0;};_proto.getNode=function getNode(){var a=u(this.key);null===a&&p(31);return a;};_proto.set=function set(a,b,c){var d=I(),e=this.key;this.key=a;this.offset=b;this.type=
c;J||(x()===e&&r(a),null===d||d.anchor!==this&&d.focus!==this||(d.dirty=!0));};return Ba;}();function K(a,b,c){return new Ba(a,b,c);}function Ca(a,b){var c=b.getKey();var d=a.offset,e="block";D(b)&&(e="text",b=b.getTextContentSize(),d>b&&(d=b));a.set(c,d,e);}function Da(a,b){if(H(b)){var c=b.getLastDescendant();H(c)||D(c)?Ca(a,c):Ca(a,b);}else D(b)&&Ca(a,b);}function L(a,b,c,d){a.key=b;a.offset=c;a.type=d;}var
M=function(){function M(a,b,c){this.anchor=a;this.focus=b;this.dirty=!1;this.format=c;}var _proto2=M.prototype;_proto2.is=function is(a){return null===a?!1:this.anchor.is(a.anchor)&&this.focus.is(a.focus);};_proto2.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto2.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto2.getNodes=function getNodes(){var a=this.anchor,b=this.focus;var c=a.getNode(),d=b.getNode();H(c)&&(c=c.getDescendantByIndex(a.offset));H(d)&&(d=d.getDescendantByIndex(b.offset));return c===d?H(c)?[]:[c]:c.getNodesBetween(d);};_proto2.setTextNodeRange=function setTextNodeRange(a,b,c,d){L(this.anchor,
a.__key,b,"text");L(this.focus,c.__key,d,"text");this.dirty=!0;};_proto2.getTextContent=function getTextContent(){var a=this.getNodes();if(0===a.length)return"";var b=a[0],c=a[a.length-1];var d=this.anchor,e=this.focus;var f=d.isBefore(e);d=d.getCharacterOffset();e=e.getCharacterOffset();var g="",h=!0;for(var k=0;k<a.length;k++){var l=a[k];if(H(l))h||(g+="\n"),h=l.isEmpty()?!1:!0;else if(h=!1,D(l)){var m=l.getTextContent();l===b?m=l===c?d<e?m.slice(d,e):m.slice(e,d):f?m.slice(d):m.slice(e):l===c&&(m=f?m.slice(0,e):m.slice(0,
d));g+=m;}else Ea(l)?g+="\n":C(l)&&(g+=l.getTextContent());}return g;};_proto2.applyDOMRange=function applyDOMRange(a){var b=t();a=Fa(a.startContainer,a.startOffset,a.endContainer,a.endOffset,b);if(null!==a){var _a=a,c=_a[0],d=_a[1];L(this.anchor,c.key,c.offset,c.type);L(this.focus,d.key,d.offset,d.type);}};_proto2.clone=function clone(){var a=this.anchor,b=this.focus;return new M(K(a.key,a.offset,a.type),K(b.key,b.offset,b.type),this.format);};_proto2.swapPoints=function swapPoints(){var a=this.focus,b=this.anchor,c=b.key,d=b.offset,e=b.type;L(b,a.key,a.offset,a.type);L(a,c,d,e);};_proto2.toggleFormatType=function toggleFormatType(a){this.format=
la(this.format,a,null);this.dirty=!0;};_proto2.isBold=function isBold(){return 0!==(this.format&1);};_proto2.isItalic=function isItalic(){return 0!==(this.format&2);};_proto2.isStrikethrough=function isStrikethrough(){return 0!==(this.format&4);};_proto2.isUnderline=function isUnderline(){return 0!==(this.format&8);};_proto2.isCode=function isCode(){return 0!==(this.format&16);};return M;}();function Ga(a){var b;a:{for(b=a;null!=b;){var c=b.__outlineInternalRef;if(void 0!==c){b=c;break a;}b=b.parentNode;}b=null;}return null===b?(b=t().getRootElement(),a===b?u("root"):null):u(b);}
function Ha(a,b){if(1===a.nodeType){var e=!1;var c=a.childNodes;var d=c.length;b===d&&(e=!0,b=d-1);c=Ga(c[b]);if(D(c))b=e?c.getTextContentSize():0;else{d=Ga(a);if(null===d)return null;H(d)?(a=d.getChildAtIndex(b),H(a)&&(d=e?a.getLastDescendant():a.getFirstDescendant(),null===d?(d=a,b=0):(a=d,d=a.getParentOrThrow())),D(a)?(c=a,d=null,b=e?c.getTextContentSize():0):a!==d&&e&&b++):(b=d.getIndexWithinParent()+1,d=d.getParentOrThrow());if(N(d))return null;if(H(d))return K(d.__key,b,"block");}}else c=Ga(a);
return D(c)?K(c.__key,b,"text"):null;}
function Fa(a,b,c,d,e){if(null===a||null===c||!ha(e,a,c))return null;a=Ha(a,b);if(null===a)return null;c=Ha(c,d);if(null===c)return null;if("text"===a.type&&"text"===c.type){d=a.getNode();var f=c.getNode(),g=d.getTextContentSize(),h=a.offset,k=c.offset;d===f&&h===k?0===b&&(d=d.getPreviousSibling(),D(d)&&!d.isInert()&&(b=d.getTextContentSize(),d=d.__key,a.key=d,c.key=d,a.offset=b,c.offset=b)):h===g&&(b=d.getNextSibling(),D(b)&&!b.isInert()&&(a.key=b.__key,a.offset=0));b=e.getEditorState()._selection;
e.isComposing()&&e._compositionKey!==a.key&&null!==b&&(e=b.anchor,b=b.focus,L(a,e.key,e.offset,e.type),L(c,b.key,b.offset,b.type));}return[a,c];}function Ia(a,b,c,d,e,f){var g=B();a=new M(K(a,b,e),K(c,d,f),0);a.dirty=!0;return g._selection=a;}
function Ja(a){var b=a.getEditorState()._selection;var c=(c=window.event)&&c.type;c=!ua&&("selectionchange"===c||"beforeinput"===c||"compositionstart"===c||"compositionend"===c||"click"===c&&3===window.event.detail||void 0===c);var d,e;if(null===b||c){var f=window.getSelection();if(null===f)return null;c=f.anchorNode;d=f.focusNode;e=f.anchorOffset;f=f.focusOffset;}else return a=b.anchor,c=b.focus,new M(K(a.key,a.offset,a.type),K(c.key,c.offset,c.type),b.format);a=Fa(c,e,d,f,a);if(null===a)return null;var _a2=
a,g=_a2[0],h=_a2[1];return new M(g,h,null===b?0:b.format);}function I(){return B()._selection;}
function Ka(a,b,c,d){if(d===void 0){d=1;}var e=a.anchor,f=a.focus,g=e.getNode(),h=f.getNode();if((b.is(g)||b.is(h))&&H(g))if(g=b.getKey(),a.isCollapsed())b=e.offset,c<=b&&(c=Math.max(0,b+d),e.set(g,c,"block"),f.set(g,c,"block"),La(a));else{var k=a.isBackward();h=k?f:e;var l=h.getNode();e=k?e:f;f=e.getNode();b.is(l)&&(l=h.offset,c<=l&&h.set(g,Math.max(0,l+d),"block"));b.is(f)&&(b=e.offset,c<=b&&e.set(g,Math.max(0,b+d),"block"));La(a);}}
function La(a){var b=a.anchor,c=b.offset;var d=a.focus;var e=d.offset,f=b.getNode(),g=d.getNode();if(a.isCollapsed())H(f)&&(g=f.getChildrenSize(),g=(e=c>=g)?f.getChildAtIndex(g-1):f.getChildAtIndex(c),D(g)&&(c=0,e&&(c=g.getTextContentSize()),b.set(g.getKey(),c,"text"),d.set(g.getKey(),c,"text")));else{if(H(f)){var h=f.getChildrenSize();c=(a=c>=h)?f.getChildAtIndex(h-1):f.getChildAtIndex(c);D(c)&&(f=0,a&&(f=c.getTextContentSize()),b.set(c.getKey(),f,"text"));}H(g)&&(c=g.getChildrenSize(),e=(b=e>=
c)?g.getChildAtIndex(c-1):g.getChildAtIndex(e),D(e)&&(g=0,b&&(g=e.getTextContentSize()),d.set(e.getKey(),g,"text")));}}function Ma(a,b){b=b.getEditorState()._selection;a=a._selection;if(null!==a){var c=a.anchor;var d=a.focus;var e;"text"===c.type&&(e=c.getNode(),e.selectionTransform(b,a));"text"===d.type&&(c=d.getNode(),e!==c&&c.selectionTransform(b,a));}}
function Oa(a,b){O();var c=a.__key;var d=a.getParent();if(null!==d){var e=I(),f=!1;if(null!==e&&b){var g=e.anchor;var h=e.focus;null!==g&&g.key===c&&(Pa(g,a,d),f=!0);null!==h&&h.key===c&&(Pa(h,a,d),f=!0);}g=d.getWritable().__children;c=g.indexOf(c);-1<c&&g.splice(c,1);a.getWritable().__parent=null;null!==e&&b&&!f&&Ka(e,d,c,-1);}}
function Pa(a,b,c){var d=null,e=0;var f=b.getPreviousSibling();D(f)?(d=f.__key,e=f.getTextContentSize()):(f=b.getNextSibling(),D(f)&&(d=f.__key));null!==d?a.set(d,e,"text"):(e=b.getIndexWithinParent(),a.set(c.__key,e,"block"));}function Qa(a){a=a.getTopParentBlockOrThrow();if(null!==a.getDirection()){var b=a.getTextContent(!1,!1);null===ja(b)&&a.setDirection(null);}}var
Ra=function(){Ra.clone=function clone(){p(21,this.constructor.name);};function Ra(a){this.__type="node";this.__flags=0;if(!a){O();a=t();var b=B(),c=""+da++;b._nodeMap.set(c,this);a._dirtyNodes.add(c);a._dirtyType=1;a=c;}this.__key=a;this.__parent=null;}var _proto3=Ra.prototype;_proto3.getType=function getType(){return this.__type;};_proto3.isAttached=function isAttached(){var a=this.__parent;if(null===a||null===u(this.__key))return!1;a=u(a);return null!==a&&a.isAttached();};_proto3.isSelected=function isSelected(){var a=B()._selection,b=this.__key;return null!==a&&a.anchor.key===b&&a.focus.key===b;};_proto3.getFlags=function getFlags(){return this.getLatest().__flags;};_proto3.getKey=function getKey(){return this.__key;};_proto3.getIndexWithinParent=function getIndexWithinParent(){var a=
this.getParent();return null===a?-1:a.__children.indexOf(this.__key);};_proto3.getParent=function getParent(){var a=this.getLatest().__parent;return null===a?null:u(a);};_proto3.getParentOrThrow=function getParentOrThrow(){var a=this.getParent();null===a&&p(22,this.__key);return a;};_proto3.getParentBlockOrThrow=function getParentBlockOrThrow(){var a=this;for(;null!==a;){if(a=a.getParent(),H(a))return a;}p(23,this.__key);};_proto3.getTopParentBlock=function getTopParentBlock(){var a=this;for(;null!==a;){var b=a.getParent();if(N(b)&&H(a))return a;a=b;}return null;};_proto3.getTopParentBlockOrThrow=function getTopParentBlockOrThrow(){var a=this.getTopParentBlock();null===a&&p(24,
this.__key);return a;};_proto3.getParents=function getParents(){var a=[];var b=this.getParent();for(;null!==b;){a.push(b),b=b.getParent();}return a;};_proto3.getParentKeys=function getParentKeys(){var a=[];var b=this.getParent();for(;null!==b;){a.push(b.__key),b=b.getParent();}return a;};_proto3.getPreviousSibling=function getPreviousSibling(){var a=this.getParent();if(null===a)return null;a=a.__children;var b=a.indexOf(this.__key);return 0>=b?null:u(a[b-1]);};_proto3.getPreviousSiblings=function getPreviousSiblings(){var a=this.getParent();if(null===a)return[];a=a.__children;var b=a.indexOf(this.__key);return a.slice(0,b).map(function(c){return(
Sa(c));});};_proto3.getNextSibling=function getNextSibling(){var a=this.getParent();if(null===a)return null;a=a.__children;var b=a.length,c=a.indexOf(this.__key);return c>=b-1?null:u(a[c+1]);};_proto3.getNextSiblings=function getNextSiblings(){var a=this.getParent();if(null===a)return[];a=a.__children;var b=a.indexOf(this.__key);return a.slice(b+1).map(function(c){return Sa(c);});};_proto3.getCommonAncestor=function getCommonAncestor(a){var b=this.getParents();var c=a.getParents();H(this)&&b.unshift(this);H(a)&&c.unshift(a);a=b.length;var d=c.length;if(0===a||0===d||b[a-1]!==c[d-1])return null;c=new Set(c);for(d=0;d<
a;d++){var e=b[d];if(c.has(e))return e;}return null;};_proto3.is=function is(a){return null==a?!1:this.getKey()===a.getKey();};_proto3.isBefore=function isBefore(a){if(a.isParentOf(this))return!0;if(this.isParentOf(a))return!1;var b=this.getCommonAncestor(a);var c=this;for(;;){var d=c.getParentOrThrow();if(d===b){d=d.__children.indexOf(c.__key);break;}c=d;}for(c=a;;){a=c.getParentOrThrow();if(a===b){b=a.__children.indexOf(c.__key);break;}c=a;}return d<b;};_proto3.isParentOf=function isParentOf(a){var b=this.__key;if(b===a.__key)return!1;for(;null!==a;){if(a.__key===b)return!0;
a=a.getParent();}return!1;};_proto3.getNodesBetween=function getNodesBetween(a){var b=this.isBefore(a),c=[],d=new Set();var e=this;var f=null;for(;;){var g=e.__key;d.has(g)||(d.add(g),c.push(e));if(e===a)break;g=H(e)?b?e.getFirstChild():e.getLastChild():null;if(null!==g)null===f&&(f=e),e=g;else if(g=b?e.getNextSibling():e.getPreviousSibling(),null!==g)e=g;else{g=e.getParentOrThrow();d.has(g.__key)||c.push(g);if(g===a)break;e=g;g.is(f)&&(f=null);do{null===e&&p(25),g=b?e.getNextSibling():e.getPreviousSibling(),e=e.getParent(),null!==
e&&(e.is(f)&&(f=null),null!==g||d.has(e.__key)||c.push(e));}while(null===g);e=g;}}b||c.reverse();return c;};_proto3.isImmutable=function isImmutable(){return 0!==(this.getLatest().__flags&1);};_proto3.isSegmented=function isSegmented(){return 0!==(this.getLatest().__flags&2);};_proto3.isInert=function isInert(){return 0!==(this.getLatest().__flags&4);};_proto3.isDirectionless=function isDirectionless(){return 0!==(this.getLatest().__flags&8);};_proto3.isDirty=function isDirty(){var a=t()._dirtyNodes;return null!==a&&a.has(this.__key);};_proto3.isComposing=function isComposing(){return this.__key===x();};_proto3.getLatest=function getLatest(){var a=u(this.__key);null===a&&p(26);return a;};_proto3.getWritable=function getWritable(){O();
var a=B(),b=t();a=a._nodeMap;var c=this.__key;var d=this.getLatest(),e=d.__parent;null!==e&&ma(e,a,b._dirtySubTrees);if(b._dirtyNodes.has(c))return d;b=d.constructor.clone(d);b.__parent=e;b.__flags=d.__flags;H(b)?b.__children=Array.from(d.__children):D(b)&&(b.__format=d.__format,b.__style=d.__style);b.__key=c;d=b.getLatest();var f=d.__parent,g=B();e=t();g=g._nodeMap;null!==f&&ma(f,g,e._dirtySubTrees);f=e._dirtyNodes;e._dirtyType=1;f.add(d.__key);a.set(c,b);return b;};_proto3.getTextContent=function getTextContent(){return"";};_proto3.getTextContentSize=function getTextContentSize(a,
b){return this.getTextContent(a,b).length;};_proto3.createDOM=function createDOM(){p(27);};_proto3.updateDOM=function updateDOM(){p(28);};_proto3.setFlags=function setFlags(a){O();this.isImmutable()&&p(29);var b=this.getWritable();this.getWritable().__flags=a;return b;};_proto3.makeImmutable=function makeImmutable(){O();var a=this.getWritable();a.__flags|=1;return a;};_proto3.makeSegmented=function makeSegmented(){O();var a=this.getWritable();a.__flags|=2;return a;};_proto3.makeInert=function makeInert(){O();var a=this.getWritable();a.__flags|=4;return a;};_proto3.makeDirectionless=function makeDirectionless(){O();var a=this.getWritable();a.__flags|=8;return a;};_proto3.remove=function remove(){O();Oa(this,!0);};_proto3.replace=function replace(a){O();
var b=this.__key;a=a.getWritable();var c=a.getParent();if(null!==c){c=c.getWritable().__children;var d=c.indexOf(a.__key);-1<d&&c.splice(d,1);}d=this.getParentOrThrow();var e=d.getWritable().__children,f=e.indexOf(this.__key);c=a.__key;-1<f&&e.splice(f,0,c);a.__parent=d.__key;Oa(this,!1);d=a.__flags;d&8&&Qa(a);e=(f=I())&&f.anchor;f=f&&f.focus;null!==e&&e.key===b&&Da(e,a);null!==f&&f.key===b&&Da(f,a);x()===b&&r(c);d&8&&Qa(a);return a;};_proto3.insertAfter=function insertAfter(a){O();var b=this.getWritable(),c=a.getWritable(),d=
c.getParent();if(null!==d){d=d.getWritable().__children;var e=d.indexOf(c.__key);-1<e&&d.splice(e,1);}d=this.getParentOrThrow().getWritable();e=c.__key;c.__parent=b.__parent;var f=d.__children;b=f.indexOf(b.__key);-1<b?f.splice(b+1,0,e):f.push(e);c.__flags&8&&Qa(c);c=I();null!==c&&Ka(c,d,b+1);return a;};_proto3.insertBefore=function insertBefore(a){O();var b=this.getWritable(),c=a.getWritable(),d=c.getParent();if(null!==d){d=d.getWritable().__children;var e=d.indexOf(c.__key);-1<e&&d.splice(e,1);}d=this.getParentOrThrow().getWritable();
e=c.__key;c.__parent=b.__parent;var f=d.__children;b=f.indexOf(b.__key);-1<b?f.splice(b,0,e):f.push(e);c.__flags&8&&Qa(c);c=I();null!==c&&Ka(c,d,b);return a;};_proto3.selectPrevious=function selectPrevious(a,b){O();var c=this.getPreviousSibling(),d=this.getParentBlockOrThrow();return null===c?d.select(0,0):D(c)?c.select(a,b):(a=c.getIndexWithinParent()+1,d.select(a,a));};_proto3.selectNext=function selectNext(a,b){O();var c=this.getNextSibling(),d=this.getParentBlockOrThrow();return null===c?d.select():D(c)?c.select(a,b):(a=c.getIndexWithinParent(),d.select(a,
a));};_proto3.markDirty=function markDirty(){this.getWritable();};return Ra;}();function Sa(a){a=u(a);null===a&&p(30);return a;}var
Ta=function(_Ra){babelHelpers.inheritsLoose(Ta,_Ra);function Ta(a){var _this;_this=_Ra.call(this,a)||this;_this.__children=[];return _this;}var _proto4=Ta.prototype;_proto4.getChildren=function getChildren(){var a=this.getLatest().__children,b=[];for(var c=0;c<a.length;c++){var d=u(a[c]);null!==d&&b.push(d);}return b;};_proto4.getChildrenSize=function getChildrenSize(){return this.getLatest().__children.length;};_proto4.isEmpty=function isEmpty(){return 0===this.getChildrenSize();};_proto4.getAllTextNodes=function getAllTextNodes(a){var b=[],c=this.getLatest().__children;for(var e=0;e<c.length;e++){var d=u(c[e]);!D(d)||!a&&d.isInert()?H(d)&&(d=d.getAllTextNodes(a),b.push.apply(b,d)):b.push(d);}return b;};_proto4.getFirstDescendant=function getFirstDescendant(){var a=
this.getFirstChild();for(;null!==a;){if(H(a)){var b=a.getFirstChild();if(null!==b){a=b;continue;}}break;}return a;};_proto4.getLastDescendant=function getLastDescendant(){var a=this.getLastChild();for(;null!==a;){if(H(a)){var b=a.getLastChild();if(null!==b){a=b;continue;}}break;}return a;};_proto4.getDescendantByIndex=function getDescendantByIndex(a){var b=this.getChildren(),c=b.length;if(0===c)return this;if(a>=c)return a=b[c-1],H(a)&&a.getLastDescendant()||a;a=b[a];return H(a)&&a.getFirstDescendant()||a;};_proto4.getFirstChild=function getFirstChild(){var a=this.getLatest().__children;return 0===a.length?
null:u(a[0]);};_proto4.getLastChild=function getLastChild(){var a=this.getLatest().__children,b=a.length;return 0===b?null:u(a[b-1]);};_proto4.getChildAtIndex=function getChildAtIndex(a){a=this.getLatest().__children[a];return void 0===a?null:u(a);};_proto4.getTextContent=function getTextContent(a,b){if(!a&&this.isInert()||!1===b&&this.isDirectionless())return"";var c="";var d=this.getChildren(),e=d.length;for(var f=0;f<e;f++){var g=d[f];c+=g.getTextContent(a,b);H(g)&&f!==e-1&&(c+="\n\n");}return c;};_proto4.getDirection=function getDirection(){var a=this.__flags;return a&32?"ltr":a&64?"rtl":null;};_proto4.select=function select(a,b){O();var c=
I();var d=this.getChildrenSize();void 0===a&&(a=d);void 0===b&&(b=d);d=this.__key;if(null===c)return Ia(d,a,d,b,"block","block");L(c.anchor,d,a,"block");L(c.focus,d,b,"block");c.dirty=!0;return c;};_proto4.selectStart=function selectStart(){var a=this.getFirstDescendant();return H(a)||D(a)?a.select(0,0):null!==a?a.selectPrevious():this.select(0,0);};_proto4.selectEnd=function selectEnd(){var a=this.getLastDescendant();return H(a)||D(a)?a.select():null!==a?a.selectNext():this.select();};_proto4.clear=function clear(){O();var a=this.getWritable();this.getChildren().forEach(function(b){return(
b.remove());});return a;};_proto4.append=function append(){O();for(var _len=arguments.length,a=new Array(_len),_key=0;_key<_len;_key++){a[_key]=arguments[_key];}var b=this.getWritable(),c=b.__key,d=b.__children,e=a.length;for(var g=0;g<e;g++){var h=a[g].getWritable();var f=h.getParent();if(null!==f){f=f.getWritable().__children;var k=f.indexOf(h.__key);-1<k&&f.splice(k,1);}h.__parent=c;d.push(h.__key);h.__flags&8&&Qa(h);}return b;};_proto4.insertNewAfter=function insertNewAfter(){return null;};_proto4.canInsertTab=function canInsertTab(){return!1;};_proto4.setDirection=function setDirection(a){O();var b=this.getWritable(),c=b.__flags;c&32&&(b.__flags^=32);c&64&&(b.__flags^=64);"ltr"===a?b.__flags|=32:"rtl"===
a&&(b.__flags|=64);return b;};_proto4.collapseAtStart=function collapseAtStart(){return!1;};_proto4.excludeFromCopy=function excludeFromCopy(){return!1;};_proto4.canReplaceWith=function canReplaceWith(){return!0;};_proto4.canInsertAfter=function canInsertAfter(){return!0;};_proto4.canBeEmpty=function canBeEmpty(){return!0;};return Ta;}(Ra);function H(a){return a instanceof Ta;}var
Ua=function(_Ta){babelHelpers.inheritsLoose(Ua,_Ta);Ua.clone=function clone(){return new Ua();};function Ua(){var _this2;_this2=_Ta.call(this,"root")||this;_this2.__type="root";_this2.__cachedText=null;return _this2;}var _proto5=Ua.prototype;_proto5.isAttached=function isAttached(){return!0;};_proto5.getTextContent=function getTextContent(a,b){var c=this.__cachedText;return!J&&0!==t()._dirtyType||null===c||a&&!1===b?_Ta.prototype.getTextContent.call(this,a,b):c;};_proto5.select=function select(){p(5);};_proto5.remove=function remove(){p(6);};_proto5.replace=function replace(){p(7);};_proto5.insertBefore=function insertBefore(){p(8);};_proto5.insertAfter=function insertAfter(){p(9);};_proto5.updateDOM=function updateDOM(){return!1;};_proto5.append=function append(){var _Ta$prototype$append;for(var _len2=arguments.length,a=new Array(_len2),_key2=0;_key2<_len2;_key2++){a[_key2]=arguments[_key2];}for(var b=0;b<a.length;b++){H(a[b])||p(10);}return(_Ta$prototype$append=_Ta.prototype.append).call.apply(_Ta$prototype$append,[this].concat(a));};_proto5.canBeEmpty=function canBeEmpty(){return!1;};return Ua;}(Ta);function Va(){return new Ua();}
function N(a){return a instanceof Ua;}function Wa(a,b){b=b.getEditorState()._selection;a=a._selection;if(null!==a){if(a.dirty||!a.is(b))return!0;}else if(null!==b)return!0;return!1;}function Xa(){return new Ya(new Map([["root",Va()]]));}var
Ya=function(){function Ya(a){this._nodeMap=a;this._selection=null;this._flushSync=!1;}var _proto6=Ya.prototype;_proto6.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto6.read=function read(a){a:{var c=P,d=J,e=Q;P=this;J=!0;Q=null;try{var b=a(F);break a;}finally{P=c,J=d,Q=e;}b=void 0;}return b;};_proto6.stringify=function stringify(a){var b=this._selection;return JSON.stringify({_nodeMap:Array.from(this._nodeMap.entries()),_selection:null===b?null:{anchor:{key:b.anchor.key,offset:b.anchor.offset,type:b.anchor.type},focus:{key:b.focus.key,offset:b.focus.offset,type:b.focus.type}}},
null,a);};return Ya;}();var Za=function(_Ra2){babelHelpers.inheritsLoose(Za,_Ra2);function Za(a){var _this3;_this3=_Ra2.call(this,a)||this;_this3.__type="decorator";_this3.__flags=1;return _this3;}var _proto7=Za.prototype;_proto7.decorate=function decorate(){p(19);};return Za;}(Ra);function C(a){return a instanceof Za;}function $a(a,b){return b&1?"strong":b&2?"em":"span";}function ab(a,b){var c=a[b];return"string"===typeof c?(c=c.split(" "),a[b]=c):c;}
function bb(a,b,c,d,e){var _a3,_a4,_a5;a=d.classList;d=ab(e,"base");void 0!==d&&(_a3=a).add.apply(_a3,d);d=ab(e,"underlineStrikethrough");var f=!1;var g=b&8&&b&4;var h=c&8&&c&4;void 0!==d&&(h?(f=!0,g||(_a4=a).add.apply(_a4,d)):g&&(_a5=a).remove.apply(_a5,d));for(var k in ca){var _a6,_a7,_a8;h=ca[k],d=ab(e,k),void 0!==d&&(c&h?!f||"underline"!==k&&"strikethrough"!==k?(0===(b&h)||g&&"underline"===k||"strikethrough"===k)&&(_a6=a).add.apply(_a6,d):b&h&&(_a7=a).remove.apply(_a7,d):b&h&&(_a8=a).remove.apply(_a8,d));}}
function cb(a,b,c){var d=b.firstChild;c=c.isComposing()?"\u00A0":"";a+=c;null==d?b.textContent=a:d.nodeValue!==a&&(d.nodeValue=a);}var
db=function(_Ra3){babelHelpers.inheritsLoose(db,_Ra3);db.clone=function clone(a){return new db(a.__text,a.__key);};function db(a,b){var _this4;_this4=_Ra3.call(this,b)||this;_this4.__text=a;_this4.__type="text";_this4.__format=0;_this4.__style="";return _this4;}var _proto8=db.prototype;_proto8.getFormat=function getFormat(){return this.getLatest().__format;};_proto8.getStyle=function getStyle(){return this.getLatest().__style;};_proto8.isBold=function isBold(){return 0!==(this.getFormat()&1);};_proto8.isItalic=function isItalic(){return 0!==(this.getFormat()&2);};_proto8.isStrikethrough=function isStrikethrough(){return 0!==(this.getFormat()&4);};_proto8.isUnderline=function isUnderline(){return 0!==(this.getFormat()&8);};_proto8.isCode=function isCode(){return 0!==(this.getFormat()&16);};_proto8.isUnmergeable=function isUnmergeable(){return 0!==(this.getFlags()&
16);};_proto8.isSimpleText=function isSimpleText(){return"text"===this.__type&&!this.isImmutable()&&!this.isInert()&&!this.isSegmented();};_proto8.getTextContent=function getTextContent(a,b){return!a&&this.isInert()||!1===b&&this.isDirectionless()?"":this.getLatest().__text;};_proto8.getTextNodeFormat=function getTextNodeFormat(a,b){var c=this.getLatest().__format;return la(c,a,b);};_proto8.createDOM=function createDOM(a){var b=this.__format,c=b&16?"code":null;var d=$a(this,b),e=document.createElement(null===c?d:c);var f=e;null!==c&&(f=document.createElement(d),e.appendChild(f));c=f;cb(this.__text,c,this);a=a.theme.text;void 0!==
a&&bb(d,0,b,c,a);b=this.__style;""!==b&&(e.style.cssText=b);return e;};_proto8.updateDOM=function updateDOM(a,b,c){var d=this.__text;var e=a.__format,f=this.__format,g=e&16?"code":null;var h=f&16?"code":null;var k=$a(this,e);var l=$a(this,f);if((null===g?k:g)!==(null===h?l:h))return!0;if(g===h&&k!==l)return e=b.firstChild,null==e&&p(11),a=g=document.createElement(l),cb(d,a,this),c=c.theme.text,void 0!==c&&bb(l,0,f,a,c),b.replaceChild(g,e),!1;k=b;null!==h&&null!==g&&(k=b.firstChild,null==k&&p(12));cb(d,k,this);c=c.theme.text;
void 0!==c&&e!==f&&bb(l,e,f,k,c);f=this.__style;a.__style!==f&&(b.style.cssText=f);return!1;};_proto8.selectionTransform=function selectionTransform(){};_proto8.setFormat=function setFormat(a){O();this.isImmutable()&&p(13);var b=this.getWritable();this.getWritable().__format=a;return b;};_proto8.setStyle=function setStyle(a){O();this.isImmutable()&&p(14);var b=this.getWritable();this.getWritable().__style=a;return b;};_proto8.toggleBold=function toggleBold(){return this.setFormat(this.getFormat()^1);};_proto8.toggleItalics=function toggleItalics(){return this.setFormat(this.getFormat()^2);};_proto8.toggleStrikethrough=function toggleStrikethrough(){return this.setFormat(this.getFormat()^
4);};_proto8.toggleUnderline=function toggleUnderline(){return this.setFormat(this.getFormat()^8);};_proto8.toggleCode=function toggleCode(){return this.setFormat(this.getFormat()^16);};_proto8.toggleUnmergeable=function toggleUnmergeable(){return this.setFlags(this.getFlags()^16);};_proto8.setTextContent=function setTextContent(a){O();this.isImmutable()&&p(15);var b=this.getWritable(),c=this.getTopParentBlock();if(null!==c){var d=""===a&&""===c.getTextContent(!1,!1);b.__text=a;var e=c.getDirection();null===e||d?(a=ja(a),null!==a&&c.setDirection(a)):null!==e&&""===a&&""===c.getTextContent()&&c.setDirection(null);}else b.__text=
a;return b;};_proto8.select=function select(a,b){O();var c=I();var d=this.getTextContent();var e=this.__key;"string"===typeof d?(d=d.length,void 0===a&&(a=d),void 0===b&&(b=d)):b=a=0;if(null===c)return Ia(e,a,e,b,"text","text");d=x();d!==c.anchor.key&&d!==c.focus.key||r(e);c.setTextNodeRange(this,a,this,b);return c;};_proto8.spliceText=function spliceText(a,b,c,d){O();this.isImmutable()&&p(16);var e=this.getWritable(),f=e.__text,g=c.length;var h=a;0>h&&(h=g+h,0>h&&(h=0));d&&(d=I(),null===d&&p(17),a+=g,d.setTextNodeRange(e,a,e,a));b=f.slice(0,h)+
c+f.slice(h+b);return e.setTextContent(b);};_proto8.canInsertTextAtEnd=function canInsertTextAtEnd(){return!0;};_proto8.splitText=function splitText(){var _d;for(var _len3=arguments.length,a=new Array(_len3),_key3=0;_key3<_len3;_key3++){a[_key3]=arguments[_key3];}O();this.isImmutable()&&p(18);var b=this.getTextContent(),c=this.__key,d=x(),e=new Set(a);a=[];var f=b.length,g="";for(var h=0;h<f;h++){""!==g&&e.has(h)&&(a.push(g),g=""),g+=b[h];}""!==g&&a.push(g);e=a.length;if(0===e)return[];if(a[0]===b)return[this];var k=a[0];b=this.getParentOrThrow();var l=b.__key,m=this.getFormat(),n=this.getStyle();f=!1;this.isSegmented()?(h=eb(k),h.__parent=l,h.__format=m,h.__style=n,f=
!0):(h=this.getWritable(),h.__text=k);g=I();h=[h];k=k.length;for(var w=1;w<e;w++){var q=a[w],v=q.length;q=eb(q).getWritable();q.__format=m;q.__style=n;var z=q.__key;v=k+v;if(null!==g){var G=g.anchor,y=g.focus;G.key===c&&"text"===G.type&&G.offset>k&&G.offset<=v&&(G.key=z,G.offset-=k,g.dirty=!0);y.key===c&&"text"===y.type&&y.offset>k&&y.offset<=v&&(y.key=z,y.offset-=k,g.dirty=!0);}d===c&&r(z);k=v;q.__parent=l;h.push(q);}d=b.getWritable().__children;c=d.indexOf(c);a=h.map(function(w){return w.__key;});(_d=d).splice.apply(_d,[c,1].concat(
a));f&&this.remove();null!==g&&Ka(g,b,c,e-1);return h;};return db;}(Ra);function eb(a){if(a===void 0){a="";}return new db(a);}function D(a){return a instanceof db;}var fb=function(_Ra4){babelHelpers.inheritsLoose(fb,_Ra4);fb.clone=function clone(a){return new fb(a.__key);};function fb(a){var _this5;_this5=_Ra4.call(this,a)||this;_this5.__type="linebreak";return _this5;}var _proto9=fb.prototype;_proto9.getTextContent=function getTextContent(){return"\n";};_proto9.createDOM=function createDOM(){return document.createElement("br");};_proto9.updateDOM=function updateDOM(){return!1;};return fb;}(Ra);function Ea(a){return a instanceof fb;}var R="",S="",gb,T,hb=!1,ib,jb,kb,V,W,lb;
function mb(a,b){var c=kb.get(a);if(null!==b){var d=lb.get(a);void 0===d&&p(43);b.removeChild(d);}V.has(a)||T._keyToDOMMap["delete"](a);H(c)&&(a=c.__children,nb(a,0,a.length-1,null));}function nb(a,b,c,d){for(;b<=c;++b){var e=a[b];void 0!==e&&mb(e,d);}}
function ob(a,b,c){var d=V.get(a);void 0===d&&p(40);var e=d.createDOM(gb);var f=d.__flags;f&=4;var g=T._keyToDOMMap;e.__outlineInternalRef=a;g.set(a,e);D(d)?e.setAttribute("data-Outline-text","true"):C(d)&&e.setAttribute("data-Outline-decorator","true");f&&(f=e.style,f.pointerEvents="none",f.userSelect="none",e.contentEditable="false",f.setProperty("-webkit-user-select","none"));H(d)?(d=pb(d),f=d.__flags,f&32?e.dir="ltr":f&64&&(e.dir="rtl"),a=d.__children,d=a.length,0!==d&&qb(a,0,d-1,e,null),
wb(null,a,e)):(C(d)&&(f=d.decorate(T),null!==f&&xb(a,f),e.contentEditable="false"),a=d.getTextContent(),R+=a,S+=a);null!==b&&(null!=c?b.insertBefore(e,c):(c=b.__outlineLineBreak,null!=c?b.insertBefore(e,c):b.appendChild(e)));return e;}function qb(a,b,c,d,e){var f=R;for(R="";b<=c;++b){ob(a[b],d,e);}d.__outlineTextContent=R;R=f+R;}function yb(a,b){a=b.get(a[a.length-1]);return Ea(a)||C(a);}
function wb(a,b,c){a=null!==a&&(0===a.length||yb(a,kb));b=null!==b&&(0===b.length||yb(b,V));a?b||(b=c.__outlineLineBreak,null!=b&&c.removeChild(b),c.__outlineLineBreak=null):b&&(b=document.createElement("br"),c.__outlineLineBreak=b,c.appendChild(b));}
function zb(a,b){var c=kb.get(a),d=V.get(a);void 0!==c&&void 0!==d||p(41);var e=hb||jb.has(a)||ib.has(a);var f=X(T,a);if(c===d&&!e)return H(c)?(d=f.__outlineTextContent,void 0!==d&&(R+=d,S+=d)):(d=c.getTextContent(),S+=d,R+=d),f;if(d.updateDOM(c,f,gb))return d=ob(a,null,null),null===b&&p(42),b.replaceChild(d,f),mb(a,null),d;if(H(c)&&H(d)){if(d=pb(d),a=c.__flags,b=d.__flags,b&32?0===(a&32)&&(f.dir="ltr"):b&64?0===(a&64)&&(f.dir="rtl"):(a&32||a&64)&&f.removeAttribute("dir"),a=c.__children,c=d.__children,
a!==c||e){var g=a;b=c;e=R;R="";var h=g.length,k=b.length;if(1===h&&1===k){var l=g[0];b=b[0];if(l===b)zb(l,f);else{var m=X(T,l);b=ob(b,null,null);f.replaceChild(b,m);mb(l,null);}}else if(0===h)0!==k&&qb(b,0,k-1,f,null);else if(0===k)0!==h&&(l=null==f.__outlineLineBreak,nb(g,0,h-1,l?null:f),l&&(f.textContent=""));else{var q=h-1;h=k-1;var v=f.firstChild,w=0;for(k=0;w<=q&&k<=h;){var n=g[w];var z=b[k];if(n===z)v=zb(z,f).nextSibling,w++,k++;else{void 0===l&&(l=new Set(g));void 0===m&&(m=new Set(b));
var G=m.has(n),y=l.has(z);G?(y?(n=X(T,z),n===v?v=zb(z,f).nextSibling:(null!=v?f.insertBefore(n,v):f.appendChild(n),zb(z,f)),w++):ob(z,f,v),k++):(v=X(T,n).nextSibling,mb(n,f),w++);}}l=w>q;m=k>h;l&&!m?(l=b[h+1],l=void 0===l?null:T.getElementByKey(l),qb(b,k,h,f,l)):m&&!l&&nb(g,w,q,f);}f.__outlineTextContent=R;R=e+R;N(d)||wb(a,c,f);}}else C(d)&&(c=d.decorate(T),null!==c&&xb(a,c)),a=d.getTextContent(),R+=a,S+=a;N(d)&&d.__cachedText!==S&&(d=d.getWritable(),d.__cachedText=S);return f;}
function xb(a,b){var c=T._pendingDecorators;var d=T._decorators;if(null===c){if(d[a]===b)return;c=ra(T);}c[a]=b;}function X(a,b){a=a._keyToDOMMap.get(b);void 0===a&&p(43);return a;}function Ab(a,b,c,d,e){d=a.offset;return b===a.key?(a.offset=e+d,a.key=c,!0):!1;}
function Bb(a,b,c){var d=a[0][0].getWritable();var e=d.__key,f=x(),g=d.__parent;var h=d.getTextContentSize(),k=!1;for(var m=1;m<a.length;m++){var l=a[m];var n=l[0];l[1]-m+1;l=n.getTextContent();var q=n.__key;f===q&&r(e);null!==b&&Ab(b,q,e,g,h)&&(k=!0);null!==c&&Ab(c,q,e,g,h)&&(k=!0);d=d.spliceText(h,0,l);h+=l.length;n.remove();}k&&null!==W&&(W.dirty=!0);}function Cb(a,b,c,d){return b===a.key?(a.offset=d,a.key=c,a.type="block",!0):!1;}
function Db(a,b,c){var d=a[0];a=d[0];d=d[1];var e=a.__key,f=a.__parent;var g=!1;x()!==e&&(null!==b&&null!==f&&Cb(b,e,f,d)&&(g=!0),null!==c&&null!==f&&Cb(c,e,f,d)&&(g=!0),g&&null!==W&&(W.dirty=!0),a.remove());}
function pb(a){var b=a.getChildren();var c=[],d=null,e=null,f=null,g=null,h=null,k=!1;null!==W&&(g=W.anchor,h=W.focus);var l=0;for(var m=0;m<b.length;m++){var n=b[m],q=m-l;if(!D(n)||"text"!==n.__type||n.isImmutable()||n.isSegmented()||n.isUnmergeable())1<c.length?Bb(c,g,h):k&&(Db(c,g,h),l++),k=!1,c=[],f=e=d=null;else{var v=n.__flags,w=n.__format,z=n.__style;null!==d&&v!==d||null!==e&&w!==e||null!==f&&z!==f?(1<c.length?Bb(c,g,h):k&&(Db(c,g,h),l++),c=[[n,q]]):c.push([n,q]);k=""===n.__text;d=v;
e=w;f=z;}}1<c.length?Bb(c,g,h):k&&Db(c,g,h);return a.getLatest();}function Eb(a,b,c){a=a.__children;var d=a.length;for(var e=0;e<d;e++){var f=a[e],g=c.get(f);void 0!==g&&g.__parent===b&&(H(g)&&Eb(g,f,c),c["delete"](f));}}function Fb(a,b){b=Array.from(b);a=a._nodeMap;for(var c=0;c<b.length;c++){var d=b[c],e=a.get(d);void 0===e||e.isAttached()||(H(e)&&Eb(e,d,a),a["delete"](d));}}
function Gb(a,b,c,d,e){if(e===void 0){e={};}var f=c._nodeTypes.get(a.__type);void 0===f&&p(39);var g=a.__key;a.__key=void 0;f=f.clone(a);a.__key=g;g=f.__key;N(f)&&B()._nodeMap.set("root",f);f.__flags=a.__flags;f.__parent=d;if(H(f)){d=a.__children;for(var k=0;k<d.length;k++){var h=b.get(d[k]);void 0!==h&&(h=Gb(h,b,c,g,e).getKey(),f.__children.push(h));}}else D(f)&&(f.__format=a.__format,f.__style=a.__style);b=null!=e?e.originalSelection:void 0;null!=b&&(a.__key===b.anchor.key&&(e.remappedSelection=e.remappedSelection||
{anchor:babelHelpers["extends"]({},b.anchor),focus:babelHelpers["extends"]({},b.focus)},e.remappedSelection.anchor.key=f.__key),a.__key===b.focus.key&&(e.remappedSelection=e.remappedSelection||{anchor:babelHelpers["extends"]({},b.anchor),focus:babelHelpers["extends"]({},b.focus)},e.remappedSelection.focus.key=f.__key));return f;}var P=null,Q=null,Y=!1,J=!1,Hb=!1;
var F={getRoot:function getRoot(){return B()._nodeMap.get("root");},getNodeByKey:u,getSelection:I,clearSelection:function clearSelection(){B()._selection=null;},setSelection:function setSelection(a){B()._selection=a;},setCompositionKey:function setCompositionKey(a){O();r(a);},getCompositionKey:x,getNearestNodeFromDOMNode:oa,flushMutations:function flushMutations(){O();var a=t();za(a);}};function O(){J&&p(33);}function B(){null===P&&p(35);return P;}function t(){null===Q&&p(36);return Q;}
function Ib(a,b,c){c=c._textNodeTransforms;if(0<c.size){a=a._nodeMap;b=Array.from(b);c=Array.from(c);var d=x();for(var e=0;e<b.length;e++){var f=a.get(b[e]);if(void 0!==f&&D(f)&&f.__key!==d&&!Ea(f)&&f.isAttached()&&!f.isImmutable()&&!f.isSegmented())for(var g=0;g<c.length&&(c[g](f,F),f.isAttached());g++){;}}}}
function Z(a){var b=a._pendingEditorState,c=a._rootElement;if(null!==c&&null!==b){var d=a._editorState,e=d._selection,f=b._selection,g=0!==a._dirtyType;a._pendingEditorState=null;a._editorState=b;var h=P,k=J,l=Q;Q=a;P=b;J=!1;try{var m=a._observer;if(g&&null!==m){var n=a._dirtyType,q=a._dirtySubTrees,v=a._dirtyNodes;m.disconnect();try{S=R="",hb=2===n,T=a,gb=a._config,ib=q,jb=v,kb=d._nodeMap,V=b._nodeMap,W=f,lb=new Map(a._keyToDOMMap),zb("root",null),lb=gb=W=V=kb=jb=ib=T=void 0;}finally{m.observe(c,
{childList:!0,subtree:!0,characterData:!0});}}var w=window.getSelection();if(null!==w&&(g||null===f||f.dirty)){m=w;var U=m.anchorNode,pa=m.focusNode,Mb=m.anchorOffset,Nb=m.focusOffset;if(null===f)null!==e&&ha(a,U,pa)&&m.removeAllRanges();else{var z=f.anchor,G=f.focus,y=G.key,rb=X(a,z.key),sb=X(a,y),tb=z.offset,ub=G.offset;y=rb;w=sb;"text"===z.type&&(y=ka(rb));"text"===G.type&&(w=ka(sb));if(null!==y&&null!==w){var Na=document.activeElement,qa=a._rootElement;if(Mb===tb&&Nb===ub&&U===y&&pa===w)null===
qa||null!==Na&&qa.contains(Na)||qa.focus({preventScroll:!0});else try{if(m.setBaseAndExtent(y,tb,w,ub),f.isCollapsed()&&qa===Na){var ia=3===y.nodeType?y.parentNode:y;if(null!==ia){var vb=ia.getBoundingClientRect();vb.bottom>window.innerHeight?ia.scrollIntoView(!1):0>vb.top&&ia.scrollIntoView();}}}catch(ia){}}}}}catch(U){E("error",a,!1,U,U._log);Hb||(Jb(a,null,c,b),Aa(a),a._dirtyType=2,Hb=!0,a._log.push("ReconcileRecover"),Z(a),Hb=!1);return;}finally{P=h,J=k,Q=l;}c=g||null===f||f.dirty||!f.is(e);
e=a._dirtyNodes;f=a._log;a._log=[];g&&(a._dirtyType=0,a._dirtyNodes=new Set(),a._dirtySubTrees=new Set());g=a._decorators;h=a._pendingDecorators||g;k=b._nodeMap;for(var A in h){k.has(A)||(h===g&&(h=ra(a)),delete h[A]);}A=a._pendingDecorators;null!==A&&(a._decorators=A,a._pendingDecorators=null,E("decorator",a,!0,A));d=ta(d);A=a._pendingEditorState;A=null!==A?ta(A):ta(b);d!==A&&E("textcontent",a,!0,A);E("update",a,!0,{editorState:b,dirty:c,dirtyNodes:e,log:f});b=a._deferred;a._deferred=[];if(0!==b.length){d=
Y;Y=!0;try{for(A=0;A<b.length;A++){b[A]();}}finally{Y=d;}}b=a._updates;if(0!==b.length){var _b$shift=b.shift(),_U=_b$shift[0],_pa=_b$shift[1];Kb(a,_U,_pa);}}}function E(a,b,c){var e=Y;Y=c;try{var f=Array.from(b._listeners[a]);for(var _len4=arguments.length,d=new Array(_len4>3?_len4-3:0),_key4=3;_key4<_len4;_key4++){d[_key4-3]=arguments[_key4];}for(a=0;a<f.length;a++){f[a].apply(f,d);}}finally{Y=e;}}function Lb(a,b){for(a=a._updates;0!==a.length;){var _a$shift=a.shift(),c=_a$shift[0],d=_a$shift[1];d&&b.push(d);c(F);}}
function Kb(a,b,c){var d=a._deferred;c&&d.push(c);c=a._pendingEditorState;var e=!1;null===c&&(c=a._pendingEditorState=new Ya(new Map(a._editorState._nodeMap)),e=!0);var f=P,g=J,h=Q,k=Y;P=c;J=!1;Y=!0;Q=a;try{e&&(c._selection=Ja(a));var l=a._compositionKey;b(F);Lb(a,d);Ma(c,a);if(0!==a._dirtyType){var n=a._dirtyNodes;c.isEmpty()&&p(37);Ib(c,n,a);Lb(a,d);Fb(c,n,a);}l!==a._compositionKey&&(c._flushSync=!0);var m=c._selection;if(null!==m){var _n=c._nodeMap,q=m.focus.key;void 0!==_n.get(m.anchor.key)&&
void 0!==_n.get(q)||p(38);}}catch(l){E("error",a,!1,l,a._log);a._pendingEditorState=a._editorState;a._dirtyType=2;a._dirtyNodes=new Set();a._dirtySubTrees=new Set();a._log.push("UpdateRecover");Z(a);return;}finally{P=f,J=g,Q=h,Y=k;}0!==a._dirtyType||Wa(c,a)?c._flushSync?(c._flushSync=!1,Z(a)):e&&fa(function(){Z(a);}):e&&(a._pendingEditorState=null);}
function Jb(a,b,c,d){var e=a._keyToDOMMap;e.clear();a._editorState=Xa();a._pendingEditorState=d;a._compositionKey=null;a._dirtyType=0;a._dirtyNodes=new Set();a._dirtySubTrees=new Set();a._log=[];a._updates=[];d=a._observer;null!==d&&(d.disconnect(),a._observer=null);null!==b&&(b.textContent="");null!==c&&(c.textContent="",e.set("root",c));}var
Ob=function(){function Ob(a,b){this._rootElement=null;this._editorState=a;this._compositionKey=this._pendingEditorState=null;this._deferred=[];this._keyToDOMMap=new Map();this._updates=[];this._listeners={decorator:new Set(),error:new Set(),textcontent:new Set(),textmutation:new Set(),root:new Set(),update:new Set()};this._config=b;this._textNodeTransforms=new Set();this._nodeTypes=new Map([["text",db],["linebreak",fb],["root",Ua]]);this._decorators={};this._pendingDecorators=null;this._dirtyType=0;this._dirtyNodes=new Set();
this._dirtySubTrees=new Set();this._observer=null;this._log=[];}var _proto10=Ob.prototype;_proto10.isComposing=function isComposing(){return null!=this._compositionKey;};_proto10.isEmpty=function isEmpty(a){if(a===void 0){a=!0;}if(this.isComposing())return!1;var b=this.getCurrentTextContent();a&&(b=b.trim());return""===b;};_proto10.registerNodeType=function registerNodeType(a,b){this._nodeTypes.set(a,b);};_proto10.addListener=function addListener(a,b){var _this6=this;var c=this._listeners[a];c.add(b);var d="root"===a;a="textcontent"===a;d?b(this._rootElement,null):a&&(a=ta(this._editorState),b(a));return function(){c["delete"](b);d&&b(null,_this6._rootElement);};};_proto10.addTextNodeTransform=function addTextNodeTransform(a){var _this7=this;this._textNodeTransforms.add(a);
this.update(function(){var b=B()._nodeMap;b=Array.from(b);for(var c=0;c<b.length;c++){var d=b[c][1];D(d)&&d.markDirty();}});return function(){_this7._textNodeTransforms["delete"](a);};};_proto10.getDecorators=function getDecorators(){return this._decorators;};_proto10.getRootElement=function getRootElement(){return this._rootElement;};_proto10.getCurrentTextContent=function getCurrentTextContent(){return ta(this._editorState);};_proto10.setRootElement=function setRootElement(a){var b=this._rootElement;if(a!==b){var c=this._pendingEditorState||this._editorState;this._rootElement=a;Jb(this,b,a,c);null!==b&&(b.__outlineEditor=null);null!==a&&(a.setAttribute("data-Outline-editor",
"true"),this._dirtyType=2,Aa(this),Z(this),a.__outlineEditor=this);E("root",this,!1,a,b);}};_proto10.getElementByKey=function getElementByKey(a){return this._keyToDOMMap.get(a)||null;};_proto10.getEditorState=function getEditorState(){return this._editorState;};_proto10.setEditorState=function setEditorState(a){a.isEmpty()&&p(20);za(this);null!==this._pendingEditorState&&Z(this);this._pendingEditorState=a;this._dirtyType=2;this._compositionKey=null;Z(this);};_proto10.parseEditorState=function parseEditorState(a){var b=JSON.parse(a);a=new Map();a=new Ya(a);var c={originalSelection:b._selection},d=J,e=Q;P=a;J=!1;Q=this;try{var f=new Map(b._nodeMap);
var g=f.get("root");Gb(g,f,this,null,c);}finally{P=a,J=d,Q=e;}f=c.remappedSelection||c.originalSelection;f=null===f?null:new M(K(f.anchor.key,f.anchor.offset,f.anchor.type),K(f.focus.key,f.focus.offset,f.focus.type),0);a._selection=f;return a;};_proto10.update=function update(a,b){Y?this._updates.push([a,b]):Kb(this,a,b);};_proto10.focus=function focus(a){var b=this._rootElement;null!==b&&(b.setAttribute("autocapitalize","off"),this.update(function(c){var d=c.getSelection();c=c.getRoot();null!==d?d.dirty=!0:0!==c.getChildrenSize()&&c.selectEnd();},function(){b.removeAttribute("autocapitalize");
a&&a();}));};_proto10.canShowPlaceholder=function canShowPlaceholder(){if(!this.isEmpty(!1))return!1;var a=this._editorState._nodeMap,b=a.get("root").__children,c=b.length;if(1<c)return!1;for(var e=0;e<c;e++){var d=a.get(b[e]);if(H(d)){if("paragraph"!==d.__type)return!1;d=d.__children;for(var f=0;f<d.length;f++){var g=a.get(d[f]);if(!D(g))return!1;}}}return!0;};return Ob;}();exports.BlockNode=Ta;exports.DecoratorNode=Za;exports.RootNode=Ua;exports.TextNode=db;
exports.createEditor=function(a){var b=a||{};a=b.theme||{};var c=b.context||{},d=Xa();b=b.initialEditorState;a=new Ob(d,{context:c,theme:a});void 0!==b&&(a._pendingEditorState=b,a._dirtyType=2);return a;};exports.createLineBreakNode=function(){return new fb();};exports.createNodeFromParse=function(a,b){O();var c=t();return Gb(a,b,c,null);};exports.createRootNode=Va;exports.createSelection=function(){var a=K("root",0,"block"),b=K("root",0,"block");return new M(a,b,0);};exports.createTextNode=eb;
exports.isBlockNode=H;exports.isDecoratorNode=C;exports.isLeafNode=function(a){return D(a)||Ea(a)||C(a);};exports.isLineBreakNode=Ea;exports.isRootNode=N;exports.isTextNode=D;exports.log=sa;}),null);
__d("OutlineHistoryHelpers",["cr:9991"],(function(a,b,c,d,e,f){e.exports=b("cr:9991")}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("OutlineHistoryHelpers.prod",[],(function $module_OutlineHistoryHelpers_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var c=new Set();exports.editorStatesWithoutHistory=c;exports.updateWithoutHistory=function(a,b){b=a.update(b);a=a._pendingEditorState;null!==a&&c.add(a);return b;};}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("OutlineParagraphNode.prod",["Outline"],(function $module_OutlineParagraphNode_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var
d=function(_c$BlockNode){babelHelpers.inheritsLoose(d,_c$BlockNode);d.clone=function clone(a){return new d(a.__key);};function d(a){var _this;_this=_c$BlockNode.call(this,a)||this;_this.__type="paragraph";return _this;}var _proto=d.prototype;_proto.createDOM=function createDOM(a){var b=document.createElement("p");a=a.theme.paragraph;void 0!==a&&(b.className=a);return b;};_proto.updateDOM=function updateDOM(){return!1;};_proto.insertNewAfter=function insertNewAfter(){var a=e(),b=this.getDirection();a.setDirection(b);this.insertAfter(a);return a;};_proto.collapseAtStart=function collapseAtStart(){var a=this.getChildren();var b=this.getNextSibling();return require("Outline").isBlockNode(b)&&0===this.getIndexWithinParent()&&(0===a.length||require("Outline").isTextNode(a[0])&&
""===a[0].getTextContent().trim())?(a=b.getFirstChild(),require("Outline").isTextNode(a)?a.select(0,0):b.select(0,0),this.remove(),!0):!1;};return d;}(require("Outline").BlockNode);function e(){return new d();}exports.ParagraphNode=d;exports.createParagraphNode=e;exports.isParagraphNode=function(a){return a instanceof d;};}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("useOutlineCharacterLimit.prod",["Outline","OutlineHistoryHelpers","OutlineListItemNode","OutlineListNode","react"],(function $module_useOutlineCharacterLimit_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var c_react;require("OutlineListNode");require("OutlineListItemNode");var q=c_react||(c_react=require("react"));function r(a,b){for(b(a);null!==a;){if(require("Outline").isBlockNode(a)&&0<a.getChildrenSize())a=a.getFirstChild();else{var g=null;for(;null===g&&null!==a;){g=a.getNextSibling(),a=null===g?a.getParent():g;}}null!==a&&(a=b(a));}}
function t(a,b,g){var e=Intl.Segmenter;var f=0;var c=0;if("function"===typeof e){a=new e().segment(a);for(var _iterator=a,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray){if(_i>=_iterator.length)break;_ref2=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref2=_i.value;}var _ref=_ref2;var d=_ref.segment;c+=g(d);if(c>b)break;f+=d.length;}}else for(d=Array.from(a),a=d.length,e=0;e<a;e++){var h=d[e];c+=g(h);if(c>b)break;f+=h.length;}return f;}
function u(a,b){var g=a.getRoot();var e=0,f=g;r(g,function(c){var _c$splitText;if(v(c)){var d=e;if(e+c.getTextContentSize()<=b){var h=c.getParent();d=c.getPreviousSibling();var m=c.getNextSibling();w(c);c=a.getSelection();null===c||c.anchor.getNode().isAttached()&&c.focus.getNode().isAttached()||(require("Outline").isTextNode(d)?d.select():require("Outline").isTextNode(m)?m.select():null!==h&&h.select());return f;}if(d<b&&(h=c.getFirstDescendant(),m=null!==h?h.getTextContentSize():0,d+=m,h=require("Outline").isTextNode(h)&&h.isSimpleText(),d=d<=b,h||d))return w(c),f;}else require("Outline").isLeafNode(c)&&(
d=e,e+=c.getTextContentSize(),e>b&&!v(c.getParent())&&(h=a.getSelection(),d<b&&require("Outline").isTextNode(c)&&c.isSimpleText()?((_c$splitText=c.splitText(b-d),d=_c$splitText[1],_c$splitText),d=x(d)):d=x(c),null!==h&&a.setSelection(h),y(d,a)));return f=c;});}var
z=function(_k$BlockNode){babelHelpers.inheritsLoose(z,_k$BlockNode);z.clone=function clone(a){return new z(a.__key);};function z(a){var _this;_this=_k$BlockNode.call(this,a)||this;_this.__type="overflow";return _this;}var _proto=z.prototype;_proto.createDOM=function createDOM(a){var b=document.createElement("div");a=a.theme.characterLimit;"string"===typeof a&&(b.className=a);return b;};_proto.updateDOM=function updateDOM(){return!1;};_proto.insertNewAfter=function insertNewAfter(a){return this.getParentOrThrow().insertNewAfter(a);};_proto.excludeFromCopy=function excludeFromCopy(){return!0;};return z;}(require("Outline").BlockNode);function A(){return new z();}function v(a){return a instanceof z;}function x(a){var b=A();a.insertBefore(b);b.append(a);return b;}
function w(a){var b=a.getChildren(),g=b.length;for(var e=0;e<g;e++){a.insertBefore(b[e]);}a.remove();return 0<g?b[g-1]:null;}
function y(a,b){var g=a.getPreviousSibling();if(v(g)){var e=a.getFirstChild(),f=g.getChildren(),c=f.length;if(null===e)a.append.apply(a,f);else for(var d=0;d<c;d++){e.insertBefore(f[d]);}f=b.getSelection();null!==f&&(b=f.anchor,e=b.getNode(),f=f.focus,d=b.getNode(),e.is(g)?b.set(a.getKey(),b.offset,"block"):e.is(a)&&b.set(a.getKey(),c+b.offset,"block"),d.is(g)?f.set(a.getKey(),f.offset,"block"):d.is(a)&&f.set(a.getKey(),c+f.offset,"block"));g.remove();}}exports.OverflowNode=z;
exports.createOverflowNode=A;exports.isOverflowNode=v;exports.mergePrevious=y;
exports.useCharacterLimit=function(a,b,g){if(g===void 0){g={};}var _g=g,_g$strlen=_g.strlen,e=_g$strlen===void 0?function(c){return c.length;}:_g$strlen,_g$remainingCharacter=_g.remainingCharacters,f=_g$remainingCharacter===void 0?function(){}:_g$remainingCharacter;q.useEffect(function(){a.registerNodeType("overflow",z);},[a]);q.useEffect(function(){var c="",d=0;var h=a.addListener("textcontent",function(l){c=l;}),m=a.addListener("update",function(_ref3){var l=_ref3.dirty,B=_ref3.dirtyNodes;var p=a.isComposing();l=l&&0<B.size;if(!p&&l){p=e(c);l=p>b||null!==d&&d>b;f(b-p);if(null===d||l){var C=t(c,b,e);require("OutlineHistoryHelpers").updateWithoutHistory(a,function(D){require("Outline").log("CharacterLimit");u(D,C);});}d=p;}});return function(){h();m();};},[a,b,f,e]);};}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("useOutlineDecorators.prod",["ReactDOMComet","react"],(function $module_useOutlineDecorators_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var c_react;var d=c_react||(c_react=require("react"));var h="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,l=h&&"documentMode"in document?document.documentMode:null;h&&/Win/.test(navigator.platform);h&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;h&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);h&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);h&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);
h&&/^(?=.*Chrome).*/i.test(navigator.userAgent);h&&"InputEvent"in window&&!l?"getTargetRanges"in new window.InputEvent("input"):!1;var m=h?d.useLayoutEffect:d.useEffect;module.exports=function(b){var _d$useState=d.useState(function(){return b.getDecorators();}),f=_d$useState[0],n=_d$useState[1];m(function(){return b.addListener("decorator",function(e){require("ReactDOMComet").flushSync(function(){n(e);});});},[b]);return d.useMemo(function(){var e=[],k=Object.keys(f);for(var g=0;g<k.length;g++){var c=k[g];var p=f[c];c=b.getElementByKey(c);null!==c&&e.push(require("ReactDOMComet").createPortal(p,c));}return e;},[f,b]);};}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("useOutlinePlainText.prod",["Outline","OutlineHashtagNode","OutlineHistoryHelpers","OutlineParagraphNode","react"],(function $module_useOutlinePlainText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var c_react;var h=c_react||(c_react=require("react"));var y="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,aa=y&&"documentMode"in document?document.documentMode:null;y&&/Win/.test(navigator.platform);y&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;
var z=y&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ba=y&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);y&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);y&&/^(?=.*Chrome).*/i.test(navigator.userAgent);var ca=y&&"InputEvent"in window&&!aa?"getTargetRanges"in new window.InputEvent("input"):!1,A=y?h.useLayoutEffect:h.useEffect;function B(a,b){return"selectionchange"===a||"keyup"===a||"pointerup"===a||"pointercancel"===a?b.ownerDocument:b;}
function da(a,b){A(function(){var c=[],d=[];var _loop=function _loop(e){var _a$e=a[e],f=_a$e[0],l=_a$e[1],k=function k(g){var n=b.getRootElement();null!==n&&"true"===n.contentEditable&&l(g,b);};c.push(function(g){B(f,g).addEventListener(f,k);});d.push(function(g){B(f,g).removeEventListener(f,k);});};for(var e=0;e<a.length;e++){_loop(e);}return b.addListener("root",function(e,f){null!==f&&d.forEach(function(l){return l(f);});null!==e&&c.forEach(function(l){return l(e);});});},[b,a]);}function C(a){return a.isImmutable()||a.isInert();}
function D(a){throw Error("Minified Outline error #"+a+"; see codes.json for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}function E(a,b){var c=a.offset;if("block"===a.type)return a.getNode().getChildAtIndex(b?c-1:c+1);a=a.getNode();return b&&0===c||!b&&c===a.getTextContentSize()?b?a.getPreviousSibling():a.getNextSibling():null;}function F(a){a.isCollapsed()&&G(a,!0,"lineboundary",!1);H(a);}
function I(a){a.isCollapsed()&&G(a,!1,"lineboundary",!1);H(a);}function J(a){a.isCollapsed()&&G(a,!0,"word",!1);H(a);}function K(a){a.isCollapsed()&&G(a,!1,"word",!1);H(a);}
function L(a,b){if(a.isCollapsed()){G(a,b,"character",!1);var c=a.anchor,d=a.focus;if(!a.isCollapsed()){var e="text"===d.type?d.getNode():null,f="text"===c.type?c.getNode():null;if(null!==e&&e.isSegmented()){if(c=d.offset,d=e.getTextContentSize(),e.is(f)||b&&c!==d||!b&&0!==c){M(e,b);return;}}else if(null!==f&&f.isSegmented()&&(c=c.offset,d=f.getTextContentSize(),f.is(e)||b&&0!==c||!b&&c!==d)){M(f,b);return;}e=a.anchor;f=a.focus;c=e.getNode();d=f.getNode();if(c===d&&"text"===e.type&&"text"===f.type){var l=
e.offset,k=f.offset;var g=l<k;d=g?l:k;k=g?k:l;l=k-1;d!==l&&(c=c.getTextContent().slice(d,k),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(c)||(b?f.offset=l:e.offset=l));}}else if(b&&0===c.offset&&("block"===c.type?c.getNode():c.getNode().getParentOrThrow()).collapseAtStart(a))return;}H(a);b=a.anchor;"text"===b.type&&(b=b.getNode(),e=b.getTextContent(),a=a.anchor.offset,0===a&&b.isSimpleText()?(a=b.getPreviousSibling(),require("Outline").isTextNode(a)&&require("OutlineHashtagNode").isHashtagNode(a)&&(a.select(),f=a.getTextContent(),a.setTextContent(f+
e),b.remove())):require("OutlineHashtagNode").isHashtagNode(b)&&a===b.getTextContentSize()&&(a=b.getNextSibling(),require("Outline").isTextNode(a)&&a.isSimpleText()&&(f=a.getTextContent(),b.setTextContent(e+f),a.remove())));}function M(a,b){var c=a.getTextContent().split(/\s/g);b?c.pop():c.shift();c=c.join(" ");""===c?a.remove():(a=a.setTextContent(c),b?a.select():a.select(0,0));}
function G(a,b,c,d){var e=window.getSelection(),f=a.focus;var l=a.anchor,k=E(f,b);if(require("Outline").isDecoratorNode(k)){var g=b?k.getPreviousSibling():k.getNextSibling();if(!require("Outline").isTextNode(g)){a=k.getParentOrThrow().getKey();e=k.getIndexWithinParent();f.set(a,e,"block");d&&l.set(a,e,"block");return;}}e.modify(d?"move":"extend",b?"backward":"forward",c);0<e.rangeCount&&(f=e.getRangeAt(0),a.applyDOMRange(f),d||e.anchorNode===f.startContainer&&e.anchorOffset===f.startOffset||a.swapPoints());}
function H(a){N(a,"");}function O(a,b){var c=require("Outline").createLineBreakNode();b?P(a,[c],!0):P(a,[c])&&c.selectNext(0,0);}
function P(a,b,c){var _d;a.isCollapsed()||H(a);var d=a.anchor,e=d.offset,f=d.getNode();a=f;"block"===d.type&&(a=d.getNode(),d=a.getChildAtIndex(e-1),a=null===d?a:d);d=[];var l=f.getNextSiblings(),k=f.getTopParentBlockOrThrow();if(require("Outline").isTextNode(f))if(a=f.getTextContent().length,0===e&&0!==a)a=f.getPreviousSibling(),a=null!==a?a:f.getParentOrThrow(),d.push(f);else if(e===a)a=f;else{if(C(f))return!1;var _f$splitText=f.splitText(e);a=_f$splitText[0];f=_f$splitText[1];d.push(f);}f=a;(_d=d).push.apply(_d,l);e=b[0];var g=!1;for(l=0;l<b.length;l++){var p=b[l];if(require("Outline").isBlockNode(p)){if(p.is(e)){if(require("Outline").isBlockNode(a)&&
a.isEmpty()&&a.canReplaceWith(p)){a.replace(p);a=p;g=!0;continue;}var n=p.getFirstDescendant();if(require("Outline").isLeafNode(n)){n=n.getParentOrThrow();g=n.getChildren();var m=g.length;if(require("Outline").isBlockNode(a))for(var q=0;q<m;q++){a.append(g[q]);}else{for(--m;0<=m;m--){a.insertAfter(g[m]);}a=a.getParentOrThrow();}n.remove();g=!0;if(n.is(p))continue;}}require("Outline").isTextNode(a)&&(a=k);}else g&&require("Outline").isRootNode(a.getParent())&&D(2);g=!1;if(require("Outline").isBlockNode(a)){if(require("Outline").isBlockNode(p)){if(p.canBeEmpty()||!p.isEmpty())a=a.insertAfter(p);}else n=a.getFirstChild(),
null!==n?n.insertBefore(p):a.append(p),a=p;}else require("Outline").isBlockNode(p)?(a=p.getParentOrThrow(),l--):a=a.insertAfter(p);}c&&(require("Outline").isTextNode(f)?f.select():(b=a.getPreviousSibling(),require("Outline").isTextNode(b)?b.select():(b=a.getIndexWithinParent(),a.getParentOrThrow().select(b,b))));if(require("Outline").isBlockNode(a)){if(b=a.getLastDescendant(),c||(null===b?a.select():require("Outline").isTextNode(b)?b.select():b.selectNext()),0!==d.length)for(c=d.length-1;0<=c;c--){b=d[c],k=b.getParentOrThrow(),require("Outline").isBlockNode(a)&&!require("Outline").isBlockNode(b)?(a.append(b),a=b):require("Outline").isBlockNode(b)&&
!b.canInsertAfter(a)?(f=k.constructor.clone(k),require("Outline").isBlockNode(f)||D(3),f.append(b),a.insertAfter(f)):a.insertAfter(b),k.isEmpty()&&!k.canBeEmpty()&&k.remove();}}else c||(require("Outline").isTextNode(a)?a.select():(c=a.getParentOrThrow(),a=a.getIndexWithinParent()+1,c.select(a,a)));return!0;}function Q(a,b){var c=b.split(/\r?\n/);if(1===c.length)N(a,b);else{b=[];var d=c.length;for(var e=0;e<d;e++){var f=c[e];""!==f&&b.push(require("Outline").createTextNode(f));e!==d-1&&b.push(require("Outline").createLineBreakNode());}P(a,b);}}
function R(a,b){var c=a.getNode(),d=c.getChildAtIndex(a.offset),e=require("Outline").createTextNode();null===d?c.append(e):d.insertBefore(e);"block"===b.type&&c.is(b.getNode())&&(b.offset===a.offset?b.set(e.getKey(),0,"text"):b.offset++);a.set(e.getKey(),0,"text");}
function N(a,b){var c=a.anchor,d=a.focus,e=a.isCollapsed()||c.isBefore(d);e&&"block"===c.type?R(c,d):e||"block"!==d.type||R(d,c);var f=a.getNodes(),l=f.length,k=a.format,g=e?c:d,n=e?d:c;c=g.offset;var m=n.offset;d=f[0];require("Outline").isTextNode(d)||D(4);e=d.getTextContent().length;if(d.isSegmented()||d.isImmutable()||!d.canInsertTextAtEnd())if(g=g.offset,a.isCollapsed()&&g===e){g=d.getNextSibling();if(!require("Outline").isTextNode(g)||C(g)||g.isSegmented())g=require("Outline").createTextNode(),d.insertAfter(g);g.select(0,0);d=g;if(""!==b){N(a,
b);return;}}else if(a.isCollapsed()&&0===g){g=d.getPreviousSibling();if(!require("Outline").isTextNode(g)||C(g)||g.isSegmented())g=require("Outline").createTextNode(),d.insertBefore(g);g.select();d=g;if(""!==b){N(a,b);return;}}else d.isSegmented()&&g!==e&&(g=require("Outline").createTextNode(d.getTextContent()),d.replace(g),d=g);if(1===l){if(C(d))d.remove();else{f=d.getFormat();if(c===m&&f!==k)if(""===d.getTextContent())d.setFormat(k);else{var _d$splitText;f=require("Outline").createTextNode(b);f.setFormat(k);f.select();0===c?d.insertBefore(f):((_d$splitText=d.splitText(c),l=_d$splitText[0],_d$splitText),l.insertAfter(f));return;}d=
d.spliceText(c,m-c,b,!0);""===d.getTextContent()?d.remove():d.isComposing()&&"text"===a.anchor.type&&(a.anchor.offset-=b.length);}}else{g=f[l-1];k=new Set([].concat(d.getParentKeys(),g.getParentKeys()));var p=require("Outline").isBlockNode(d)?d:d.getParentOrThrow(),q=require("Outline").isBlockNode(g)?g:g.getParentOrThrow();"text"===n.type&&(0!==m||""===g.getTextContent())||"block"===n.type&&g.getIndexWithinParent()<m?require("Outline").isTextNode(g)&&!C(g)&&m!==g.getTextContentSize()?(g.isSegmented()&&(n=require("Outline").createTextNode(g.getTextContent()),g.replace(n),
g=n),g=g.spliceText(0,m,""),k.add(g.getKey())):g.remove():k.add(g.getKey());m=q.getChildren();n=new Set(f);p=p.is(q);for(var r=m.length-1;0<=r;r--){var t=m[r];if(t.is(d))break;t.isAttached()&&(!n.has(t)||t.is(g)?p||d.insertAfter(t):t.remove());}if(!p)for(m=q,n=null;null!==m;){g=m.getChildren();q=g.length;if(0===q||g[q-1].is(n))k["delete"](m.getKey()),n=m;m=m.getParent();}C(d)?c===e?d.select():d.remove():(d=d.spliceText(c,e-c,b,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===a.anchor.type&&(
a.anchor.offset-=b.length));for(a=1;a<l;a++){b=f[a],k.has(b.getKey())||b.remove();}}}var S=!1;function T(a,b){a=E(a.focus,b);return require("Outline").isDecoratorNode(a);}function ea(a){a.preventDefault();}
function U(a,b){a.preventDefault();b.update(function(c){require("Outline").log("onCopyForPlainText");var d=a.clipboardData;c=c.getSelection();if(null!==c&&null!=d){var e=window.getSelection();if(!e.isCollapsed){var f=e.getRangeAt(0);f&&(e=document.createElement("div"),f=f.cloneContents(),e.appendChild(f),d.setData("text/html",e.innerHTML));d.setData("text/plain",c.getTextContent());}}});}function V(a,b){b.update(function(c){require("Outline").log("onCompositionEnd");c.setCompositionKey(null);W(b,c,!0);});}
function fa(a){return a.getEditorState().read(function(b){return b.getSelection();});}
function X(a,b,c,d,e,f){if(a.isAttached()&&(f||!a.isDirty())){var l=a.isComposing();var k=b;(l||f)&&"\u00A0"===b[b.length-1]&&(k=b.slice(0,-1));if(f||k!==a.getTextContent())""===k?(l&&e.setCompositionKey(null),a.remove()):C(a)||null!==e.getCompositionKey()&&!l?a.markDirty():(b=e.getSelection(),null!==b&&null!==c&&null!==d&&(b.setTextNodeRange(a,c,a,d),a.isSegmented()&&(c=a.getTextContent(),c=require("Outline").createTextNode(c),a.replace(c),a=c)),a.setTextContent(k));}}
function Y(a,b,c){var d=a.anchor,e=a.focus,f=d.getNode();(b=d.key!==e.key||d.offset!==e.offset&&!f.isComposing()||(c||f.isDirty())&&1<b.length||!require("Outline").isTextNode(f)||f.getFormat()!==a.format)||(b=a.anchor.offset,b=f.isSegmented()||a.isCollapsed()&&(f.getTextContentSize()===b||0===b)&&(!f.canInsertTextAtEnd()||f.isImmutable()));return b;}
function ha(a,b){var c=a.inputType;"deleteCompositionText"!==c&&"insertCompositionText"!==c&&b.update(function(d){require("Outline").log("onBeforeInputForPlainText");var e=d.getSelection();if(null!==e)if("deleteContentBackward"===c)d.setCompositionKey(null),a.preventDefault(),L(e,!0);else{var f=a.data;if(!e.dirty&&e.isCollapsed()&&a.getTargetRanges){var l=a.getTargetRanges()[0];l&&e.applyDOMRange(l);}var k=e.focus;l=e.anchor.getNode();k=k.getNode();if("insertText"===c)"\n"===f?(a.preventDefault(),O(e)):"\n\n"===f?(a.preventDefault(),
O(e),O(e)):null==f&&a.dataTransfer?(f=a.dataTransfer.getData("text/plain"),a.preventDefault(),Q(e,f)):null!=f&&Y(e,f,!0)&&(a.preventDefault(),N(e,f));else switch(a.preventDefault(),c){case"insertFromComposition":f&&(d.setCompositionKey(null),N(e,f));break;case"insertLineBreak":case"insertParagraph":d.setCompositionKey(null);O(e);break;case"insertFromYank":case"insertFromDrop":case"insertReplacementText":case"insertFromPaste":d=a.dataTransfer;null!=d?(f=d.getData("text/plain"),null!=f&&Q(e,
f)):f&&N(e,f);break;case"deleteByComposition":l===k&&C(l)&&C(k)||H(e);break;case"deleteByDrag":case"deleteByCut":H(e);break;case"deleteContent":L(e,!1);break;case"deleteWordBackward":J(e);break;case"deleteWordForward":K(e);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":F(e);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":I(e);}}});}
function W(a,b,c){a=window.getSelection();if(null!==a){var _a=a,d=_a.anchorNode,e=_a.anchorOffset,f=_a.focusOffset;null!==d&&3===d.nodeType&&(a=b.getNearestNodeFromDOMNode(d),require("Outline").isTextNode(a)&&X(a,d.nodeValue,e,f,b,c));}}function ia(a,b){X(b.node,b.text,b.anchorOffset,b.focusOffset,a,!1);}
function ja(a){h.useEffect(function(){var b=function b(c){var d=a.getRootElement();if(document.activeElement===d&&(d=c.data,"string"===typeof d)){try{var e=JSON.parse(d);}catch(f){return;}if(e&&"nuanria_messaging"===e.protocol&&"request"===e.type&&(e=e.payload)&&"makeChanges"===e.functionId&&(e=e.args)){var _e=e,f=_e[0],l=_e[1],k=_e[2],g=_e[3],n=_e[4];a.update(function(m){require("Outline").log("useOutlineDragonSupport");m=m.getSelection();if(null!==m){var p=m.anchor;var q=p.getNode(),r=0,t=0;require("Outline").isTextNode(q)&&0<=f&&0<=l&&(r=f,t=f+l,m.setTextNodeRange(q,r,q,t));if(r!==
t||""!==k)Q(m,k),q=p.getNode();require("Outline").isTextNode(q)&&(r=g,t=g+n,p=q.getTextContentSize(),r=r>p?p:r,t=t>p?p:t,m.setTextNodeRange(q,r,q,t));c.stopImmediatePropagation();}});}}};window.addEventListener("message",b,!0);return function(){window.removeEventListener("message",b,!0);};},[a]);}
function ka(a,b,c){if(require("OutlineHistoryHelpers").editorStatesWithoutHistory.has(b))return require("OutlineHistoryHelpers").editorStatesWithoutHistory["delete"](b),0;if(null===a)return 1;var d=b._selection,e=a._selection;if(!(0<c.size))return null===e&&null!==d?0:2;c=Array.from(c);b=b._nodeMap;var f=[];for(var l=0;l<c.length;l++){var k=b.get(c[l]);void 0===k||require("Outline").isRootNode(k)||f.push(k);}if(1===f.length&&(c=f[0],a=a._nodeMap.get(c.__key),void 0!==a&&require("Outline").isTextNode(a)&&require("Outline").isTextNode(c)&&a.__flags===c.__flags)){a=a.__text;c=c.__text;if(""===a)return 1;b=c.length-
a.length;if(a===c)return 0;if(-1===b||1===b){if(null===d||null===e)return 0;d=d.anchor;e=e.anchor;if(d.key!==e.key||"text"!==d.type)return 1;if(e.offset===d.offset-1)return 0;}}return 1;}
function la(a){var b=h.useMemo(function(){return{current:null,redoStack:[],undoStack:[]};},[]);h.useEffect(function(){var c=a.getRootElement();if(null!==c){var d=function d(){var g=b.redoStack;var n=b.undoStack;if(0!==n.length){var m=b.current;null!==m&&g.push(m);g=n.pop();b.current=g;a.setEditorState(g);}},e=function e(){var g=b.redoStack;var n=b.undoStack;if(0!==g.length){var m=b.current;null!==m&&n.push(m);g=g.pop();b.current=g;a.setEditorState(g);}},f=function f(g){if(!a.isComposing())if(90===g.keyCode&&!g.shiftKey&&(z?g.metaKey:
g.ctrlKey))g.preventDefault(),d();else{{var m=g.keyCode,p=g.shiftKey,q=g.ctrlKey;var n=z?90===m&&g.metaKey&&p:89===m&&q||90===m&&q&&p;}n&&(g.preventDefault(),e());}},l=function l(g){var n=g.inputType;"historyUndo"===n?(g.preventDefault(),d()):"historyRedo"===n&&(g.preventDefault(),e());},k=a.addListener("update",function(_ref){var g=_ref.editorState,n=_ref.dirty,m=_ref.dirtyNodes;var p=b.current,q=b.redoStack,r=b.undoStack;if(g!==p){if(n)if(n=ka(p,g,m),1===n)0!==q.length&&(b.redoStack=[]),null!==p&&r.push(p);else if(2===n)return;b.current=
g;}});c.addEventListener("keydown",f);c.addEventListener("beforeinput",l);return function(){k();c.removeEventListener("keydown",f);c.removeEventListener("beforeinput",l);};}},[b,a]);return h.useCallback(function(){b.undoStack=[];b.redoStack=[];b.current=null;},[b]);}function ma(a,b){var c=document.activeElement;return null!==a.getSelection()||null!==c&&c===b.getRootElement();}
function na(a){a.update(function(b){require("Outline").log("initEditor");var c=b.getRoot();if(null===c.getFirstChild()){var d=require("OutlineParagraphNode").createParagraphNode();c.append(d);ma(b,a)&&d.select();}});}function oa(a,b){a.update(function(c){require("Outline").log("clearEditor");var d=c.getRoot();d.clear();var e=require("OutlineParagraphNode").createParagraphNode();d.append(e);ma(c,a)&&e.select();},b);}
var Z=[["selectionchange",function(a,b){a=window.getSelection();var c=b.getRootElement();c&&!c.contains(a.anchorNode)||b.update(function(d){require("Outline").log("onSelectionChange");d=d.getSelection();if(null!==d&&d.isCollapsed()){var e=d.anchor;"text"===e.type&&(e=e.getNode(),d.format=e.getFormat());}});}],["keydown",function(a,b){S="Unidentified"===a.key&&229===a.keyCode;b.isComposing()||b.update(function(c){require("Outline").log("onKeyDownForPlainText");c=c.getSelection();if(null!==c){var d=a.shiftKey;if(37!==a.keyCode||a.ctrlKey||a.metaKey||
a.altKey){if(39!==a.keyCode||a.ctrlKey||a.metaKey||a.altKey){if((d=13===a.keyCode&&!a.shiftKey)||(d=13===a.keyCode&&a.shiftKey),d)a.preventDefault(),O(c);else if(z&&a.ctrlKey&&79===a.keyCode)a.preventDefault(),O(c,!0);else{var f=a.keyCode,l=a.altKey,k=a.metaKey,g=a.ctrlKey;if(z?l||k?0:8===a.keyCode||72===f&&g:g||l||k?0:8===a.keyCode)a.preventDefault(),L(c,!0);else{var n=a.keyCode,m=a.shiftKey,p=a.altKey,q=a.metaKey,r=a.ctrlKey;(z?m||p||q?0:46===a.keyCode||68===n&&r:r||p||q?0:46===a.keyCode)?(a.preventDefault(),
L(c,!1)):8===a.keyCode&&(z?a.altKey:a.ctrlKey)?(a.preventDefault(),J(c)):46===a.keyCode&&(z?a.altKey:a.ctrlKey)?(a.preventDefault(),K(c)):z&&a.metaKey&&8===a.keyCode?(a.preventDefault(),F(c)):z&&a.metaKey&&46===a.keyCode&&(a.preventDefault(),I(c));}}}else T(c,!1)&&(a.preventDefault(),e="rtl"===c.anchor.getNode().getTopParentBlockOrThrow().getDirection(),G(c,e,"character",!d));}else if(T(c,!0)){a.preventDefault();var e="rtl"===c.anchor.getNode().getTopParentBlockOrThrow().getDirection();G(c,!e,"character",
!d);}}});}],["compositionstart",function(a,b){b.update(function(c){require("Outline").log("onCompositionStart");var d=c.getSelection();if(null!==d&&!b.isComposing()){var e=d.anchor;c.setCompositionKey(e.key);null==a.data||S&&"block"!==e.type&&d.isCollapsed()||N(d," ");}});}],["compositionend",function(a,b){ba?setTimeout(function(){V(a,b);},0):V(a,b);}],["cut",function(a,b){U(a,b);b.update(function(c){require("Outline").log("onCutForPlainText");c=c.getSelection();null!==c&&H(c);});}],["copy",U],["dragstart",function(a){a.preventDefault();}],["paste",function(a,
b){a.preventDefault();b.update(function(c){require("Outline").log("onPasteForPlainText");c=c.getSelection();var d=a.clipboardData;null!=d&&null!==c&&(d=d.getData("text/plain"),null!=d&&Q(c,d));});}],["input",function(a,b){a.stopPropagation();b.update(function(c){require("Outline").log("onInput");var d=c.getSelection(),e=a.data;null!=e&&null!==d&&Y(d,e,!1)?N(d,e):W(b,c,!1);c.flushMutations();});}],["click",function(a,b){b.update(function(c){require("Outline").log("onClick");var d=c.getSelection();if(null!==d){var e=d.anchor;"block"===e.type&&0===e.offset&&d.isCollapsed()&&
1===c.getRoot().getChildrenSize()&&e.getNode().getTopParentBlockOrThrow().isEmpty()&&(c=fa(b),null!==c&&d.is(c)&&(window.getSelection().removeAllRanges(),d.dirty=!0));}});}]];ca?Z.push(["beforeinput",ha]):Z.push(["drop",ea]);module.exports=function(a){A(function(){a.registerNodeType("paragraph",require("OutlineParagraphNode").ParagraphNode);na(a);return a.addListener("textmutation",ia);},[a]);da(Z,a);ja(a);var b=la(a);return h.useCallback(function(c){oa(a,function(){b();c&&c();});},[b,a]);};}),null);
__d("useOzImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useOzImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useProgressiveImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProgressiveImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useShakaImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShakaImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,concreteType:"VideoPlayerShakaLiveP2PInit",kind:"LinkedField",name:"video_player_shaka_live_p2p_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"json_encoded_video_data",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useCometRelayExpiredVideoUrlRefreshHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4268667373184908"}),null);
__d("useCometRelayExpiredVideoUrlRefreshHandlerQuery.graphql",["useCometRelayExpiredVideoUrlRefreshHandlerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"expiredURL"},c={defaultValue:null,kind:"LocalArgument",name:"videoID"},d=[{kind:"Variable",name:"id",variableName:"videoID"}],e={alias:null,args:[{kind:"Variable",name:"expired_url",variableName:"expiredURL"}],concreteType:"RMDRefreshedUrl",kind:"LinkedField",name:"rmd_refreshed_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"new_url",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"useCometRelayExpiredVideoUrlRefreshHandlerQuery",selections:[{alias:null,args:d,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"useCometRelayExpiredVideoUrlRefreshHandlerQuery",selections:[{alias:null,args:d,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useCometRelayExpiredVideoUrlRefreshHandlerQuery_facebookRelayOperation"),metadata:{},name:"useCometRelayExpiredVideoUrlRefreshHandlerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useVideoImplementationsImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsImpl_video",selections:[{args:null,kind:"FragmentSpread",name:"useOzImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useShakaImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useProgressiveImplementationData_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1779508")}g["default"]=a}),98);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){var a=c("qex")._("560")||!1;a&&b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);var b=c("qex")._("2048866");if(b!=null&&b>0)return!isNaN(a)&&a>0&&a<=b}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1959789"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");var g=b.error.getExtra().code;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;!!c("qex")._("1959788")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;!!c("qex")._("1959788")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("SphericalMediaGyroOverlay.react",["cx","CSS","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=800,k=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!1);return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootRef=i.createRef(),b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this;if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=b.rootRef.current;a instanceof Element&&d("CSS").hide(a)},j);else if(!this.props.isActive){a=this.rootRef.current;a instanceof Element&&d("CSS").hide(a)}};e.componentDidMount=function(){if(!this.props.isActive){var a=this.rootRef.current;a instanceof Element&&d("CSS").hide(a)}};e.render=function(){var a=this.props,b=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=k(d,e,a);return i.jsx("div",{className:c("joinClasses")(b,d.gyroRoot),ref:this.rootRef,children:i.jsxs("div",{className:d.gyroOuter,children:[i.jsxs("div",{className:d.gyroInner,children:[i.jsx("div",{className:d.gyroMeridian}),i.jsx("div",{className:d.gyroEquator})]}),i.jsx("div",{className:d.gyroTextShell,children:i.jsx("span",{className:d.gyroText,children:"360"})})]})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("VideoPlayerSphericalFallbackCover.react",["fbt","SphericalMediaGyroOverlay.react","TetraText.react","react","unrecoverableViolation","useCometRouterDispatcher","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=a.videoTahoeUrl,d=c("useCometRouterDispatcher")();a=j(!1);var e=a[0],f=a[1];if(d==null)throw c("unrecoverableViolation")("Missing CometRouterDispatcher","comet_video_player");a=c("useFeedClickEventHandler")(function(){d.go(b,{})});return i.jsxs("div",{className:"bkfpd7mw cbu4d94t j83agx80 nhd2j8a9 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",onClick:a,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},role:"link",tabIndex:0,children:[i.jsx(c("SphericalMediaGyroOverlay.react"),{isActive:!0}),i.jsx("div",{className:"l9j0dhe7 i7orit0i",children:e?i.jsx(c("TetraText.react"),{color:"white",type:"bodyLink3",children:h._(/*FBT_CALL*/"Nh\u1ea5p \u0111\u1ec3 m\u1edf r\u1ed9ng"/*FBT_CALL*/)}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a){a=a===void 0?{}:a;var b=a.shouldUnmute;a=d("VideoPlayerHooks").usePaused();var e=d("VideoPlayerHooks").useController(),f=d("VideoPlayerHooks").useLastMuteReason(),g=i(function(){e.play("user_initiated"),b===!0&&f!=="user_initiated"&&e.setMuted(!1,"product_initiated")},[e,f,b]);g=c("useFeedClickEventHandler")(g);a=a;return a?{ariaLabel:h._(/*FBT_CALL*/"Ph\u00e1t video"/*FBT_CALL*/),handler:g,overlayLabel:""}:null}g["default"]=a}),98);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b}function h(a,b){var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0}function a(a){a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b}function b(a,b,c,d,e,f){if(a.length<2)return a;var i=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?h(a.playbackResolutionMos,g(b,c)):-1}}),j=[],k=e;for(var l=i.length-1;l>0;l--){if(i[l].mosValue===-1||i[l-1].mosValue===-1)return a;var m=i[l].track.bandwidth||-1,n=i[l-1].track.bandwidth||-1;if(m===-1||n===-1)return a;if(i[l].mosValue<i[l-1].mosValue&&m>=n)continue;m=i[l-1].track.bandwidth!==null?i[l].mosValue-i[l-1].mosValue:Infinity;if(m<=k&&i[l].track.bandwidth&&d/i[l].track.bandwidth<=f){k-=m;continue}else k=e;j.push(i[l].track)}j.push(i[0].track);j.reverse();return j}f.getQualityLabel=g;f.getMosValue=h;f.parsePlaybackMos=a;f.filterTracksWithExpensiveMos=b}),66);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor");if(e===0)return b;var f=b.filter(function(b){var f=b.getWidth()<=c.width*d*e;b=b.getHeight()<=c.height*d*e;return a.getBool("use_strict_resolution_constraint")?f&&b:f||b});return!f.length?[b[0]]:f};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};f.excludeLargeRepresentations=a;f.getReasonToPreventEvaluation=b}),66);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";e=.1;var g=1,h=.2;function a(a,b,c){if(i(a,c))return!0;c=a.currentTime;var d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function i(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return Math.abs(d-b)<=h||Math.abs(c-b)<=h}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return j(b,a.getBufferedRanges())}function j(a,b){var c=null;for(var d=0;d<b.length;d++){var e=b[d];e.startTime<=a&&e.endTime>a&&(c=e)}return!c?0:c.endTime-a}function c(a){var b=[];for(var c=0;c<a.buffered.length;c++)b.push({rangeStart:a.buffered.start(c),rangeEnd:a.buffered.end(c)});return b}function d(a,b,c,d){if(c.length===0||b.size===0)return!1;var e=null;for(var f=0;f<c.length;f++){var g=c[f],h=b.get(g);if(l(a,0,h)){e=g;break}}if(e==null)return!1;var i=!0;b.forEach(function(c,b){if(e===b)return;b=c.getBufferedRanges();b.forEach(function(b){i=k(a,b,d,i)})});return!i}function k(a,b,c,d){return a>=b.startTime&&a<b.endTime+c?!1:d}function l(a,b,c){b===void 0&&(b=0);if(c){c=c.getBufferedRanges();for(var d=0;d<c.length;d++)if(c[d].startTime<=a&&c[d].endTime>a&&c[d].endTime-a>b)return!0}return!1}f.BUFFER_UNDERFLOW_THRESHOLD=e;f.BUFFER_OVERFLOW_THRESHOLD=g;f.BUFFER_FUDGE_FACTOR=h;f.hasEnoughBuffer=a;f.hasBufferedToOrReachedEnd=i;f.getBufferAheadFromPlaybackStates=b;f.getBufferAheadFromCurrentTime=j;f.getNumericalRangesFromSourceBuffer=c;f.hasEnoughPartialBuffer=d;f.hasBuffer=l}),66);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getBandwidth()-b.getBandwidth()};a=function(a,b,c,d,e){if(d.length===0)return[];d.sort(g);b=b.reduce(function(a,b){return b.applyRestriction(a,c)},d);if(e!=null&&e.length>0){var f=d.filter(function(a){return e.indexOf(a.getID())>-1});b=b.concat(f).sort(g)}return a.getBool("ignore_restrictions_when_all_representations_restricted")?b.length>0?b:d:b};f.applyVideoPlaybackRestrictions=a}),66);
__d("OzSystemicRiskABRManager",["MosUtils","OzSystemicRiskUtils","oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};a=function(){function a(a,b,c,d,e,f,g,h){this.$11=!1,this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$7=f,this.$8=g,this.$9=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b=this;this.$3=a;a=this.$3.find(function(a){return a.getQualityLabel()===b.$2.getQualityLabel()});this.$2=(a=a)!=null?a:this.$3[0]};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$6,this.$5),f=this.$5.getDuration();f=isNaN(f)?h:f;if(this.$3.length===0){this.$10="no available representations";return this.$2}var g=this.$5.getCurrentTime();f=this.$9==="static"?(f-g)*1e3:h;g=this.$8();a=b.getBool("systemic_risk_use_fetch_range_duration",!1)?this.$12(a):i;var j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);if(j==null){this.$10="missing bandwidth diagnostics";return this.$2}var k=this.$13(this.$3).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}),l=null,m=null,n=null;for(var o=0;o<k.length;o++){var p=k[Math.max(o-1,0)],q=this.$14(p,g);p=Math.min(p.getHeight(),p.getWidth());m=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:j,bitrate:k[o].getBandwidth(),bufferAhead:e,config:this.$1.getLegacyConfig(),hasMadeInitialDecision:this.$11,initialRiskFactor:b.getNumber("systemic_risk_abr_initial_risk_factor",1),lowMosResolution:b.getNumber("systemic_risk_abr_low_mos_resolution",0),minWatchableMos:b.getNumber("systemic_risk_abr_min_watchable_mos",0),previousMos:q,previousResolution:p,remainingVideoDurationMs:f,segmentFetchRangeDurationMs:a});q=m;p=q.multiplier;if(isNaN(p)){n=m;l=this.$2;break}q=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(k[o].getBandwidth(),m.multiplier,a,j);if(q)n=m,l=k[o];else break}l==null?this.$2=b.getBool("respect_playback_restrictions_in_abr_fallback",!1)&&k.length>0?k[0]:this.$3[0]:this.$2=l;this.$15((p=n)!=null?p:m,{isSystemicRiskABREnabled:b.getBool("use_systemic_risk_abr",!1),noRepresentationSelected:l==null,representationCount:k.length});this.$11||(this.$11=!0);return this.$2};b.$12=function(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b};b.$14=function(a,b){a=a.getCustomField("playbackResolutionMos");a=d("MosUtils").parsePlaybackMos(String(a));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$13=function(a){var b=this;if(!this.$1.getLegacyConfig().getBool("systemic_risk_abr_apply_representation_restrictions",!1))return a;var c=this.$1.getLegacyConfig().getBool("exclude_large_representations_after_restrictions",!1),e=a;a=function(){e=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(b.$1,e,b.$8(),b.$7)};var f=function(){e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(b.$1,b.$4,b.$8(),e)};c||(a(),f());c&&(f(),a());return e};b.$15=function(a,b){if(a==null)return;var c=b.isSystemicRiskABREnabled,d=b.noRepresentationSelected;b=b.representationCount;this.$10=[[j.LOW_MOS,a.lowMos],[j.ENCODING,a.encoding],[j.BANDWIDTH,a.bandwidth],[j.MULTIPLIER,a.multiplier],[j.BUFFER,a.buffer],[j.PREVIOUS_MOS,a.previousMos],[j.PREVIOUS_RESOLUTION,a.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");c||(this.$10+="disabled;");d&&(this.$10+="none-selected-of-"+b+";")};b.getLastEvaluationReason=function(){return this.$10};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("VideoPlayerOzImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.canUseOz,c=a.dashManifest,d=a.dashUrl,e=a.experimentationConfig,f=a.minQualityPreference,g=a.ozQuickStarterData;a=a.videoFBID;if(b!==!0||a==null)return null;b=c==null||c===""?null:c;a=d==null||d===""?null:d;if(b==null&&a==null)return null;return e==null?null:{experimentationConfig:e,manifest:b,manifestUrl:a,minQualityPreference:(c=f)!=null?c:null,ozQuickStarterData:(d=g)!=null?d:null}}f.makeOzImplementationData=a}),66);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","orEmptyArray","oz-player/networks/OzBandwidthEstimator","qex"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return a.getSelectedVideoQuality()}function i(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getQualityLabel()}function j(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function k(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function l(a,b){var c=j(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getOzQuickStarter,f=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b,c;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);c=(c=e())==null?void 0:c.getAudioRepresentationIDAtTime(a);return(b=(a=b)!=null?a:c)!=null?b:null},getAvailableVideoQualities:function(){var a;return c("orEmptyArray")((a=d())==null?void 0:a.getVideoQualities())},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingVideoQuality:function(){var a=d();return a?i(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){if(c("qex")._("154")){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))}return!1},getStreamType:function(){return"dash"},getUserSelectedVideoQuality:function(){var a=d();return a?j(a):""},getVideoProjectionType:function(){var a=d();return a!=null?k(a):null},getVideoRepresentationIDAtTime:function(a){var b,c;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);c=(c=e())==null?void 0:c.getVideoRepresentationIDAtTime(a);return(b=(a=b)!=null?a:c)!=null?b:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),f(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&l(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}]])}f.createOzCustomParser=a}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setIsDVLEnabled=function(a){this.$1=a};b.setSegmentRequestTransactionID=function(a){this.$2=a};b.isDVLEnabled=function(){return this.$1};b.getSegmentRequestTransactionID=function(){return this.$2};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw new Error("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/ozConcatUint8Arrays",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;++c)b+=a[c].byteLength;c=new ArrayBuffer(b);b=new Uint8Array(c);var d=0;for(var e=0;e<a.length;++e){var f=a[e];b.set(f,d);d+=f.byteLength}return{buffer:c,view:b}}f["default"]=a}),66);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g,h){a=h;g["default"]=a}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a===null||a===void 0)return!0;return b===null||b===void 0?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){c=c.rangeEnd;return c===null||c===void 0?!1:a.getBool("numerical_range_utils_is_after_range_exclusive")&&b===c||Math.abs(b-c)>((a=d)!=null?a:h)&&b>c}function a(a,b,c){var d=b.rangeEnd;if(d===null||d===void 0)return!1;c=(c=c)!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$8.getBool("live_query_time_in_range")?this.$12(a):a;a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(this.$8.getBool("live_no_segment_when_playhead_is_before_first_segment")&&d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$17=function(a,b){if(a.d!==b.d)return!1;var c=a.t+a.d*a.r,e=b.t+b.d*b.r;return d("oz-player/utils/OzNumericalHelper").greaterThanOrEqual(a.t,e,this.$9)||d("oz-player/utils/OzNumericalHelper").greaterThanOrEqual(b.t,c,this.$9)?!1:Number.isInteger((a.t-b.t)/a.d)};b.$14=function(a){if(this.$8.getBool("copy_new_manifest")){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return}if(this.$8.getBool("use_loose_manifest_updates")){(b=this.$4).splice.apply(b,[this.$4.length,0].concat(a));this.$4.sort(function(a,b){if(a.t<b.t)return-1;else if(a.t>b.t)return 1;return a.d===b.d?a.r-b.r:0});b=[];for(var e=0,f=e+1;f<this.$4.length;){var g=this.$4[e],h=this.$4[f];if(g.t===h.t){if(g.d>h.d)throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new.",extra:{code:"OZ_RP-1"}});g.d=h.d;g.r=Math.max(g.r,h.r);g.id=h.id;f++;continue}else b.push(this.$4[e]),e=f,f++}this.$4.length>0&&b.push(this.$4[this.$4.length-1]);(g=this.$4).splice.apply(g,[0,this.$4.length].concat(b));return}h=this.$4.length-1;e=a.length-1;f=h;g=e;b=JSON.stringify(this.$4);while(h>=0&&e>=0){var i=this.$4[h],j=a[e];if(d("oz-player/utils/OzNumericalHelper").equalTo(i.t,j.t,this.$9)){var k=h===f||e===g,l=k&&(h!==f&&j.r>i.r||e!==g&&i.r>j.r);k=!k&&i.r!==j.r||l;if(k)throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch. Old groups: '+b+"\n            , new groups: "+JSON.stringify(a),extra:{code:"OZ_RP-2"}});if(this.$8.getBool("throw_on_non_zero_r_d_mismatch")&&i.r>0&&i.d!==j.d)throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Duration mismatch between non-zero repeat tag and new.",extra:{code:"OZ_RP-3"}});i.r=Math.max(i.r,j.r);i.id!=null&&j.id!=null&&(i.id=Math.max(i.id,j.id));if(this.$8.getBool("fix_template_duration_artifact_in_manifest")){if(i.d>j.d)throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new.",extra:{code:"OZ_RP-4"}});i.d=j.d}h--;e--}else if(d("oz-player/utils/OzNumericalHelper").greaterThan(j.t,i.t,this.$9))this.$4.splice(h+1,0,j),e--;else{if(this.$17(i,j))throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged",extra:{code:"OZ_RP-5"}});h--}}if(e>=0){(l=this.$4).unshift.apply(l,a.slice(0,e+1))}};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_sc_timebased_segments"),j=this.$8.getBool("use_scf_timebased_segments"),k=this.$8.getBool("touch_cb_key"),l=a!=null?a-(g-b):null,m=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a=d.$8.getBool("use_templated_pdash_segments")&&d.$1!=null&&l!=null?d.$1.replace("$Number$",l.toString()):d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_sc",1);j&&a.addQueryData("_nc_scf",1);var b=a.getQueryData().cb;k&&b!=null&&a.addQueryData("cb",b+"_oz");return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return m}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer9=0;c.$PredictedSegmentTemplateSegmentsContainer11=null;c.$PredictedSegmentTemplateSegmentsContainer10=d;c.$PredictedSegmentTemplateSegmentsContainer8=k;c.$PredictedSegmentTemplateSegmentsContainer12=f;c.$PredictedSegmentTemplateSegmentsContainer7=b;c.$PredictedSegmentTemplateSegmentsContainer5=e;c.$PredictedSegmentTemplateSegmentsContainer1=g;c.$PredictedSegmentTemplateSegmentsContainer3=i;c.$PredictedSegmentTemplateSegmentsContainer2=h;c.$PredictedSegmentTemplateSegmentsContainer4=j;c.$PredictedSegmentTemplateSegmentsContainer6=b.getNumber("live_numerical_error_epsilon");for(var d=0;d<c.$PredictedSegmentTemplateSegmentsContainer12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer12[d].d,c.$PredictedSegmentTemplateSegmentsContainer9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer2};else return null};e.$PredictedSegmentTemplateSegmentsContainer14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer7.getBool("touch_cb_key"),i=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getString("cdn_experiment_id",""),j=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return k},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g),b=a.getQueryData().cb;h&&b!=null&&a.addQueryData("cb",b+"_oz");i.length!==0&&a.addQueryData("_nc_expid",i);b=k.isDVLEnabled();b&&j>0&&f.$PredictedSegmentTemplateSegmentsContainer10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer10)),a.addQueryData("_nc_dinfo-timeout",j));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer3=d.$PredictedSegmentTemplateSegmentsContainer3;this.$PredictedSegmentTemplateSegmentsContainer1=d.$PredictedSegmentTemplateSegmentsContainer1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer12=d.$PredictedSegmentTemplateSegmentsContainer12;this.$PredictedSegmentTemplateSegmentsContainer8=d.$PredictedSegmentTemplateSegmentsContainer8;for(var d=0;d<this.$PredictedSegmentTemplateSegmentsContainer12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer12[d].d,this.$PredictedSegmentTemplateSegmentsContainer9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer15(a):this.$PredictedSegmentTemplateSegmentsContainer16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer5}];var c=this.$PredictedSegmentTemplateSegmentsContainer11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("num_predictive_segments",0);return a>0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer5;var e=this.$PredictedSegmentTemplateSegmentsContainer12.length>0?this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer9);return this.$PredictedSegmentTemplateSegmentsContainer14(0,0,this.$PredictedSegmentTemplateSegmentsContainer3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer14(b.t/this.$PredictedSegmentTemplateSegmentsContainer5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3-e)};e.$PredictedSegmentTemplateSegmentsContainer15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer2),this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer4)/this.$PredictedSegmentTemplateSegmentsContainer5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer14(a.t/this.$PredictedSegmentTemplateSegmentsContainer5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer9/this.$PredictedSegmentTemplateSegmentsContainer5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b}),66);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!==null&&b.error!==void 0||(c=b.license)}else c=a;return c!==void 0&&c!==null&&c!==""?d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c):null};return a}();g["default"]=a}),98);
__d("OzDOMEventListenerImpl",["cr:1351686"],(function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:b("cr:1351686").listen,captureDOMEvent:b("cr:1351686").capture,suppressDOMEvent:b("cr:1351686").suppress};c=a;g["default"]=c}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return this.$2.getBool("buffer_when_waiting",!1)&&a.type==="waiting"||!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return this.$2.getBool("buffer_when_waiting_in_partial_buffer",!1)&&a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzDomEventCapturer",["oz-player/shims/OzDOMEventListener"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new Map(),this.$1=a}var b=a.prototype;b.capture=function(a,b){var d=this,e=this.$1.parentNode;return!e?{remove:function(){}}:c("oz-player/shims/OzDOMEventListener").captureDOMEvent(e,a,function(a){if(a.target!==d.$1)return;var c=b(a);c&&d.$3(a)})};b.dispatchIfSuppressed=function(a){var b=this.$2.get(a);b&&this.$1.dispatchEvent(b);this.$2["delete"](a)};b.$3=function(a){c("oz-player/shims/OzDOMEventListener").suppressDOMEvent(a),this.$2.set(a.type,a)};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils","oz-player/utils/OzDomEventCapturer"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector7=new Map();g.$OzBufferingDetector9=null;g.$OzBufferingDetector10=function(a){g.$OzBufferingDetector13(a)};g.$OzBufferingDetector11=function(a){a=g.$OzBufferingDetector13(a)instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;return g.$OzBufferingDetector5.getBool("suppress_playing_event_while_buffering",!1)?a:!1};g.$OzBufferingDetector2=b;g.$OzBufferingDetector5=e;g.$OzBufferingDetector6=f;g.$OzBufferingDetector8=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector2.paused?g.$OzBufferingDetector1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector8,g.$OzBufferingDetector5):g.$OzBufferingDetector1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector2,g.$OzBufferingDetector8.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector6())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector8,g.$OzBufferingDetector5):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector8,g.$OzBufferingDetector5,null);g.$OzBufferingDetector4=new(c("oz-player/utils/OzDomEventCapturer"))(g.$OzBufferingDetector2);g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"pause",g.$OzBufferingDetector10),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"play",g.$OzBufferingDetector10),g.$OzBufferingDetector4.capture("playing",g.$OzBufferingDetector11),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector10,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector10,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeked",g.$OzBufferingDetector10),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeking",g.$OzBufferingDetector10),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"waiting",g.$OzBufferingDetector10));g.$OzBufferingDetector5.getBool("listen_for_canplay_in_buffering_detector",!1)&&g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplay",g.$OzBufferingDetector10),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplaythrough",g.$OzBufferingDetector10));return g}var e=b.prototype;e.$OzBufferingDetector12=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector8.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector7.forEach(function(e,f){var g=a.$OzBufferingDetector2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector7.set(a,b)};e.$OzBufferingDetector13=function(a){var b=this.$OzBufferingDetector1.handleEvent(a,this.$OzBufferingDetector2,this.$OzBufferingDetector6(),this.$OzBufferingDetector7),c=this.$OzBufferingDetector1;this.$OzBufferingDetector1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector9&&this.$OzBufferingDetector9.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector9&&this.$OzBufferingDetector9.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector12()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector9&&this.$OzBufferingDetector9.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector8.notifyBufferingEnd(),this.emit("leaveBuffering"));b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState&&this.$OzBufferingDetector4.dispatchIfSuppressed("playing");return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector8.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector8.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector9=a};e.destroy=function(){this.$OzBufferingDetector3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:72","gkx","guid","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,i=c("qex")._("1959790"),j=c("qex")._("207"),k=c("qex")._("208"),l=c("qex")._("21");function m(a){return i!==null&&i!==void 0&&i!==""?i:null}function a(a){return h.test(a.getDomain())}function b(a,b,d,e,f){if(f.current!=null)return;var g=!0,h=function(){if(g)return!1;var a=f.current!==i;return a&&c("gkx")("1508440")?!0:!1},i=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=i;g=!1;a=function(a){if(h())return;if(c("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})};d=function(){if(h())return;e.dispatch({type:"buffering_end_requested"})};i.addListener("enterBuffering",a);i.addListener("leaveBuffering",d)}function d(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];d&&a!=null&&e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,null));return e}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function f(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function n(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function o(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function p(){return function(a,b,d,e,f,g,h,i){return a.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(a,b,d,e,f,g,h,i):null}}function q(a){return j!==null&&j!==void 0&&j!==""&&k!==null&&k!==void 0&&k!==""?{paramName:j,paramValue:k}:null}function r(a){return l!==null&&l!==void 0&&l!==""?l+c("guid")():null}function s(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.playbackIsLiveStreaming,h=b.playbackSessionId;b=b.shouldRefresh403;var i=a.getQueryData(),j;if(g){j={};var k=m(a);k!==null&&k!==""&&(j=babelHelpers["extends"]({},j,{os_param:k}));if(a.getPath().includes(".m4v")){k=q(a);if(k!==null&&k&&k.paramName!==""&&k.paramValue!==""){var l;j=babelHelpers["extends"]({},j,(l={},l[k.paramName]=k.paramValue,l))}k=r(a);k!==null&&k!==""&&(j=babelHelpers["extends"]({},j,{_nc_rnd:k}));d.getBool("live_video_send_player_id_in_requests",!1)&&(j=babelHelpers["extends"]({},j,{_nc_psid:h}));if(d.getBool("server_side_abr_send_client_estimates",!1)){l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(j=babelHelpers["extends"]({},j,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));k=e();k&&(j=babelHelpers["extends"]({},j,{_nc_abr_bitrate:String(k.getBandwidth()),_nc_abr_qlabel:k.getQualityLabel()}))}}c("gkx")("2047")&&(j=babelHelpers["extends"]({},j,{_nc_wclk_ms:String(Date.now())}))}g&&c("gkx")("1998922")&&(j=babelHelpers["extends"]({},j,{_nc_nc:"1"}));c("gkx")("1836350")&&(i.uss!=null&&i.odm!=null&&(j=babelHelpers["extends"]({},j,{manual_redirect:"1"})));if(b){h=f();if(h!=null){d=a.getDomain()+a.getPath();l=h.get(d);if(l!=null)for(var n in l){j=babelHelpers["extends"]({},j,(e={},e[n]=l[n],e))}}}return j}g.getOsParamValue=m;g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=b;g.createOzDrmProviders=d;g.createOzPerfLoggerProviders=e;g.calculateInitialPlaybackPositionForDynamicMpd=f;g.calculateLiveheadFallBehindBlockThreshold=n;g.calculateLiveheadFallBehindBlockMargin=o;g.getVideoAbrManagerFactory=p;g.getTestQueryParam=q;g.getTestRndQueryParamValue=r;g.getCustomRequestParametersForURI=s}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];a=a;var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;c>0&&(a=this.$7(a,b));d>0&&(a=this.$8(a,b));return a};return a}();g["default"]=a}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=720,i=2160;function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(h));break;case"UHD":c("gkx")("1488288")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(i));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={abort_clear_video_node_on_detach:!1,abr_use_download_time:!1,accept_external_buffering_detector:!0,allow_queueing_end_of_stream_when_update:!1,always_use_current_time_in_playback_state:!0,append_retry_quota_exceeded_error:!0,async_clear_on_quality_upgrade:!1,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_chunk_response_size:!1,bandwidth_use_response_time_adjustment:!1,buffer_when_waiting:!1,buffer_when_waiting_in_partial_buffer:!0,call_end_of_stream_in_quick_starter:!0,catchup_use_timeline_range_end_time_as_end:!1,check_buffer_range_once_for_playhead_update:!1,check_mediasource_readystate_before_end_of_stream:!0,cleanup_video_node_on_destroy:!0,clear_buffer_on_quota_exceeded_error:!0,clear_buffer_on_seek_into_unbuffered_range:!0,clear_sbm_buffer_on_byte_threshold:!1,convert_dom_exception_to_oz_error:!0,copy_new_manifest:!0,create_new_media_source_on_node_reset:!1,debug_live_replay:!1,delay_stream_end_for_sourceended:!0,detach_media_source_manager:!0,disable_audio_scheduler:!1,download_cursor_1st_run_2_fallback:!1,download_cursor_1st_run_set_skipped_segment_on:!0,download_cursor_disable_buffer_ahead_rule_on:!0,dvl_update_interval_reset_on_err:!0,emit_destroyed_after_media_keys_clear:!1,enable_abr_for_first_request:!1,enable_adaptation:!0,enable_appends_on_wait_update_end_failure:!1,enable_dvl:!0,enable_immediate_down_switch:!1,enable_network_manager_error:!1,estimate_video_bandwidth_only:!0,exclude_prefetch_bandwidth_samples:!0,fallback_on_append_error:!1,fix_buffer_ahead_priority_strategy:!0,fix_initial_segment_non_zero_start_time:!0,fix_operation_deferred_promise_lifecycle:!1,fix_quick_starter_overhead:!0,fix_seek_performance:!1,fix_segment_updated_subscription_leak:!0,fix_setup_video_duration_on_representation_switch:!0,fix_template_duration_artifact_in_manifest:!0,generate_mos_segment_buffer_diff:!1,get_fetch_body_text_when_response_not_ok:!0,get_mpd_least_last_time_range:!0,handle_buffered_timerange_update_on_ratechange:!1,handle_invalid_webm_duration:!1,handle_mpd_retries_outside_oz_mpd_updater:!0,ignore_reset_after_seek_if_bufferahead:!1,ignore_reset_after_seek_if_bufferahead_liverewind:!1,ignore_restrictions_when_all_representations_restricted:!1,ignore_time_to_response_start:!1,latencymanager_stalempd_edgelatency_sec_on:!1,latencymanager_stalled_edgelatency_sec_on:!1,lazy_parse_sidx:!1,listen_for_canplay_in_buffering_detector:!0,live_audio_ibr:!0,live_catch_up_only_when_paused:!1,live_disable_mpd_updates_when_paused:!0,live_gracefully_handle_410:!0,live_gracefully_handle_mpd_errors:!0,live_gracefully_handle_no_network:!0,live_no_segment_when_playhead_is_before_first_segment:!0,live_playhead_catch_up:!1,live_query_time_in_range:!0,load_video_node_on_unload:!0,log_appended_segment_info:!1,log_extra_events:!0,mpd_update_cancel_current_request_tracker:!0,ms_promise_for_null:!1,no_representation_error_detailed_message:!0,null_segment_for_no_buffer_target:!0,numerical_range_utils_is_after_range_exclusive:!0,overwrite_video_current_time_property:!0,pausable_stream_throws_error_when_aborted:!0,pdash_download_cursor_catchup_skip_totalbufer:!0,pdash_download_cursor_nocatchup_use_currentbuffer:!1,pdash_download_cursor_use_totalbuffer:!0,pdash_use_pdash_segmentlocator:!1,pdash_wait_on_mpd_refresh_when_error:!0,playback_speed_latency_adjustment_user_rate_disable:!0,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!1,playhead_manager_buffer_gaps_skip_reverse:!1,playhead_manager_clamp_initial_playback_position:!1,playhead_manager_handle_buffered_timerange_update_on_timeupdate:!0,playhead_manager_handle_timerange_update_on_timeupdate:!0,playhead_manager_handle_time_range_update_on_waiting:!1,playheadman_dont_skip_ahead_past_last_fetched:!1,prevent_multiple_successive_representation_switch:!0,proceed_on_representation_change_in_init_append_fail:!0,remove_src_attr_on_unload:!0,reset_catchup_timeout_after_play_sec_on_overwrite:!0,respect_initial_representation_on_setup:!1,restart_media_streams_on_stream_resumed:!1,retry_fetch_on_prefetch_error:!1,retry_video_element_error:!0,revoke_object_url_on_detach:!1,sbm_abort_on_append_new_readable_stream:!1,sbm_recursively_waits_for_update_end:!1,sbm_wait_for_abort_on_reject:!1,sbm_waits_for_update_end:!0,seek_ahead_use_native_current_time:!0,seek_to_start_quick_starter:!0,segment_end_410_response:!0,set_source_buffer_append_window_end:!1,should_check_that_source_buffer_attached:!1,sidx_parser_memory_optimization:!1,skip_playhead_adjustment_before_initial_playback_position:!1,skip_timerange_gaps:!0,skip_videobuffer_gaps:!1,skip_videobuffer_gaps_on_buffer_updated:!0,stable_buffered_timeranges_in_observedsourcebufferstate:!0,stop_loop_driver_immediately_on_cleanup:!0,stop_manifest_update_when_static:!0,streaming_task_reject_current_stream_deferred:!0,stream_interrupted_fuzzy_equals:!1,stub_safari_source_buffer_abort:!1,suppress_playing_event_while_buffering:!1,throw_cancel_operation_abort_failed:!1,throw_error_on_clear_buffer_on_seek_failed:!0,throw_network_error_during_stream:!1,throw_no_license_error:!0,throw_on_non_zero_r_d_mismatch:!0,touch_cb_key:!1,treat_inline_mpd_xml_empty_string_as_null:!1,update_bandwidth_cache_on_sample:!1,update_duration_when_init_appended:!0,update_live_video_config_on_representation_switch:!0,update_media_source_duration:!0,use_abr_for_missing_default_representation:!0,use_buffering_detector_for_playhead_interruption:!0,use_ending_duration_for_gop_multiplier:!0,use_live_latency_manager:!1,use_loose_manifest_updates:!1,use_performance_entry_on_stream_close:!1,use_scf_timebased_segments:!1,use_scheduler:!0,use_sc_timebased_segments:!1,use_segment_request_cache:!1,use_simple_moving_average_estimator:!1,use_stream_end_time_in_segment_locator:!1,use_strict_resolution_constraint:!0,use_templated_pdash_segments:!0,use_ttfb_from_headers:!1,vtt_caption_representation:!1,xmlparser_use_domparser:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,audio_byte_threshold_to_clear_buffer:0,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_estimator_variance_penalty_down_factor:0,bandwidth_estimator_variance_penalty_half_life:0,bandwidth_estimator_variance_penalty_up_factor:0,bandwidth_penalty_additional_video_start:0,bandwidth_penalty_per_additional_video:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_time_buffer_delta_penalty_factor:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalempd_edgelatency_sec:0,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_catch_up_fall_behind_threshold:20,live_catch_up_live_head_delta:6,live_max_try_attempts_on_404:2,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_buffer_behind_playhead:10,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,minimum_download_additional_buffer_ms:0,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,playhead_nudge_slack:.1,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,sbm_read_timeout_ms:0,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steady_state_measurement_duration_ms:0,steady_state_min_buffer_duration_sec:0,steady_state_target_latency_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:3,stream_interrupt_in_play_buffer_overflow_target:1,tagged_time_range_per_append_throttle:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0,video_byte_threshold_to_clear_buffer:0};c={block_representation_status_codes_json:"[500]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","cr:9958","getOzPlaybackRestrictions","gkx","orEmptyArray","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","qex","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;b("cr:1836099")&&(h=b("cr:1836099").getHiveConfig(),i=b("cr:1836099").HiveOz);function a(a){var e=a.OzPlayerClass,f=a.callChain,g=a.destroyOzPlayerPartsRef,j=a.engineDebugAPI,k=a.engineExtrasAPI,l=a.getCaptionsInfo,m=a.getLatencyLevelManager,n=a.getOzQuickStarter,o=a.getVideoLiveTrace,p=a.handleCaptionsInfoChange,aa=a.handleFatalImplementationError,q=a.hivePluginRef,r=a.initialProps,s=a.logger,t=a.machine,u=a.overrideOzRequestImplementationRef,v=a.ozBufferingDetectorRef,w=a.ozPlayerRef,x=a.p2pSessionLoggerRef,y=a.playerVersion,z=a.resolvedVideoInfo,A=a.videoElement;a=a.videoElementAPI;var ba={current:0},B={current:!1},C={current:null},D={current:null};g.current=function(a){var b=v.current;b&&(v.current=null,b.destroy());b=w.current;b&&(j&&j.handleOzPlayerChanged(null),w.current=null,b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":")));b=C.current;b&&(C.current=null,b());D.current&&(D.current=null);Y();q.current&&(q.current=null);x.current&&(x.current=null);u.current&&(u.current=null)};g=z.accessToken;var E=z.audioOnly,F=z.experimentationConfig,G=z.graphQLVideoDRMInfo,H=z.graphQLVideoP2PSettings,I=z.manifestUrl,ca=z.manifestXmlStringResolved,da=z.minQualityPreference,ea=z.ozPrefetchCache,J=z.videoFBID,K=r.disableLogging?null:z.VideoPlayerShakaPerformanceLoggerClass;n=n();var L=Boolean(r.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),M=function(a){return k.getEstimatedBandwidth()},N=function(){return k.getApproximateFBLSToPlayerDisplayLatency()},fa=function(){F.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return M(L)}))},O=function(){var a=F.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(fa,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};C.current=O();O=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:g,graphQLVideoDRMInfo:G,videoFBID:J});G=function(){return t.getCurrentState().controlledState.captionsVisible};G=[new(c("OzBufferVTTCaptionsVisibleStrategy"))(G)];var P=function(){return t.getCurrentState().controlledState.dimensions},Q=function(){return t.getCurrentState().controlledState.playerFormat};g=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:K,accessToken:g,disableLogging:r.disableLogging,getApproximateFBLSToPlayerDisplayLatency:N,getBandwidthEstimate:M,getPlayerDimensions:P,getPlayerFormat:Q,playbackIsLiveStreaming:L,playerInstanceCount:r.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:r.loggingMetaData.instanceKey,playerSuborigin:r.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:y,videoElement:A,videoFBID:J,videoPlayerShakaPerformanceLoggerBuilder:z.videoPlayerShakaPerformanceLoggerBuilder});D.current==null&&(D.current=new(c("OzCDNSignedQueryParams"))());if(H&&J!=null){N=H.community_info;Q=H.config;y=H.hive_initialization_options;z=x.current=(z=x.current)!=null?z:b("cr:1871597")?new(b("cr:1871597"))(J,N):null;try{if(!q.current){z&&z.logEnableP2P();J=function(a){x.current&&x.current.logHiveError(a)};N=function(b){var a=w.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);x.current&&x.current.logSessionActive(b.tech)};var R=function(b){var a=w.current;a&&a.injectExternalDebugEvent("P2PStats",b);x.current&&x.current.setCurrentHiveStats(b)},S=function(a){a=a.state;var b=t.getCurrentState();b=b.controlledState;b=b.playbackState;q.current&&a==="CLOSED"&&(Y(),V&&b!=="ended"&&(B.current&&I!=null?V.updatePlayerRunTimeConfig({manifestUrl:I}):V.load(I)))};R={HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:R},HiveJava:{},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:N,onError:J,onSessionStateChange:S,telemetryId:z?z.getSessionID():0};N=F.getNumber("hive_maximum_trimming_seconds",0);N>0&&(R.HiveJS.maximumTrimming={dash:N,hls:N});if(y){J=y.HiveJava;S=y.debugLevel;N=y.hiveTechOrder;R.hiveTechOrder=N.slice();R.HiveJava=J?{minVersion:J.minVersion}:{};R.debugLevel=(y=S)!=null?y:R.debugLevel}c("gkx")("2047688")&&(R=babelHelpers["extends"]({},R,{testId:"fb_video_player_p2p_jest_e2e"}));if(Q.disable_hivejava_for_livevc===!0&&I!=null&&I.startsWith("https://livestream-lookaside")){N=R.hiveTechOrder.indexOf("HiveJava");N>=0&&R.hiveTechOrder.splice(N,1)}if(h)h.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(i)q.current=new i(R);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(q.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");u.current=b("cr:1947728")(q.current.getRequestImplementation(),{inferResponseStatusIsOK:c("gkx")("3951"),inferResponseStatusIsOk2xx:c("gkx")("277")})}}}catch(a){z&&z.logError(a),Y()}}J=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=o();d!=null&&d.handleHeadersAndBody(a,b,c)},F.getBool("live_trace_parse_emsg",!1))];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&J.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(a,b){if(c("gkx")("1664503")){var e=w.current,f=a.headers;if(e&&f){f=parseInt(f.get("x-fb-video-replica"),10);s.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:a.status.toString(),error_user_info:JSON.stringify({failover_response_code:a.status.toString(),replica:f,url:b})},state:t.getCurrentState()});a=e.getMpdUrl();if(a!=null){b=d("ConstUriUtils").getUri(a);if(b){a=b.addQueryParam("replica",f);a&&(Y(),e.updatePlayerRunTimeConfig({manifestUrl:a.toString()}))}}}}}));var T=r.expiredVideoUrlRefreshHandler,ga=r.loggingMetaData.instanceKey;S=c("gkx")("221");y=c("gkx")("1836350")||c("gkx")("1993562");var U=L?S:y;F.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");Q={audioOnly:(Q=E)!=null?Q:!1,bufferEndLimit:r.bufferEndLimit!=null?r.bufferEndLimit:null,bufferingDetector:(N=v.current)!=null?N:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(F),configureCustomRequestParametersForSegment:function(a){var b=null;if(F.getBool("live_video_send_transaction_id_in_requests",!1)){a=a.getOptions();var c=a.getSegmentRequestTransactionID();c==null&&(c=++ba.current,a.setSegmentRequestTransactionID(c));b=(a=b)!=null?a:{};b=babelHelpers["extends"]({},b,{_nc_tsid:c.toString()})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:F}),customSegmentTimelineParser:F.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:G,debugCreateInitiator:[].concat(f,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:O,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:F,getCurrentVideoRepresentation:function(){var a=w.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return D.current},playbackIsLiveStreaming:L,playbackSessionId:ga,shouldRefresh403:U})},getOverrideOzRequestImplementation:function(){return u.current},getShouldIncludeCredentials:F.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getVideoDimensions:P,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(F,(R=r.initialDesiredLatencyMs)!=null?R:0),initialRepresentationIDs:c("orEmptyArray")(r.initialRepresentationIds),liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(F,(z=r.initialDesiredLatencyMs)!=null?z:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(F,(S=r.initialDesiredLatencyMs)!=null?S:0,(y=r.initialLatencyToleranceMs)!=null?y:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("722076"),observedOperationLoggers:n&&K&&K.shouldInitialize()?n.getObservedOperationLoggers():[],perfLoggerProviders:g},mpdUrl:I,networkRequestStreamHandlers:J,networkRequestStreamRetryHandler:U?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),h=D.current;if(a.status===403&&h!=null){s.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:t.getCurrentState()});f=null;g!=null&&b("cr:1993377")!=null?f=b("cr:1993377")(g):T!=null&&(f=T(e));if(f!=null)return f.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null){s.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refreshed_url:b})},state:t.getCurrentState()});h.update(b);return d()}else{throw c("unrecoverableViolation")("expiredVideoUrlRefreshHandler refreshed url should not be "+((b==null?void 0:b.length)===0?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){s.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_url:g})},state:t.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:F.getBool("use_prefetch_cache",!1)?ea:null,rawMpdXml:q.current?void 0:ca,seekHandler:c("gkx")("1482680")?function(a){var b=A.currentTime;t.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});A.currentTime=a}:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());if(c("gkx")("951")){var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:F.getBool("fix_start_timestamp",!1)?r.startTimestamp:0,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNodeOrQuickStarter:(E=n)!=null?E:A,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(da,F)};var V=new e(Q);w.current=V;v.current&&v.current.attachPerfLoggerProvider(V.getPerfLoggerProvider());N=r.loggingMetaData.playerImplementationInstanceCountRef;N.current++;V.onError(function(a){K&&K.flushQueuedLogs(),aa(a,"oz_player_error")});V.addListener("switchVideoRepresentation",function(){t.dispatch({payload:{targetVideoQuality:k.getCurrentTargetVideoQuality()},type:"representation_changed"})});var W=function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");t.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};V.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(F,a)});V.addListener("manifestFetchErrorRetry",function(a){W(a)});V.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(F,a)});V.addListener("streamErrorRetry",function(a){W(a)});V.addListener("streamInterruptAt",function(){t.dispatch({type:"stream_interrupted"})});V.addListener("streamResumedAt",function(){t.dispatch({type:"stream_resumed"})});V.addListener("streamEnd",function(){Y(),t.dispatch({type:"stream_ended"})});V.addListener("videoNodeErrorRetry",function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromVideoNodeError(a,"oz_player_stream_error_retry");t.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});n==null?(V.addListener("enterBuffering",function(a){if(c("gkx")("1235655"))return;t.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})}),V.addListener("leaveBuffering",function(){t.dispatch({type:"buffering_end_requested"})})):d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(A,a,F,t,v);j&&j.handleOzPlayerChanged(V);var ha=function(){var a=l();a={inbandCaptionsAutogeneratedFromManifest:k.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:k.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:k.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=t.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&p(a)},ia=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;t.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},ja=function(){var a=k.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-F.getNumber("live_rewind_seek_to_live_delta",8),b);t.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},ka=function(){var a=V.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=o();typeof a==="number"&&b!=null&&b.setStreamType(a)},la=function(a){var d=function(){ja(),ha(),ka()};a.addListener("updated",d);c("gkx")("1656434")&&d();a=b("cr:9958")!=null?b("cr:9958")(t):null;V.updatePlayerRunTimeConfig({audioStreamDataHandler:a,videoStreamDataHandler:ia});if(k.isPredictiveDash()){F.setContext("streaming_implementation","pdash");d=m();d&&d.maybeUpdateLatencyLevel()}a=l();p({inbandCaptionsAutogeneratedFromManifest:k.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:k.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:k.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};V.addListener("vttCaptionsUpdated",function(a){var b="webvtt",c=t.getCurrentState().controlledState.captionFormat;b!==c&&t.dispatch({payload:{captionFormat:b},type:"controller_set_caption_format_requested"});t.dispatch({payload:{activeCaptions:a},type:"controller_set_active_captions_requested"})});V.addListener("mpdParsed",function(a){k.isPredictiveDash()&&F.setContext("streaming_implementation","pdash")});V.addListener("mpdReady",function(a){B.current=!0;la(a);t.dispatch({payload:{availableQualities:k.getAvailableVideoQualities(),selectedVideoQuality:k.getUserSelectedVideoQuality(),targetVideoQuality:k.getCurrentTargetVideoQuality(),videoProjection:(a=k.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});V.addListener("representationBlocked",function(a){t.dispatch({payload:{availableQualities:k.getAvailableVideoQualities(),blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var X=null;function Y(){c("clearTimeout")(X);var a=q.current,b=x.current;if(a!=null){q.current=null;x.current=null;u.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}G=q.current;f=H==null?void 0:H.ticket;if(I!=null&&H&&G&&f!=null){O=V.getPerfLoggerProvider();O&&O.setIsP2pPlayback(!0);P=I.substring(I.indexOf("?"));R=G.initSession(f+P,V,A);var Z=(z=c("qex")._("712"))!=null?z:0,$=new(c("Deferred"))();Z>0&&(X=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+Z+"ms"))},Z));R.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(X);var b=a.manifest;a=a.tech;var d=x.current;b!==I&&d&&d.logManifestMismatch(b,I);d&&d.logSessionInit(a,b);s.setAdditionalLogData("is_p2p_playback",!0);V.load(b)})["catch"](function(a){c("clearTimeout")(X);var b=x.current;b&&b.logError(a);Y();V.load(I)})}else s.setAdditionalLogData("is_p2p_playback",!1),V.load(I)}g.proceedWithOzPlayerCreation=a}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2="normal",this.$4=null,this.$1=a,this.$3=b}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$5();a!==this.$2&&(this.$2=a,this.$3.dispatch({payload:{latencyLevel:a},type:"implementation_set_latency_level_requested"}))};b.$5=function(){var a=[];try{a=JSON.parse(this.$1.getString("player_formats_for_low_latency","[]"))}catch(a){}return a.includes("*")||a.includes(this.$4)?"low":"normal"};return a}();f["default"]=a}),66);
__d("VideoPlayerOzQuickStarterUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.end,c=a.start,e;if(c!==null&&c!==void 0&&b!==null&&b!==void 0){var f;e=(f=d("ConstUriUtils").getUri(a.url))==null?void 0:(f=f.addQueryParam("bytestart",c))==null?void 0:(c=f.addQueryParam("byteend",b))==null?void 0:c.toString()}return(f=e)!=null?f:a.url}function i(a,b,c,d){c=h(c);a=a.getCacheValue(c);if(!a){b.push(d);return null}return a}function j(a,b){return a.find(function(a){return a.segmentType===b})}function a(a,b,c,d){var e=j(c,"init");c=j(c,"data");if(e){var f=i(a,b,e,d+" init");if(!f)return null;var g;c&&(g=i(a,b,c,d+" data"));return{initializationPromise:f,mimeCodec:e.mimeCodec,representationID:e.representationID,segmentPromise:g}}return null}g.createPrefetchDataForTrack=a}),98);
__d("VideoPlayerOzImplementationEngine",["VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzQuickStarterUtils","cr:10753","cr:1473549","cr:1494460","cr:1534629","cr:1952","cr:4686","cr:72","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.debugLogId,f=a.handleFatalError,g=a.initialProps;a=a.setExposedStateInReact;var i={current:null},j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null};function w(){var a;return(a=p.current)!=null?a:null}function x(){var a;return(a=o.current)!=null?a:null}function y(){return n.current}function z(){var a;return(a=(a=j.current)==null?void 0:a.experimentationConfig)!=null?a:null}function A(){var a;return(a=Y.current)!=null?a:null}function B(){var a;return(a=v.current)!=null?a:null}var C;b("cr:1473549")&&(C=new(b("cr:1473549"))());var D="comet_oz",E=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},F=function(a,b){return a.videoFBID!==b.videoFBID},G=function(a){return a.getBool("use_full_player_if_cached",!1)&&b("cr:1534629")?b("cr:1534629")().getModuleIfRequireable():null},H=function(a,b,c){b!=null?j.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):j.current=a,X.dispatch({type:"implementation_engine_oz_manifest_downloading"}),m.current=G(a.experimentationConfig),L(m.current,[].concat(c,["proceedWithOzManifestDownloading"]))},I=function(a){var e,f=a.manifestUrl,g=a.manifest,h=null;b("cr:4686")?a.videoFBID!=null&&(h=b("cr:4686").get(a.videoFBID)):b("cr:1952")&&(h=new(b("cr:1952"))());e={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,manifestUrl:(e=f)!=null?e:null,manifestXmlStringInitial:(e=g)!=null?e:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:h,ozQuickStarterData:a.ozQuickStarterData,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};h=i.current;v.current==null&&(v.current=new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,X));a.loggingMetaData.coreVideoPlayerMetaData.playerFormat!=null&&X.dispatch({payload:{playerFormat:a.loggingMetaData.coreVideoPlayerMetaData.playerFormat},type:"controller_set_player_format"});v.current.updatePlayerFormat((a=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?a:null);a=!1;if(h==null)a=!0;else if(h!=null&&!F(e,h)&&E(e,h)){var j=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",j);a=!1}else if(h!=null&&F(e,h))throw c("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!a)return!1;f=e.manifestUrl;g=e.manifestXmlStringInitial;if(g==null&&f==null)throw c("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");i.current=e;H(e,g,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},J=function(a,b,e,f,g){var h=function(b){if(l.current!==a)return;m.current=b;L(b,[].concat(g,["handleOzPlayerModuleLoadSuccess"]))},i=function(b){if(l.current!==a)return;V(b,"oz_player_module_load_failed")};l.current=a;var j=f.experimentationConfig,k=f.ozQuickStarterData;if(n.current==null&&b!=null&&f!=null&&(!j.getBool("prevent_unnecessary_quickstarter_instance",!1)||k!=null)){j=new b(e,f.experimentationConfig);c("gkx")("1494163")&&(n.current=j);if(k!=null){b=f.ozPrefetchCache;e=[];if(b!=null){f=d("VideoPlayerOzQuickStarterUtils").createPrefetchDataForTrack(b,e,k.video,"video");if(f){j.addPrefetchTrack(f);f=d("VideoPlayerOzQuickStarterUtils").createPrefetchDataForTrack(b,e,k.audio,"audio");f&&j.addPrefetchTrack(f)}}}j.addListener("streamEnd",function(){X.dispatch({type:"stream_ended"})});c("gkx")("1494163")||(n.current=j)}c("promiseDone")(a,h,i)},K=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Y.current=a;return a},L=function(a,c){var e=S(),f=j.current;if(e==null||f==null)return;var g=K(e),h=f.experimentationConfig;a?M(a,e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):b("cr:1494460")?M(b("cr:1494460")(),e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderSync"])):b("cr:1534629")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,X,p),J(b("cr:1534629")().load(),b("cr:10753"),e,f,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):V(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},M=function(a,b,e,f,h){try{var i={OzPlayerClass:a,callChain:[].concat(h,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:C,engineExtrasAPI:Q,getCaptionsInfo:R,getLatencyLevelManager:B,getOzQuickStarter:y,getVideoLiveTrace:T,handleCaptionsInfoChange:U,handleFatalImplementationError:V,initialProps:g,logger:W,machine:X,ozBufferingDetectorRef:p,playerVersion:D,resolvedVideoInfo:f,videoElement:b,videoElementAPI:e};a=z();h=g.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&h!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,h,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));k.current=f}catch(a){V(a,"oz_player_create_exception")}};function N(a){c("gkx")("1494163")&&(k.current=null);var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null);b=n.current;b&&(n.current=null);c("gkx")("1494163")&&(n.current=null)}function O(){if(c("gkx")("1494163"))i.current=null,j.current=null,k.current=null;else return}function P(){l.current=null,m.current=null}var Q=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:z,getOzPlayer:x,getOzQuickStarter:y,getVideoElementAPI:A});A=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return C?C.createDebugAPI({engineExtrasAPI:Q,getConfig:function(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:w,getOzPlayer:x,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:e,destroyEngineParts:function(a){N([].concat(a,["destroyEngineParts"])),O(),P()},engineExtrasAPI:Q,engineMetadata:{isAbrEnabled:!0,isExternalMedia:!1,playerImplementationName:"oz_v2",playerVersion:D,streamingFormat:"dash"},handleFatalError:f,handleVideoElementMounted:function(a){var b=S();L(m.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){(c("gkx")("1494163")||c("gkx")("1380112"))&&N([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:I,initialProps:g,setExposedStateInReact:a});e=A.engine;var R=A.getCaptionsInfo,S=A.getVideoElement,T=A.getVideoLiveTrace,U=A.handleCaptionsInfoChange,V=A.handleFatalImplementationError,W=A.logger,X=A.machine,Y=A.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerOzImplementationEngine","react","useSEOLoggedOutWebCrawler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine),e=b[0];b=b[1];var f=c("useSEOLoggedOutWebCrawler")(),g={src:null,videoElementCallbacks:b.videoElementCallbacks,videoElementRefCallback:b.videoElementRefCallback};f&&(g={src:a.manifestUrl,videoElementCallbacks:null,videoElementRefCallback:null});return h.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,implementationController:b.implementationController,implementationExposedState:e,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,src:g.src,videoElementCallbacks:g.videoElementCallbacks,videoElementRefCallback:g.videoElementRefCallback})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerShakaImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.videoData;a=a.videoPlayerShakaConfig;return b==null?null:{videoData:b,videoPlayerShakaConfig:a}}f.makeShakaImplementationData=a}),66);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("useOzImplementationData",["CometRelay","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","react","useOzImplementationData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e){var f=e.manifestURL_DO_NOT_USE,g=e.ozQuickStarterData,j=e.videoPlayerShakaConfig,k=i(function(){return j==null?null:new(c("VideoPlayerOzWWWConfig"))(j)},[j]),l=d("CometRelay").useFragment(h!==void 0?h:h=b("useOzImplementationData_video.graphql"),a);return i(function(){return d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:l.can_use_oz,dashManifest:f!=null?null:l.dash_manifest,dashUrl:f!=null?f:l.playable_url_dash,experimentationConfig:k,minQualityPreference:l.min_quality_preference,ozQuickStarterData:f!=null?null:g,videoFBID:l.id})},[l,f,k,g])}g["default"]=a}),98);
__d("useProgressiveImplementationData",["CometRelay","VideoPlayerProgressiveImplementationData","gkx","useProgressiveImplementationData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f,g;e=e.initialForceHD;e=e===void 0?!1:e;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useProgressiveImplementationData_video.graphql"),a);f=a.is_spherical===!0?(f=(f=a.spherical_video_fallback_urls)==null?void 0:f.hd)!=null?f:a.playable_url_quality_hd:a.playable_url_quality_hd;g=a.is_spherical===!0?(g=(g=a.spherical_video_fallback_urls)==null?void 0:g.sd)!=null?g:a.playable_url:a.playable_url;var i=a.is_rss_podcast_video===!0,j=c("gkx")("1129");return d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:f,hdSrcPreferred:e===!0||j||a.min_quality_preference==="HD"||a.min_quality_preference==="UHD",isExternalMedia:i,sdSrc:g})}g["default"]=a}),98);
__d("useShakaImplementationData",["CometRelay","VideoPlayerShakaImplementationData","cr:1604324","react","recoverableViolation","useShakaImplementationData_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e){var f=e.videoPlayerShakaConfig,g=d("CometRelay").useFragment(h!==void 0?h:h=b("useShakaImplementationData_video.graphql"),a);return i(function(){var a;if(g.is_rss_podcast_video===!0)return null;a=(a=g.video_player_shaka_live_p2p_init)==null?void 0:a.json_encoded_video_data;if(a==null)return null;if(b("cr:1604324")==null)return c("recoverableViolation")("VideoData is not supported","comet_video_player");var e=null;try{e=new(b("cr:1604324"))(JSON.parse(a))}catch(a){c("recoverableViolation")("VideoData JSON is broken","comet_video_player")}return d("VideoPlayerShakaImplementationData").makeShakaImplementationData({videoData:e,videoPlayerShakaConfig:f})},[g,f])}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){var c;a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var e=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null;if(e!=null&&((c=a.video_player_shaka_performance_logger_init2)==null?void 0:c.per_session_sampling_rate)!==null){return new e({perSessionSamplingRate:(c=a.video_player_shaka_performance_logger_init2)==null?void 0:c.per_session_sampling_rate})}return null}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);var c=a.video_player_shaka_performance_logger_init?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null;c!=null&&a.video_player_shaka_performance_logger_should_sample===!0&&c.forceShouldSample();return c}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoPlayerShakaPerformanceLoggerRelayImpl")}),98);
__d("makeOzPlayerAudioStreamEventDataHandler",["DataViewReader","FBLogger","Mp4DASHEventMessageBox","Mp4Demuxer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.bind(null,a)}function h(a,b,d){if(a.getCurrentState().controlledState.emsgObserverTokens.size===0)return;b=new(c("Mp4Demuxer"))(new DataView(d));while(!b.atEnd()){d=b.parseBox();if(d.getType()===c("Mp4DASHEventMessageBox").canonicalType){var e=b.parseCanonicalBox(c("Mp4DASHEventMessageBox"),b.parseFullBox(d));if(e instanceof c("Mp4DASHEventMessageBox")){var f=i(e);f!=null&&a.dispatch({payload:{emsgBox:{box:e,payload:f}},type:"emsg_box_received"})}}b.skipBox(d)}}function i(a){try{a=a.getMessageData();a=new(c("DataViewReader"))(a).readZeroTerminatedString(a.byteLength);a=JSON.parse(a);return j(a)}catch(a){c("FBLogger")("comet_video_player").catching(a).warn("Parsing emsg data failed: %s",String(a))}return null}function j(a){a=k(a.rosterData);return a==null?null:{data:a,type:"roster_data"}}function k(a){if(typeof a!=="object"||!Array.isArray(a.speakerInfoList)||typeof a.activeSpeaker!=="string"&&typeof a.activeSpeaker!=="number")return null;return a.speakerInfoList.findIndex(function(a){return typeof a.audioMuted!=="boolean"||typeof a.id!=="string"&&typeof a.id!=="number"})!==-1?null:a}g["default"]=a}),98);
__d("useCometRelayExpiredVideoUrlRefreshHandler",["CometRelay","react","unrecoverableViolation","useCometRelayExpiredVideoUrlRefreshHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback;function a(a){var e=d("CometRelay").useRelayEnvironment();if(a==null||a.length===0)throw c("unrecoverableViolation")("refreshCometRelayVideoPlayerExpiredUrl videoFBID cannot be "+((a==null?void 0:a.length)===0?"an empty string":"null"),"comet_video_player");var f=i(function(c){var f=h!==void 0?h:h=b("useCometRelayExpiredVideoUrlRefreshHandlerQuery.graphql");return d("CometRelay").fetchQuery(e,f,{expiredURL:btoa(c),videoID:a}).toPromise().then(function(a){var b;b=(b=a==null?void 0:(b=a.video)==null?void 0:(b=b.rmd_refreshed_url)==null?void 0:b.new_url)!=null?b:null;a=(a=a==null?void 0:(a=a.video)==null?void 0:(a=a.rmd_refreshed_url)==null?void 0:a.reason)!=null?a:null;return{reason:a,refreshedUrl:b}})},[e,a]);return f}g["default"]=a}),98);
__d("manifestHasUnsupportedCodecs",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!c("gkx")("1917833")||window.MediaSource==null||a==null||typeof a!=="string")return!1;var b=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,d;while(d=b.exec(a)){d=d[1]+'; codecs="'+d[2]+'"';if(!window.MediaSource.isTypeSupported(d))return!0}return!1}g["default"]=a}),98);
__d("useVideoImplementationsImpl",["CometRelay","ErrorMetadata","VideoPlayerOzImplementationV2.react","VideoPlayerProgressiveImplementationV2.react","cr:1604325","err","gkx","manifestHasUnsupportedCodecs","recoverableViolation","useOzImplementationData","useProgressiveImplementationData","useShakaImplementationData","useVideoImplementationsImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=[],g=e.forceProgressiveImpl;g=g===void 0?!1:g;var i=e.initialForceHD;i=i===void 0?!1:i;var j=e.manifestURL_DO_NOT_USE,k=e.ozQuickStarterData,l=e.videoFBID;e=e.videoPlayerShakaConfig;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsImpl_video.graphql"),a);var m=c("useShakaImplementationData")(a,{videoPlayerShakaConfig:e});m!=null&&(b("cr:1604325")==null?c("recoverableViolation")("VideoPlayerShakaImplementation is not supported","comet_video_player"):f.push({Component:b("cr:1604325"),data:m,typename:"VideoPlayerShakaImplementation"}));m=c("useOzImplementationData")(a,{manifestURL_DO_NOT_USE:j,ozQuickStarterData:k,videoPlayerShakaConfig:e});j=m!=null&&c("manifestHasUnsupportedCodecs")(m.manifest);!g&&m!=null&&(m.manifest!=null&&!j||m.manifestUrl!=null)&&f.push({Component:c("VideoPlayerOzImplementationV2.react"),data:m,typename:"VideoPlayerOzImplementation"});k=c("useProgressiveImplementationData")(a,{initialForceHD:i});c("VideoPlayerProgressiveImplementationV2.react")!=null&&k!=null&&f.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:k,typename:"VideoPlayerProgressiveImplementation"});if(f.length===0&&c("gkx")("1611172")){e=c("err")("Cannot play video: No matching video player implementations");a={forced_progressive:g,has_oz_data:m!=null,has_oz_manifest:(m==null?void 0:m.manifest)!=null,has_oz_manifest_url:(m==null?void 0:m.manifestUrl)!=null,has_oz_unsupported_codecs:j,has_progressive_data:k!=null};e.metadata=new(c("ErrorMetadata"))();e.metadata.addEntries(["COMET_VIDEO","VIDEO_ID",String(l)],["COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify(a)]);c("recoverableViolation")("useVideoImplementations: No matching video player implementations","comet_video_player",{error:e})}return f}g["default"]=a}),98);
__d("useVideoImplementations",["useVideoImplementationsImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsImpl")}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("useVideoPlayerShakaConfig",["CometRelay","VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","oz-player/networks/OzBandwidthEstimator","react","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useState;function a(a,e){e=e.adClientToken;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaConfig_video.graphql"),a),g=e!=null,k=f.is_spherical===!0,l=f.is_gaming_video===!0;e=c("useSelectedLatencySetting")((a=f.id)!=null?a:"null",f.selected_latency_setting);var m=e[0];a=j(function(){var a;return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}),content_category:l?"gaming":"general",fbls_tier:((a=f.fbls_tier)==null?void 0:a.startsWith("user"))?"user":"general",is_ad:g,is_latency_sensitive_broadcast:f.is_latency_sensitive_broadcast===!0,is_live:f.is_live_streaming===!0,is_spherical:k,latency_level:f.is_latency_menu_enabled===!0?m:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})});var n=a[0];i(function(){n.setContext("is_ad",g)},[n,g]);i(function(){n.setContext("is_spherical",k)},[n,k]);return n}g["default"]=a}),98);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){e(f);f.setError(a);f.log();throw a})}f.executeOperationAndLog=a;f.monitorPromiseAndLogOperation=b}),66);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$50=new Map(),this.$1=a}var b=a.prototype;b.start=function(){var a=Date.now();this.setClientTimeBegin(a);this.setClientTimeEnd(null);this.setClientTimeDuration(null);return this};b.log=function(){var a=Date.now(),b=this.getClientTimeBegin(),c=this.getClientTimeEnd();(b==null||b===0)&&(b=a,this.setClientTimeBegin(b));(c==null||c===0)&&(c=a,this.setClientTimeEnd(c));this.setClientTimeDuration(c-b)};b.setError=function(a){this.$2=a;return this};b.setPerSessionSamplingRate=function(a){this.$3=a;return this};b.setAppendTarget=function(a){this.$45=a;return this};b.setOneObserved=function(a){this.$42=a;return this};b.setOneReqWave=function(a){this.$43=a;return this};b.setOneResWave=function(a){this.$44=a;return this};b.setIsP2pPlayback=function(a){this.$41=a;return this};b.setResult=function(a){this.$4=a;return this};b.setType=function(a){this.$5=a;return this};b.setClientTimeBegin=function(a){this.$6=a;return this};b.setClientTimeDuration=function(a){this.$7=a;return this};b.setClientTimeEnd=function(a){this.$8=a;return this};b.setSegmentCount=function(a){this.$15=a;return this};b.setTimeToFirstByte=function(a){this.$9=a;return this};b.setTimeToLastByte=function(a){this.$10=a;return this};b.setTimeToRequestStart=function(a){this.$11=a;return this};b.setTimeToRequestSent=function(a){this.$12=a;return this};b.setReason=function(a){this.$13=a;return this};b.setResource=function(a){this.$14=a;return this};b.setSegmentStartTime=function(a){this.$16=a;return this};b.setSegmentEndTime=function(a){this.$17=a;return this};b.setLength=function(a){this.$18=a;return this};b.setLiveheadPosition=function(a){this.$19=a;return this};b.setLiveheadSeqNumHeader=function(a){this.$20=a;return this};b.setLiveheadSeqNumMpd=function(a){this.$21=a;return this};b.setManifestType=function(a){this.$22=a;return this};b.setPriorityFloat=function(a){this.$23=a;return this};b.setAppendedBufferMs=function(a){this.$24=a;return this};b.setInitiator=function(a){this.$25=a;return this};b.setPreloadTime=function(a){this.$26=a;return this};b.setConcluder=function(a){this.$27=a;return this};b.setPreviousRepresentationID=function(a){this.$28=a;return this};b.setRepresentationID=function(a){this.$29=a;return this};b.setStreamSwitchReason=function(a){this.$30=a;return this};b.setState=function(a){this.$31=a;return this};b.setContentLengthHeader=function(a){this.$32=a;return this};b.setOriginHitHeader=function(a){this.$34=a;return this};b.setEdgeHitHeader=function(a){this.$35=a;return this};b.setFNAHitHeader=function(a){this.$36=a;return this};b.setCode=function(a){this.$33=a;return this};b.setResponseTimeMsHeader=function(a){this.$37=a;return this};b.setIsTemplatedManifest=function(a){this.$38=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$39=a;return this};b.setPlayerFormat=function(a){this.$40=a;return this};b.setIsRingBufferSample=function(a){this.$46=a;return this};b.setIsOnline=function(a){this.$47=a;return this};b.setProxyStatusHeader=function(a){this.$48=a;return this};b.setPlaybackFbmsParam=function(a){return this};b.setPreferredEdgeLatency=function(a){this.$49=a;return this};b.setUserInfo=function(a){return this};b.setDynamicStatusHeader=function(a){return this};b.getPerSessionSamplingRate=function(){return this.$3};b.setMediaSourceSourceBuffer=function(a,b){this.$50.set(a,b);return this};b.unsetMediaSourceSourceBuffers=function(){this.$50.clear();return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$4};b.getType=function(){return this.$5};b.getClientTimeBegin=function(){return this.$6};b.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8};b.getTimeToRequestStart=function(){return this.$11};b.getTimeToRequestSent=function(){return this.$12};b.getReason=function(){return this.$13};b.getResource=function(){return this.$14};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$16};b.getSegmentEndTime=function(){return this.$17};b.getLength=function(){return this.$18};b.getLiveheadPosition=function(){return this.$19};b.getManifestType=function(){return this.$22};b.getPriorityFloat=function(){return this.$23};b.getAppendedBufferMs=function(){return this.$24};b.getInitiator=function(){return this.$25};b.getPreloadTime=function(){return this.$26};b.getConcluder=function(){return this.$27};b.getContentLengthHeader=function(){return this.$32};b.getOriginHitHeader=function(){return this.$34};b.getEdgeHitHeader=function(){return this.$35};b.getFNAHitHeader=function(){return this.$36};b.getCode=function(){return this.$33};b.getResponseTimeMsHeader=function(){return this.$37};b.getIsTemplatedManifest=function(){return this.$38};b.getOneObserved=function(){return this.$42};b.getOneReqWave=function(){return this.$43};b.getOneResWave=function(){return this.$44};b.getAppendTarget=function(){return this.$45};b.getIsRingBufferSample=function(){return this.$46};b.getIsOnline=function(){return this.$47};b.getProxyStatusHeader=function(){return this.$48};b.getMediaSourceSourceBuffers=function(){return this.$50};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;b===void 0&&(b=!1);d=a.call(this)||this;d.$OzErrorEmitter1=!1;d.$OzErrorEmitter2=!1;d.$OzErrorEmitter3=[];d.emitError=function(a){!d.$OzErrorEmitter1?d.$OzErrorEmitter2?d.$OzErrorEmitter3.push(a):d.$OzErrorEmitter1||c("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter2=b;return d}var d=b.prototype;d.onError=function(a){this.$OzErrorEmitter1=!0;a=this.addListener("error",a);this.$OzErrorEmitter2&&this.$OzErrorEmitter3.length>0&&this.$OzErrorEmitter3.forEach(this.emitError);return a};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=null);this.$1=null;this.$2=new Map();this.$4=!1;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=new(c("oz-player/utils/OzErrorEmitter"))();this.$8=!1;this.$9=null;this.$10=0;this.$12=[];this.$14=[];this.$24=function(a){a instanceof c("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed")};this.$21=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."));var b=f.$5.mediaKeys!=null?c("oz-player/shims/OzMaybeNativePromise").resolve(f.$5.mediaKeys):a.createMediaKeys();return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}}),f.$3,"drm_create_media_keys",function(){},f.$24)};this.$22=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("OzDrmManager destroyed before call to setMediaKeys()"));var b=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=f.$5.setMediaKeys(e).then(function(){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("OzDrmManager destroyed after setMediaKeys() called."));var a=Array.from(f.$2.values()).find(function(a){return a.getKeySystem()===b.keySystem});if(!a)throw new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+b.keySystem});var d=a.getServerCertificate();return d?e.setServerCertificate(d).then(function(){return{mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_set_media_keys",function(){},f.$24)};this.$23=function(a){var b=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){f.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f.$5,"encrypted",function(a){f.$25(b,e,a)["catch"](function(a){f.$17(a,"encrypted")})}));return c("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return f.$25(b,e,{initData:a.data,initDataType:a.type})});return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(c("oz-player/shims/OzMaybeNativePromise").all(a),f.$3,"drm_request_license",function(){},f.$24)};this.$5=b;this.$1=e;this.$3=a.cloneContext().setType("drm_manager")}var b=a.prototype;b.hasContentProtections=function(){return this.$9};b.onError=function(a){return this.$7.onError(a)};b.$15=function(a,b){var d;a instanceof c("oz-player/utils/OzError")?d=a:a instanceof Error?(a.stack,d=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{originalError:a}})):a!=null&&typeof a.message==="string"?d=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{}}):d=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Unknown DRM "+b+" error",extra:{}});return d};b.$16=function(a){this.$7.emitError(a)};b.$17=function(a,b){var c;c=(c=(c=this.$1)==null?void 0:c.maxStartEMEAttempts)!=null?c:-1;this.$10<c?this.$18():this.$16(this.$15(a,b))};b.addProvider=function(a){this.$2.set(a.getSchemeId(),a)};b.getProviderForSchemeId=function(a){return this.$2.get(a)};b.parseContentProtectionForRepresentation=function(a){if(!a.ContentProtection)return null;var b=[];for(var c=0;c<a.ContentProtection.length;c++){var e=a.ContentProtection[c],f=e.$.schemeIdUri;f=this.getProviderForSchemeId(f);if(f){var g=f.getInitDatas();if(g.length==0&&e["cenc:pssh"]&&e["cenc:pssh"].length===1){e=(e=e["cenc:pssh"][0]._)!=null?e:"";e=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(e.replace(/-/g,"+").replace(/_/g,"/"));g=[{data:e,type:"cenc"}];f.setInitDatas(g)}b.push({provider:f,initDatas:g})}}return b};b.$18=function(){try{this.$8=!1,this.startEME(this.$11,this.$12,this.$13,this.$14)}catch(b){var a=b;this.$16(new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+String(a),extra:{}}))}};b.startEME=function(a,b,d,e){var f=this;if(this.$8)return;this.$8=!0;this.$10+=1;this.$11=a;this.$12=b;this.$13=d;this.$14=e;var g=new Map();this.$19(d,e,g,"audio");this.$19(a,b,g,"video");var h;g.forEach(function(a,b){!h?h=f.$20(b,a):h=h["catch"](function(){return f.$20(b,a)})});if(!h){this.$9=!1;return}this.$9=!0;var i=this.$3.getOperationLogger("drm_setup").start();h.then(this.$21).then(this.$22).then(this.$23).then(function(){return i.log()},function(a){a=a!=null?f.$15(a,"keypromisechain"):new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Unknown DRM setup error",extra:{}});f.$16(a);i.setResult("failed").setError(a).log()})};b.$19=function(a,b,c,d){var e=this;b.forEach(function(b){var f;a&&a.ContentProtection?f=e.parseContentProtectionForRepresentation(a):f=b.getCustomField("drmProtections");var g=b.getMimeCodecs();f!==void 0&&f!==null&&f.forEach(function(a){a=a.provider;var b=a.getKeySystem(),e=c.get(b);e||(e={audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()},c.set(b,e));d==="audio"&&!e.audioCapabilities.has(g)&&e.audioCapabilities.set(g,{contentType:g,robustness:a.getAudioRobustness()});d==="video"&&!e.videoCapabilities.has(g)&&e.videoCapabilities.set(g,{contentType:g,robustness:a.getVideoRobustness()})})})};b.destroy=function(){this.$6.release(),this.$4=!0};b.$20=function(a,b){b={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(window.navigator.requestMediaKeySystemAccess(a,[b]),this.$3,"drm_request_media_key_system_access",function(){},this.$24)};b.$25=function(a,b,d){var e=this,f=a.createSession();this.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f,"message",function(a){e.$26(f,b,a)["catch"](function(a){e.$17(a,"message")})}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f,"keystatuseschange",function(a){e.$27(f)["catch"](function(a){e.$17(a,"keystatuseschange")})}));return f.generateRequest(d.initDataType,d.initData)};b.$26=function(a,b,d){var e=this;d=b.getLicenseRequestInfo(d.message.slice(0));var f=this.$3.getOperationLogger("drm_fetch_license").setResource(d.url).start();return window.fetch(d.url,d).then(function(d){(d==null?void 0:d.ok)?f.setResult("success").setCode(d==null?void 0:d.status).log():f.setResult("failed").setCode(d==null?void 0:d.status).setError(new Error("HTTP status not OK")).log();return d.arrayBuffer().then(function(f){var g=new Uint8Array(f);g=b.parseLicenseResponse(g);if(g===null||g===void 0||g.byteLength===0){var h=new Error("License is null, undefined, or 0 bytes.");h=(d==null?void 0:d.ok)?h:new Error("HTTP status not OK");h=(d==null?void 0:d.ok)&&f.byteLength!==0?h:new Error("Received an OK response, but response body is 0 bytes");f=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No license for "+b.getKeySystem(),extra:{originalError:h,code:d==null?void 0:d.status.toString(),headers:d==null?void 0:d.headers,url:d==null?void 0:d.url}});h=(h=(h=e.$1)==null?void 0:h.throwNoLicenseError)!=null?h:!1;if(h)throw f;else e.$16(f)}else a.update(g)})})};b.$27=function(a){return a.expiration<Date.now()?a.close():c("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();g.OzDrmManager=a}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function i(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function j(a,b){return Math.floor(a).toString().padStart(b,"0")}function k(a,b){b===void 0&&(b=null);var c=function(a){return j(a.getHours(),2)+":"+j(a.getMinutes(),2)+":"+j(a.getSeconds(),2)+" "+j(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function l(a){return a==="failed"?i:h}function m(a){return a==null||a===0?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new n(a)};c.createLoggerProvider=function(){return new b()};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c!=null&&c!==0?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=m(this.getSegmentStartTime()),i=m(this.getSegmentEndTime());l(d)("["+d+"]",this.getOperationName()+": "+k(new Date(a),c),e!=null&&e!==""?"["+e+"]":"",h!=null&&h!==""&&i!=null&&i!==""?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzDevConsolePerfLoggerProvider=a;g.OzDevConsoleOperationLogger=n}),98);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){var b=new h(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider1)};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};c.setPerSessionSamplingRate=function(a){b.prototype.setPerSessionSamplingRate.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPerSessionSamplingRate(a)});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setClientTimeDuration=function(a){b.prototype.setClientTimeDuration.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeDuration(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setLiveheadSeqNumHeader=function(a){b.prototype.setLiveheadSeqNumHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNumHeader(a)});return this};c.setLiveheadSeqNumMpd=function(a){b.prototype.setLiveheadSeqNumMpd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNumMpd(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setEdgeHitHeader=function(a){b.prototype.setEdgeHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setEdgeHitHeader(a)});return this};c.setFNAHitHeader=function(a){b.prototype.setFNAHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setFNAHitHeader(a)});return this};c.setOriginHitHeader=function(a){b.prototype.setOriginHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOriginHitHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setCode(a)});return this};c.setResponseTimeMsHeader=function(a){b.prototype.setResponseTimeMsHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResponseTimeMsHeader(a)});return this};c.setIsTemplatedManifest=function(a){b.prototype.setIsTemplatedManifest.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsTemplatedManifest(a)});return this};c.setIsLatencyCachupEnabled=function(a){b.prototype.setIsLatencyCachupEnabled.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsLatencyCachupEnabled(a)});return this};c.setPlayerFormat=function(a){b.prototype.setPlayerFormat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPlayerFormat(a)});return this};c.setIsP2pPlayback=function(a){b.prototype.setIsP2pPlayback.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsP2pPlayback(a)});return this};c.setOneObserved=function(a){b.prototype.setOneObserved.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOneObserved(a)});return this};c.setOneReqWave=function(a){b.prototype.setOneReqWave.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOneReqWave(a)});return this};c.setOneResWave=function(a){b.prototype.setOneResWave.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOneResWave(a)});return this};c.setAppendTarget=function(a){b.prototype.setAppendTarget.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendTarget(a)});return this};c.setIsRingBufferSample=function(a){b.prototype.setIsRingBufferSample.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsRingBufferSample(a)});return this};c.setIsOnline=function(a){b.prototype.setIsOnline.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsOnline(a)});return this};c.setProxyStatusHeader=function(a){b.prototype.setProxyStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setProxyStatusHeader(a)});return this};c.setPlaybackFbmsParam=function(a){b.prototype.setPlaybackFbmsParam.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPlaybackFbmsParam(a)});return this};c.setPreferredEdgeLatency=function(a){b.prototype.setPreferredEdgeLatency.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreferredEdgeLatency(a)});return this};c.setUserInfo=function(a){b.prototype.setUserInfo.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setUserInfo(a)});return this};c.setDynamicStatusHeader=function(a){b.prototype.setDynamicStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setDynamicStatusHeader(a)});return this};c.setMediaSourceSourceBuffer=function(a,c){b.prototype.setMediaSourceSourceBuffer.call(this,a,c);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setMediaSourceSourceBuffer(a,c)});return this};c.unsetMediaSourceSourceBuffers=function(){b.prototype.unsetMediaSourceSourceBuffers.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.unsetMediaSourceSourceBuffers()});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzMultiDestinationPerfLoggerProvider=a}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("oz-player/shims/OzSubscriptionsHandler"))()}var b=a.prototype;b.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){var c=a.getClientTimeBegin()||0,d=a.getClientTimeEnd()||0;b.getOperationLogger(a.getOperationName()).setClientTimeBegin(c).setClientTimeDuration(d-c).setClientTimeEnd(d).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};b.destroy=function(){this.$1.release()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=null;this.$5={};a=a.config;this.$3=a}var b=a.prototype;b.getLastSegmentStartPTS=function(){return this.$1};b.updateWithResponse=function(a,b,d){if(!d.headers||d.status!=200)return;this.$1=c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(d.headers);this.$2=c("oz-player/shims/OzNetworkDiagnostics").getDvlStatus(d.headers);(this.$2!=null&&this.$3.getBool("dvl_update_interval_reset_on_err")||this.$2==="200")&&(this.$4=b)};b.shouldRequestDynamicInfo=function(a){if(a!=="video")return!1;this.$6(a);a=this.$7(a);return a!=null&&a<=this.$3.getNumber("dvl_initial_segment_ignore_count")?!1:this.$3.getNumber("dvl_update_interval_ms")==0||this.$4==null||this.$4+this.$3.getNumber("dvl_update_interval_ms")<=Date.now()};b.$6=function(a){this.$5[a]==null&&(this.$5[a]={segmentCount:0});return this.$5[a].segmentCount=this.$5[a].segmentCount!=null?this.$5[a].segmentCount+1:0};b.$7=function(a){return this.$5[a].segmentCount};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzRepresentationBase",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$1=a,this.$6=b,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$7=g,this.$8=h}var b=a.prototype;b.getID=function(){return this.$6};b.getBandwidth=function(){return this.$5};b.getMimeCodecs=function(){return this.$2};b.getQualityLabel=function(){return this.$6};b.getInitSegment=function(){return this.$3};b.getCustomFieldFirstSegment=function(){return this.$7};b.getCustomField=function(a){if(this.$8==null||!this.$8[a])throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$8[a];try{return a(this.$1)}catch(a){return null}};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,229),this.$4.updateWith(b.$4)};b.getSegmentByTime=function(a){return this.$4.getSegmentByTime(a)};b.getSegment=function(a){return this.$4.getSegment(a)};b.getPredictedSegmentAfter=function(a){return this.$4.getPredictedSegmentAfter(a)};b.canPredict=function(){return this.$4.canPredict()};b.canApproximateId=function(){return this.$4.canApproximateId()};b.getSegmentAfter=function(a){return this.$4.getSegmentAfter(a)};b.isEndingSegment=function(a){return this.$4.isEndingSegment(a)};b.addUpdateListener=function(a){return this.$4.addUpdateListener(a)};b.getTimeRanges=function(){return this.$4.getTimeRanges()};b.blockTimeRange=function(a){this.$4.blockTimeRange(a)};b.getEndingSegment=function(){return this.$4.getEndingSegment()};b.forceParseIfNotParsed=function(){return this.$4.forceParseIfNotParsed()};b.getMaxGopSec=function(){return this.$4.getMaxGopSec()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/media_source/OzMSESourceBufferImpl",["oz-player/shims/OzDOMEventListener"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.registerOnUpdateEndListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updateend",a)};b.registerOnErrorListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",a)};b.getIsUpdating=function(){return this.$1.updating};b.getBuffered=function(){return this.$1.buffered};b.setAppendWindowEnd=function(a){this.$1.appendWindowEnd=a};b.appendBuffer=function(a){this.$1.appendBuffer(a)};b.abort=function(){this.$1.abort()};b.remove=function(a,b){this.$1.remove(a,b)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.hasError=function(){return this.$1.error!==null};b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.getVideoNode=function(){return this.$1};b.$2=function(a){a=a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b});return a};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.getBuffered().length;c++)b+=a.getBuffered().end(c)-a.getBuffered().start(c);return b}function b(a){return a.getBuffered().length==0?0:a.getBuffered().start(0)}function c(a){var b=null;try{b=a.getBuffered()}catch(a){return 0}return b.length==0?0:b.end(b.length-1)}function e(a){var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});return b}function f(a,b,c){c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));b=c>=0?parseFloat((a[c].endTime-b).toFixed(3)):0;a=c>=0?a.length-1-c:-1;return{bufferAheadSec:b,bufferedOffset:a}}function h(a,b,c){var e=a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,e);e=parseFloat(e.reduce(function(a,c){var e=c.rangeEnd;return e===null||e===void 0?a:a+(d("oz-player/utils/OzNumericalRangeUtil").isWithin(b,c)?e-b:d("oz-player/utils/OzNumericalRangeUtil").isLargerThan(c.rangeStart,b)?e-c.rangeStart:0)},0).toFixed(3));a=c>=0?a.length-1-c:-1;return{bufferAheadSec:e,bufferedOffset:a}}g.getTotalBufferedTime=a;g.getStartBufferedTime=b;g.getEndBufferedTime=c;g.convertToBufferedTimeRangeArray=e;g.getBufferAheadInBufferedRanges=f;g.getTotalBufferAheadOfPosition=h}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a.getBool("generate_mos_segment_buffer_diff")){var e=d("oz-player/utils/OzNumericalRangeUtil").convertFromTimeRanges(c.getBufferedRanges());a=function(){var a=d("oz-player/utils/OzNumericalRangeUtil").firstAddedInSortedRanges(e,d("oz-player/utils/OzNumericalRangeUtil").convertFromTimeRanges(c.getBufferedRanges()));return{startTime:(a==null?void 0:a.rangeStart)||0,endTime:(a==null?void 0:a.rangeEnd)||0}};return a}else{var f=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);a=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return{startTime:f,endTime:a}};return a}}g.startMeasuringAppendedBuffer=a}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$3=[];this.$5=new Set();this.$7=function(){if(d.$4.getBool("stable_buffered_timeranges_in_observedsourcebufferstate")){var a;try{a=d.$1.getBuffered()}catch(a){if(a.name==="InvalidStateError"){d.$3=[];return}else throw a}var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});d.$3=b}else{a=[];for(var c=0;c<d.$1.getBuffered().length;c++)a.push({startTime:d.$1.getBuffered().start(c),endTime:d.$1.getBuffered().end(c)});d.$3=a}};this.$1=a;this.$4=b;this.$6()}var b=a.prototype;b.$6=function(){var a=this;this.$2.release();this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.registerOnUpdateEndListener(function(){a.$7();for(var b=a.$5.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}}),this.$1.registerOnErrorListener(this.$7))};b.setSourceBuffer=function(a){this.$1=a,this.$6(),this.$7()};b.getBufferedRanges=function(){return this.$3};b.addEventListener=function(a,b){var c=this;this.$5.add(b);return{remove:function(){c.$5["delete"](b)}}};b.destroy=function(){this.$5.clear(),this.$2.release(),this.$2.engage()};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551"};b=a;f["default"]=b}),66);
__d("oz-player/media_source/SourceBufferManager",["oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzSourceBufferUtil","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g){var h=this;g===void 0&&(g=null);this.$3=null;this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=!1;this.$8=[];this.$12=!1;this.$13=!1;this.$15=0;this.$27=function(){if(h.$10.hasError()){h.$13=!1;h.$12=!1;var a=h.$10.getMediaErrorName();a=a!==null&&a!==void 0?a:"An unknown source buffer error occurred.";var b=h.$10.getErrorCode();b=b!==null&&b!==void 0?String(b):c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR;a=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a,extra:{code:b}});if(h.$11.getBool("fix_operation_deferred_promise_lifecycle")){b=h.$3;b&&(h.$3=null,b.reject(a))}else h.$3&&h.$3.reject(a),h.$3=null;h.cancelOperationAndCleanQueue()}else h.$13||(h.$13=!0,h.$4.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(h.$10.getVideoNode(),"error",h.$27)))};this.$18=function(){var a=h.$1;if(a!=null){a.getOperationLogger("source_buffer_updateend").setError((a=h.$10.getMediaErrorName())!=null?a:void 0).setCode(h.$10.getErrorCode()).setResult(h.$12?"failed":"success").log()}a=h.$3;a&&(h.$12?h.$27():h.$11.getBool("fix_operation_deferred_promise_lifecycle")?(h.$3=null,a.resolve()):(a.resolve(),h.$3&&(h.$3=null)))};this.$19=function(){var a=h.$1;if(a!=null){a.getOperationLogger("source_buffer_error").setError((a=h.$10.getMediaErrorName())!=null?a:void 0).setCode(h.$10.getErrorCode()).setResult("failed").log()}h.$12=!0};this.$1=g;this.$2=a;this.$11=b;this.$17();this.$9=new(c("oz-player/states/OzObservedSourceBufferState"))(this.$2,this.$11);this.$10=d;this.$14=e;this.$16=f}var b=a.prototype;b.$17=function(){this.$4.release(),this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))(),this.$4.addSubscriptions(this.$2.registerOnUpdateEndListener(this.$18),this.$2.registerOnErrorListener(this.$19))};b.setSourceBuffer=function(a){var b=this;return this.cancelOperationAndCleanQueue()["catch"](function(){}).then(function(){b.$2=a,b.$17(),b.$9.setSourceBuffer(a)})};b.queueData=function(a,b,d,e){b===void 0&&(b=null);d===void 0&&(d=0);e===void 0&&(e=null);var f=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:a,deferred:f,loggerProvider:b,appendTarget:d,onDataAppend:e});a=f.getPromise();this.$7||this.$20();return a};b.cancelOperationAndCleanQueue=function(a){a===void 0&&(a=null);a&&a.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var b=this.$21("cancel and clean");this.$8.forEach(function(a){a=a.deferred;a.reject(b)});this.$8=[];try{this.$14(this.$2)&&(this.$10.hasError()||this.$2.abort())}catch(b){var d=b;a&&a.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(d).setReason(this.$16?this.$16():null).log();if(this.$11.getBool("throw_cancel_operation_abort_failed"))throw d}a=c("oz-player/shims/OzMaybeNativePromise").resolve();d=this.$3;d&&(this.$11.getBool("fix_operation_deferred_promise_lifecycle")&&(this.$3=null),d.reject(b),a=d.getPromise()["catch"](function(){}));this.$5&&(this.$5.reject(b),this.$5=null);return a};b.getSourceBufferState=function(){return this.$9};b.clearRange=function(a,b){if(this.$11.getBool("clear_sbm_buffer_on_byte_threshold")){var c=this.getTotalTimeInBuffer(),d=this.getTotalTimeInBufferForRange(a,b);this.$15*=c>0?1-d/c:0}d=this.$11.getBool("throw_error_on_clear_buffer_on_seek_failed")?Math.max(a,0):a;b>0&&b>d&&this.$2.remove(d,b)};b.$22=function(a,b){a=this.$11.getBool("throw_error_on_clear_buffer_on_seek_failed")?Math.max(a,0):a;if(b>0&&b>a){var d=this.$23();this.clearRange(a,b);return d}return c("oz-player/shims/OzMaybeNativePromise").resolve()};b.clearRangeWithWait=function(a,b){var c=this,d=this.cancelOperationAndCleanQueue();d=d.then(function(){return c.$22(a,b)});return d};b.clear=function(){if(this.$2.getBuffered().length>0){var a=d("oz-player/utils/OzSourceBufferUtil").getStartBufferedTime(this.$2),b=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(this.$2);if(b>0)return this.$22(a,b)}return this.cancelOperationAndCleanQueue()};b.$23=function(a){if(this.$11.getBool("fix_operation_deferred_promise_lifecycle")){var b=null;if(this.$3)b=this.$3.getPromise(),a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");else if(this.$2.getIsUpdating()){var e=this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=e.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer")}else return c("oz-player/shims/OzMaybeNativePromise").resolve()}e=this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=e.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");return b};b.$24=function(a,b,e,f){var g=this;if(this.$3!==null)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$25("cannot have concurrent appends"));var h=function h(){if(g.$11.getBool("sbm_recursively_waits_for_update_end")&&g.$2.getIsUpdating())return g.$23(b).then(h)["catch"](function(a){if(g.$11.getBool("enable_appends_on_wait_update_end_failure"))return h();throw a});if(g.$11.getBool("fix_operation_deferred_promise_lifecycle")&&g.$3!==null)return c("oz-player/shims/OzMaybeNativePromise").reject(g.$25("cannot have concurrent appends (inner)"));var i=g.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),j=!1;try{j=g.$2.getIsUpdating(),g.$2.appendBuffer(a)}catch(a){var k=a,l=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,m=k.name,n=k.message;m==="QuotaExceededError"?l=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:g.$10.hasError()?l=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:j?l=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:m==="InvalidStateError"&&typeof n==="string"&&/SourceBuffer has been removed/.test(n)?l=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:m==="InvalidStateError"&&(l=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);j=new(c("oz-player/utils/OzError"))({type:m==="QuotaExceededError"&&g.$11.getBool("append_retry_quota_exceeded_error")?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":"OZ_SOURCE_BUFFER",description:String(n),extra:{originalError:k,code:l}});g.$3=null;i.reject(j)}m=i.getPromise();b&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(m,b,"append",function(b){var c;b.setLength(a.byteLength);c=(c=e==null?void 0:e.appendTarget)!=null?c:null;b.setAppendTarget(c)});return m.then(function(){f&&f()})};if(!this.$11.getBool("sbm_waits_for_update_end"))return h();if(!this.$11.getBool("sbm_recursively_waits_for_update_end")&&this.$2.getIsUpdating())return this.$23(b).then(h)["catch"](function(a){if(g.$11.getBool("enable_appends_on_wait_update_end_failure"))return h();throw a});this.$15+=a.byteLength;return h()};b.$20=function(){var a=this;if(this.$7)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$25("Another unit of queued data is being appended."));var b=this.$8.shift();if(!b){this.$7=!1;return c("oz-player/shims/OzMaybeNativePromise").resolve()}var e=b.data,f=b.deferred,g=b.loggerProvider,h=b.appendTarget;b=b.onDataAppend;this.$7=!0;e=e instanceof d("oz-player/shims/OzStreams").OzReadableStream?this.$26(e,g,h,b):this.$24(e,g,{appendTarget:h},b);var i=d("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$2,this.$9);return e["catch"](function(a){f.reject(a)}).then(function(){var b=i(),c=b.startTime;b=b.endTime;f.resolve({startTime_UNSAFE:c,endTime_UNSAFE:b,appendedSec:b-c});a.$7=!1;a.$20()})};b.$26=function(a,b,d,e){var f=this;this.$11.getBool("sbm_abort_on_append_new_readable_stream")&&this.$2.abort();var g=[],h=0,i=a.getReader();a=function a(){var j=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));f.$5=j;var k=null;f.$11.getNumber("sbm_read_timeout_ms")>0&&(k=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){var a=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"ReadableStreamReader.read() timed out.",extra:{}});j.reject(a);f.$5=null;f.$6=k=null},f.$11.getNumber("sbm_read_timeout_ms")));i.read().then(function(a){j.resolve(a),f.$5=null,k&&(c("oz-player/shims/ozClearTimeout")(k),f.$6=k=null)})["catch"](function(a){j.reject(a),f.$5=null,k&&(c("oz-player/shims/ozClearTimeout")(k),f.$6=k=null)});return j.getPromise().then(function(i){if(i.done){var j=c("oz-player/utils/ozConcatUint8Arrays")(g);j=j.buffer;g.length=0;h=0;j=j;return j.byteLength>0?f.$24(j,b,{appendTarget:d},e):c("oz-player/shims/OzMaybeNativePromise").resolve()}j=i.value;i=null;var k=j;if(d>0){j=j instanceof Uint8Array?j:new Uint8Array(j);g.push(j);h+=j.byteLength;if(h>=d){j=c("oz-player/utils/ozConcatUint8Arrays")(g);j=j.buffer;g.length=0;h=0;k=j}}k&&k.byteLength>=d&&(i=k);return i?f.$24(i,b,{appendTarget:d},e).then(function(){return a()}):a()},function(a){if(f.$11.getBool("sbm_wait_for_abort_on_reject")){var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=f.$3?f.$3.getPromise():c("oz-player/shims/OzMaybeNativePromise").resolve();d["catch"](function(){}).then(function(){var c=f.$23();f.$2.abort();c.then(function(){b.reject(a)})["catch"](function(){b.reject(a)})});return b.getPromise()}else{f.$2.abort();return c("oz-player/shims/OzMaybeNativePromise").reject(a)}})};return a()};b.$25=function(a){a=new Error(a);a.name="invariant_violation";return a};b.$21=function(a){a=new Error("operation is cancelled: "+a);a.name="cancelled";return a};b.destroy=function(){var a=this,b=this.$1;b&&b.cloneContext().getOperationLogger("source_buffer_destroy").log();this.$6&&c("oz-player/shims/ozClearTimeout")(this.$6);this.$6=null;b=this.$3;if(b)if(this.$11.getBool("fix_operation_deferred_promise_lifecycle")){var d=function(){a.$3=null,a.$4.release(),a.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))()};this.$13?b.getPromise().then(function(){d()},function(){d()})["catch"](function(){}):(d(),b.reject(this.$21("destroyed")))}else!this.$13?(b.reject(this.$21("destroyed")),this.$3=null,this.$4.release(),this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))()):b.getPromise()["catch"](function(){a.$3=null,a.$4.release(),a.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))()});this.$9.destroy()};b.getTotalTimeInBufferForRange=function(a,b){var c=this.$2.getBuffered(),d=0;for(var e=0;e<c.length;++e)a<c.end(e)&&b>=c.start(e)&&(d+=Math.min(c.end(e),b)-Math.max(c.start(e),a));return d};b.getTotalTimeInBuffer=function(){var a=this.$2.getBuffered(),b=0;for(var c=0;c<a.length;++c)b+=a.end(c)-a.start(c);return b};b.getTotalAppendedBytes=function(){return this.$15};b.getDebug=function(){return{SourceBuffer:this.$2}};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("OzVTTSourceBufferImpl").__setRef("oz-player/shims/www/getOzVTTSourceBufferImplWWW");function a(){return h.load()}g["default"]=a}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}f.getMimeType=a}),66);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}f["default"]=a}),66);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$6=[];this.$7=new Map();this.$8=[];this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$17=null;this.$18=null;this.$19=null;this.$20=new(c("oz-player/utils/OzErrorEmitter"))();this.$26=function(){g.$31()||(g.$10=!1);if(!g.$32())return;var a=g.$8.shift();a&&(a(g.$2),g.$10=!0)};this.$5=e;this.$11=b;this.$1=a;this.$21=f;this.$9=new(c("oz-player/media_source/OzMediaErrorProvider"))(this.$1);this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",function(){var a;g.$5.getOperationLogger("media_element_error").setError((a=g.$9.getMediaErrorName())!=null?a:void 0).setCode(g.$9.getErrorCode()).setResult("failed").log();g.$8=[];g.$6=[];g.$4.release();g.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$15=g.$15||g.$14||g.$13;a=g.$1.error;var b=(a==null?void 0:a.code)||0,d=new(c("oz-player/utils/OzError"))({type:c("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(b),description:(a==null?void 0:a.message)!=null?a.message:"",extra:{originalError:a,code:String(b)}});if(g.$19!=null){g.$5.getOperationLogger("media_element_error").setError(a).setCode(b).setReason("mitigation_failed").setResult("failed").log();g.$20.emitError(d);return}g.$19=g.$1.currentTime;g.$18==null&&(g.$18=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){g.$18=null,g.$11.getBool("retry_video_element_error")&&(g.$17!=null&&g.$17(d),g.$22())},0))}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"play",function(){g.$14=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",function(){g.$14=!1,g.$15=!1,g.$19=null,g.$13=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",function(){g.$14=!1,g.$13=!1,g.$15=!!g.$1.error}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"ended",function(){g.$14=!1,g.$13=!1}));this.$2=new MediaSource();this.$1.src=window.URL.createObjectURL(this.$2);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(this.$23(),this.$5,"media_source_open")}var b=a.prototype;b.$22=function(){var a=this,b=[];this.$7.forEach(function(a){b.push(a.cancelOperationAndCleanQueue())});var d=c("oz-player/shims/OzMaybeNativePromise").all(b);d=d.then(function(){if(a.$11.getBool("abort_clear_video_node_on_detach")&&a.$12)return;var b=a.$1.src;a.$11.getBool("create_new_media_source_on_node_reset")&&(a.$2=new MediaSource());a.$1.src=window.URL.createObjectURL(a.$2);window.URL.revokeObjectURL(b);return a.$23().then(function(){var b=[];a.$7.forEach(function(d,e){var c=a.$24(e).then(function(b){return d.setSourceBuffer(b).then(function(){a.$25(b,d,e)})});b.push(c)});return c("oz-player/shims/OzMaybeNativePromise").all(b)})});d.then(function(){if(a.$11.getBool("abort_clear_video_node_on_detach")&&a.$12)return;a.$16&&a.$16();a.$19!=null&&(a.$1.currentTime=a.$19);if(a.$15){var b=a.$1.play();return b==null?void 0:b["catch"](function(){})}})["catch"](function(b){if(a.$11.getBool("abort_clear_video_node_on_detach")&&a.$12)return;a.$20.emitError(b)})};b.$23=function(){var a=this;if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){b.resolve(),a.$26()}));return b.getPromise()};b.$24=function(a,b){var e=this;b===void 0&&(b=!1);var f;try{a.includes("vtt")?f=this.$27(a):f=this.$23().then(function(){return new(c("oz-player/media_source/OzMSESourceBufferImpl"))(e.$2.addSourceBuffer(a))});return f.then(function(c){if(e.$11.getBool("stub_safari_source_buffer_abort"))try{var f=c.abort,g=function(){e.$13&&f.call(c)};c.abort=function(){g()}}catch(a){}b&&!isNaN(e.$2.duration)&&c.setAppendWindowEnd(e.$2.duration);e.$6.push(c);e.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).log();return c})}catch(b){f=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+(b.message||String(b)),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw f}};b.$25=function(a,b,c){var e=this,f=d("oz-player/utils/OzMimeUtil").getMimeType(c);this.$4.addSubscriptions(a.registerOnUpdateEndListener(function(){var a=b.getTotalAppendedBytes(),c=e.$28(f);if(c>0&&a>=c&&e.$11.getBool("clear_sbm_buffer_on_byte_threshold")){a=Math.max(0,e.$1.currentTime-e.$29());a>0&&b.clearRangeWithWait(0,a)}e.$26()}))};b.$27=function(a){var b=this;return c("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(d){if(b.$21!=null){var e=new d({onCaptionsChanged:b.$21}),f=c("oz-player/shims/ozThrottle")(function(){e.setCurrentVideoTime(b.$1.currentTime)},200);b.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b.$1,"timeupdate",function(){f()}),{remove:function(){f=function(){}}});return e}else throw new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): No handleVttCaptionsUpdated callback provided',extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})};b.createSourceBufferManager=function(a,b){var e=this;b===void 0&&(b=!1);return c("oz-player/shims/OzMaybeNativePromise").all([this.$23(),this.$24(a,b)]).then(function(b){b[0];b=b[1];var f=new(c("oz-player/media_source/SourceBufferManager"))(b,e.$11,e.$9,function(a){return e.$2.readyState!=="closed"&&(e.$11.getBool("should_check_that_source_buffer_attached")?e.$30(a):!0)},function(){return e.$2.readyState},e.$5.cloneContext().setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)));e.$25(b,f,a);e.$7.set(a,f);return f})["catch"](function(a){if(a instanceof c("oz-player/utils/OzError"))throw a;else{a=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM: "+(a.message||String(a)),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()}});throw a}})};b.setOnClearVideoNodeError=function(a){this.$16=a};b.setOnRetryVideoElementError=function(a){this.$17=a};b.getMediaSource=function(){return this.$2};b.notifyEndOfStream=function(a){var b=this,d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){d.resolve()}));this.$8.push(function(c){b.$11.getBool("check_mediasource_readystate_before_end_of_stream")?c.readyState==="open"&&(a(b.$5.getOperationLogger("end_of_stream")).log(),c.endOfStream()):(a(b.$5.getOperationLogger("end_of_stream")).log(),c.endOfStream())});this.$26();return d.getPromise()};b.updateDuration=function(a){this.$8.push(function(b){b.duration=a}),this.$26()};b.detach=function(){this.$18&&(c("oz-player/shims/ozClearTimeout")(this.$18),this.$18=null);this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers();var a=this.$1.src;this.$1.removeAttribute("src");for(var b=0;b<this.$2.sourceBuffers.length;b++){var d=this.$2.sourceBuffers[b];this.$2.removeSourceBuffer(d)}this.$11.getBool("revoke_object_url_on_detach")&&window.URL.revokeObjectURL(a);this.$3.release();this.$3.engage();this.$4.release();this.$4.engage();this.$8=[];this.$10=!1;this.$12=!0};b.$32=function(){return!this.$31()&&this.$2.readyState==="open"&&!this.$10&&!this.$12};b.$31=function(){return this.$6.some(function(a){return a.getIsUpdating()})};b.$29=function(){return this.$11.getNumber("min_buffer_behind_playhead")};b.$28=function(a){var b={audio:this.$11.getNumber("audio_byte_threshold_to_clear_buffer"),video:this.$11.getNumber("video_byte_threshold_to_clear_buffer")};return(b=b[a])!=null?b:0};b.$30=function(a){for(var b=0;b<this.$2.sourceBuffers.length;b++){var c=this.$2.sourceBuffers[b];if(c===a)return!0}return!1};b.onError=function(a){return this.$20.onError(a)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$5=function(){var a=d.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=d.$1.getMediaSource();d.$4.getBool("update_media_source_duration")&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&d.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=b;this.$5()}var b=a.prototype;b.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};b.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended")){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};b.destroy=function(){this.$3.release()};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzClientClock",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=null}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a){a=a.get("x-fb-dynamic-client-wallclock-offset-ms");if(a!==null){a=parseInt(a,10);isNaN(a)||(this.$1=a)}};b.now=function(){var a;return Date.now()+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();f["default"]=b}),66);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({pull:function(b){b.error(a)}})}g["default"]=a}),98);
__d("oz-player/shims/OzFetchAPI",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){return window.fetch(a,b)};f.fetch=a}),66);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";d=function(){function a(){this.$1=new Map()}var b=a.prototype;b.append=function(a,b){a=a.toLowerCase();var c=this.$1.get(a);c!=null?this.$1.set(a,c+", "+b):this.$1.set(a,b)};b.get=function(a){a=a.toLowerCase();a=this.$1.get(a);return(a=a)!=null?a:null};b.entries=function(){return this.$1.entries()};b.has=function(a){return this.get(a)!==null};return a}();e=a.Headers;f=e&&e.prototype;var h=e&&f&&typeof f.append==="function"&&typeof f.entries==="function"&&typeof f.get==="function"&&typeof f.has==="function"?e:d;function b(a){if(a==null)return null;if(typeof a==="object"&&typeof a.append==="function"&&typeof a.get==="function"&&typeof a.has==="function")if(typeof a.entries==="function")return a;else if(typeof a.forEach==="function"){var b=new h();a.forEach(function(a,c){b.append(c,a)});return b}c("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof a,String(a));return null}g.OzHTTPHeaders=h;g.maybeConvertHeadersToOzHTTPHeaders=b}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}g["default"]=a}),98);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["oz-player/shims/OzStreams","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("oz-player/shims/OzStreams").OzReadableStreamIsPolyfilled)return a;var c=a.getReader();return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=3;return b("regeneratorRuntime").awrap(c.read());case 3:d=e.sent;if(!d.done){e.next=6;break}return e.abrupt("break",9);case 6:a.enqueue(d.value);e.next=0;break;case 9:a.close();case 10:case"end":return e.stop()}},null,this)}})}g["default"]=a}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/shims/OzMaybeNativePromise","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.body,e=a.ok,f=a.status,g=a.headers;return b!=null?{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(b),arrayBuffer:function(){return a.arrayBuffer()}}:a.arrayBuffer().then(function(a){return{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/arrayBuffer2OzReadableStream")(a),arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a)}}})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchRequestImplementation",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){if(!d("oz-player/shims/OzFetchAPI").fetch)throw new Error("fetch api is missing");var g=null;e=e?e.networkTimeoutMs:null;if("AbortController"in window&&e!=null&&e!=0){var h=new AbortController();g=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return h.abort()},e);e=babelHelpers["extends"]({},b,{signal:h.signal})}else e=babelHelpers["extends"]({},b);b=d("oz-player/shims/OzFetchAPI").fetch(a,e).then(function(a){c("oz-player/shims/ozClearTimeout")(g);var b=a.ok,d=a.status,e=a.headers;return f!=null&&f.getBool("get_fetch_body_text_when_response_not_ok")&&!b&&typeof a.text==="function"?a.text().then(function(c){c={ok:b,status:d,headers:e,body:c,arrayBuffer:function(){return a.arrayBuffer()}};return c}):c("oz-player/utils/processFetchResponse")(a)});return b}b=a;e=b;g["default"]=e}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetchRequestImplementation","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzError","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i){e===void 0&&(e=null);g===void 0&&(g=null);i===void 0&&(i="DISABLE_CACHE");var j=e!=null?e:c("oz-player/networks/OzFetchRequestImplementation");e=a.getBool("use_segment_request_cache")&&i==="ENABLE_CACHE"?h.get(b):null;g=g?g.getCacheValue(b):null;e=e!=null?e:g;g=!1;e?(i==="ENABLE_CACHE"&&h.set(b,e),g=!0,i=e.then(function(b){if(b.initiator==="FETCH"){var d=b.response,e=d.ok,f=d.status,g=d.headers;return a.getBool("get_fetch_body_text_when_response_not_ok")&&!e&&typeof b.response.text==="function"?b.response.text().then(function(a){return{ok:!1,status:f,headers:g,body:a,arrayBuffer:function(){return b.response.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(b.response)}else if(b.initiator==="XHR_REQUEST"){d=c("oz-player/utils/arrayBuffer2OzReadableStream")(b.response);return{body:d,status:200,headers:null,ok:!0,arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(b.response)}}}else throw new(c("oz-player/utils/OzError"))({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+b.initiator})})["catch"](function(c){if(a.getBool("retry_fetch_on_prefetch_error"))return j(b,d);else throw new TypeError()})):i=j(b,d,f,a);return{promise:i,retrievedFromCache:g}}g["default"]=a}),98);
__d("oz-player/networks/createNetworkError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f){return new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:f,extra:{originalError:a,code:b.toString(),headers:d,url:e}})}g["default"]=a}),98);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/networks/OzClientClock","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/networks/OzTransformStream","oz-player/networks/createNetworkError","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i,j,k){e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),i===void 0&&(i="DISABLE_CACHE"),j===void 0&&(j=null),this.$6=!1,this.$1=b,this.$2=c,this.$3=d,this.$8=e||[],this.$9=j,this.$7=f,this.$10=g,this.$12=a,this.$11=h,this.$13=i||"DISABLE_CACHE",this.$14=k}var b=a.prototype;b.$15=function(a){a=this.$3.createRequestParam(this.$1,a);var b=a.uri;a=a.http;b=b.toString();this.$4=b;a=c("oz-player/networks/OzFetchWithCache")(this.$12,b,a,this.$7,this.$2,this.$10,this.$11,this.$13);var d=a.promise;a=a.retrievedFromCache;this.$6=a;return{requestPromise:d,requestUrl:b}};b.startStream=function(a){var b=this,d=this.$15(a),e=d.requestPromise,f=d.requestUrl,g=f,h=Date.now();return e.then(function(d){var e;(e=b.$14)==null?void 0:e.updateWithResponse(f,h,d);b.$5=d;d.headers!==null&&d.headers&&c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(d.headers);if(b.$9!=null&&d.ok===!1)return b.$9(d,function(){var d=b.$15(a),c=d.requestPromise;d=d.requestUrl;g=d;return c},g)["catch"](function(a){throw new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:a.message,extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:g}})});else return d}).then(function(a){var d=[];for(var e=0;e<b.$8.length;e++)try{var f=b.$8[e].onResponse(a,g);f&&d.push(f)}catch(a){return c("oz-player/networks/OzCreateErrorStream")(a)}f=a.body;e=a.headers;var h=a.ok;a=a.status;if(!h)return c("oz-player/networks/OzCreateErrorStream")(c("oz-player/networks/createNetworkError")(new Error("HTTP status not OK"),a,e,g,typeof f==="string"&&f.length>0?f:"HTTP error."));typeof f!=="string"&&typeof f.getReader==="function"||c("oz-player/shims/ozvariant")(0,3287);h=f;for(var a=0;a<d.length;a++)h=h.pipeThrough(d[a]);if(!b.$12.getBool("throw_network_error_during_stream"))return h;e=new(c("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?c("oz-player/networks/createNetworkError")(a,0,null,g,"Network failure."):a}});h=h.pipeThrough(e);return h},function(a){var d=[];for(var e=0;e<b.$8.length;e++)try{var f=b.$8[e].onError(a,g);f&&d.push(f)}catch(a){return c("oz-player/networks/OzCreateErrorStream")(a)}if(a instanceof TypeError){f=c("oz-player/networks/OzCreateErrorStream")(c("oz-player/networks/createNetworkError")(a,0,null,g,"Network failure: "+a.message));for(var e=0;e<d.length;e++)f=f.pipeThrough(d[e]);return f}throw a})["catch"](function(a){if(a instanceof c("oz-player/utils/OzError")&&a.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw a;return a.name==="AbortError"?c("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:g,message:a}):c("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:g,message:"Stream processing error. "+a})})};b.getLastRequestUrl=function(){return this.$4};b.getLastResponse=function(){return this.$5};b.retrievedFromCache=function(){return this.$6};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function e(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}f.startsAtSame=a;f.startsImmediateAfter=b;f.startsDuring=c;f.union=d;f.disjoinAfter=e;f.getLength=g}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var b=a.prototype;b.produce=function(a){this.$6(a)};b.signalProducerInterruption=function(){this.$6(new(c("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};b.consume=function(a){var b=this;if(this.$3)throw new Error("A buffer can only be consumed by one client at a time");this.$3=!0;var d=c("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=this.$4.getPromise());return d.then(function(){if(b.$1){if(b.$2[b.$5]===void 0)throw new Error("buffer has no value at position "+b.$5)}else if(b.$2.length===0)throw new Error("buffer length must not be 0");b.$4=null;b.$3=!1;var c=b.$1?b.$7(a):b.$8(a);if(c instanceof Uint8Array)return c;throw c})};b.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};b.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};b.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};b.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();g["default"]=a}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a==null?void 0:a.error(b)}catch(a){}}f["default"]=a}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/ozPipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";function h(){return new Error("Upstream has an inconsistent range")}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(b,d,e,f,g){var j=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.startStream=function(){j.$13=!0;var b={startByte:j.$1.startByte,endByte:j.$1.endByte};!j.$16?b.startByte+=j.$8:j.$8&&(j.$3.produce("skip_buffered_bytes"),j.$8=0);var d=j.$4;return j.$2.startStream(b).then(function(b){b.pipeTo(j.$17?d:j.$4).then(function(){j.$12&&j.$12.resolve("stream_done")})["catch"](function(b){j.$12&&!j.$12.isSettled()&&(j.$17&&b===a.STREAM_PAUSED?j.$12.resolve("stream_paused"):j.$12.reject(b))});j.$12=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:j.$12.getPromise()}})};this.$19=b;this.$20=d;this.$1=e;this.$2=f;b=g||{};d=b.fixStreamingUndefinedEndByte;e=b.disableDeferredBufferArrayShift;f=b.enablePausableStreamResumeFromStartDangerously;g=b.fixPausePreReadableStream;b=b.throwErrorWhenAborted;this.$11=!!d;this.$16=!!f;this.$17=!!g;this.$18=!!b;this.$3=new(c("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!e});this.$6=new this.$19({start:function(a){j.$10=a},pull:function(a){if((j.$11&&j.$1.endByte===null&&j.$5||j.$7===j.$21())&&j.$3.isEmpty()){a.close();return c("oz-player/shims/OzMaybeNativePromise").resolve()}var b=function b(){var d=j.$15.hasMoreBytesToSkip()?j.$15.getBytesToSkip():void 0;return j.$3.consume(d).then(function(d){if(j.$15.hasMoreBytesToSkip()){j.$15.setBytesSkipped(d.length);return b()}j.$7+=d.length;var e=j.$21();e!==null&&j.$7>(e||0)&&c("oz-player/utils/ozPipeErrorTo")(j.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){j.$15.setBytesToSkip(j.$7);return b()}throw a})};return b()},cancel:function(a){j.$12&&j.$12.resolve("stream_cancelled"),c("oz-player/utils/ozPipeErrorTo")(j.$9,a)}});this.$4=this.$22()}var b=a.prototype;b.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};b.$22=function(){var a=this;return new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var b=a.$1,d=b.endByte;b=b.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-b+1&&c("oz-player/utils/ozPipeErrorTo")(a.$10,h())},abort:function(b){a.$12&&(a.$18?a.$12.reject(b):a.$12.resolve("stream_aborted")),c("oz-player/utils/ozPipeErrorTo")(a.$10,b)}})};b.getStream=function(){return this.$6};b.pauseStream=function(){c("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$4=this.$22()};b.getByteRange=function(){return this.$1};b.getBytesStreamed=function(){return this.$7};b.tryConcatByteRange=function(a){if(this.$13||!d("oz-player/manifests/OzByteRange").startsImmediateAfter(a,this.$1))return!1;this.$1={startByte:this.$1.startByte,endByte:a.endByte};return!0};return a}();a.STREAM_PAUSED="streamPaused";g["default"]=a}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){var d=this;this.createRequestParam=function(a,b){var e=new(c("oz-player/shims/OzURI"))(a.toString());if(b){a=b.startByte;var f=b.endByte;a===0&&(f===null||f===void 0)||(e.addQueryData({bytestart:b.startByte}),f!==null&&f!==void 0&&e.addQueryData({byteend:f}))}if(d.$2){var g=d.$2(e);g&&Object.keys(g).forEach(function(a){var b=g[a];e.addQueryData(a,b)})}a=d.$1&&d.$1(e)?"include":"same-origin";return{uri:e,http:{credentials:a}}};this.$1=a;this.$2=b};g["default"]=a}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}f["default"]=a}),66);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzStreams","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$10=null;var b=a.config,d=a.prefetchCache,e=a.networkRequestStreamHandlers,f=a.getOverrideOzRequestImplementation,g=a.getShouldIncludeCredentials,h=a.getCustomRequestParametersForURI,i=a.networkRequestStreamRetryHandler,j=a.setCustomFetchStreamLoggingAttributes,k=a.dynamicVideoLibrary;a=a.configureCustomRequestParametersForSegment;this.$2=b;this.$7=g;this.$8=h;this.$1=new(c("oz-player/networks/RequestParamCreator"))(this.$7,this.$8);this.$3=d;this.$4=e;this.$5=i;this.$6=f;this.$10=j;this.$9=new Map();this.$11=k;this.$12=a}var b=a.prototype;b.destroy=function(){this.$9&&this.$9.clear()};b.request=function(a,b,d,e){d===void 0&&(d=null);e===void 0&&(e="DISABLE_CACHE");a.length>0||c("oz-player/shims/ozvariant")(0,212);var f=c("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},g=this.$6?this.$6():null,h=this.$13(a[0]);h=new(c("oz-player/networks/OzNetworkRequestStream"))(this.$2,h,null,this.$1,this.$4,g,this.$3,this.$9,e,this.$5);return this.$14(f,h,b,d,a)};b.createPausableStream=function(a,b,d){a.length>0||c("oz-player/shims/ozvariant")(0,212);var e=c("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=null,g=this.$2.getNumber("network_seg_timeout_ms");g>0&&(f={networkTimeoutMs:g});g=this.$6?this.$6():null;var h=this.$13(a[0]),i=new(c("oz-player/networks/OzNetworkRequestStream"))(this.$2,h,f,this.$1,this.$4,g,this.$3,this.$9,null,this.$5,this.$11);return{pausableStream:this.$15(e,i,b||null,d),loggingPayloads:{getRequestUrl:function(){return i.getLastRequestUrl()||null},isPrefetch:function(){return i.retrievedFromCache()},segments:a,getResponse:function(){return i.getLastResponse()}}}};b.requestRawUrl=function(a,b,d){d===void 0&&(d=null);var e=this.$6?this.$6():null;a=new(c("oz-player/networks/OzNetworkRequestStream"))(this.$2,new(c("oz-player/shims/OzURI"))(a),b,this.$1,this.$4,e,this.$3,this.$9,null,this.$5,this.$11);b={startByte:0,endByte:null};return this.$14(b,a,[],d)};b.$15=function(a,b,e,f){b=b;if(e!=null)for(var g=0;g<e.length;g++){var h=e[g];b=h(this.$2,b,f)}return new(c("oz-player/networks/OzPausableRangeStream"))(d("oz-player/shims/OzStreams").OzReadableStream,d("oz-player/shims/OzStreams").OzWritableStream,a,b,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:this.$2.getBool("pausable_stream_throws_error_when_aborted")})};b.$14=function(a,b,c,e,f){var g=this;f===void 0&&(f=[]);var h=this.$15(a,b,c,e);a=h.startStream();var i=this.$16(a);e&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,e,"fetch_stream",function(){},function(a){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,b.getLastRequestUrl(),b.retrievedFromCache(),f,0,h.getBytesStreamed(),b.getLastResponse());var c=g.$10;c&&c(a,b.getLastRequestUrl(),b.getLastResponse())});return{getStream:function(){return h.getStream()},cancel:function(){return h.pauseStream()},getStatusChangePromise:function(){return i}}};b.$16=function(a){var b=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!b.$2.getBool("enable_network_manager_error"))return"done";throw new(c("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})})})};b.$13=function(a){var b=this.$12,d=new(c("oz-player/shims/OzURI"))(a.getURI().toString());if(b){var e=b(a);e&&Object.keys(e).forEach(function(a){var b=e[a];d.addQueryData(a,b)})}return d};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!c("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$Mpd9=!1;j.$Mpd1=b;j.$Mpd5=g;j.$Mpd2=c;j.$Mpd3=d;j.$Mpd4=e;j.$Mpd6=f;j.$Mpd7=h;j.$Mpd8=i;return j}var c=b.prototype;c.markRefreshed=function(){this.$Mpd10=Date.now()};c.getRefreshDate=function(){return this.$Mpd10};c.updateLocation=function(a){this.$Mpd6=a,this.$Mpd9=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd6};c.getMinimumUpdatePeriod=function(){return this.$Mpd5};c.getVideoRepresentations=function(){return this.$Mpd2};c.getAudioRepresentations=function(){return this.$Mpd3};c.getApplicationRepresentations=function(){return this.$Mpd4};c.getCustomField=function(a){var b=this.$Mpd7.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$Mpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd8};c.updateWith=function(a){this.$Mpd9&&(this.$Mpd9=!1,this.$Mpd2.splice(0,this.$Mpd2.length),this.$Mpd3.splice(0,this.$Mpd3.length),this.$Mpd4.splice(0,this.$Mpd4.length)),this.$Mpd1=a.$Mpd1,this.$Mpd11(this.$Mpd2,a.getVideoRepresentations()),this.$Mpd11(this.$Mpd3,a.getAudioRepresentations()),this.$Mpd11(this.$Mpd4,a.getApplicationRepresentations()),this.$Mpd8=a.isStaticMpd(),this.$Mpd5=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd3.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd4.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd11=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/manifests/OzApplicationRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/OzSegmentOptions","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$3=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$2=a,this.$1=b}var b=a.prototype;b.getData=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return null};b.getURI=function(){return this.$2};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$3};return a}();a=function(){function a(a,b,d,e,f){this.$2=d,this.$1=b,this.$3=a,e?this.$4=e:this.$4=new(c("oz-player/parsers/OzDefaultSegmentTimelineParser"))(),this.$5=f}var b=a.prototype;b.parseInitializationSegment=function(){var a=d("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new h(new(c("oz-player/shims/OzURI"))(a),this.$5)};b.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$4=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$4};return a}();g["default"]=a}),98);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d,e){var f=b.getBool("estimate_video_bandwidth_only")?a==="video":!0;return d instanceof c("oz-player/networks/OzNetworkRequestStream")&&f?c("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(b.getLegacyConfig(),d,e):d}}g["default"]=a}),98);
__d("oz-player/manifests/OzDataSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){this.$6=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$6};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/manifests/OzSegmentOptions","oz-player/shims/OzDataViewReader"],(function(a,b,c,d,e,f,g){"use strict";var h=1936286840;function a(a,b,d,e){var f=new(c("oz-player/shims/OzDataViewReader"))(new DataView(e.buffer));e=f.readUint32();var g=f.readUint32();if(g!==h)throw new Error('Invalid box type, expected "sidx".');e==1&&(e=f.readUint64());g=f.readUint8();f.skip(3);f.skip(4);var i=f.readUint32();if(!i)throw new Error("Invalid timescale.");var j;g==0?(g=f.readUint32(),j=f.readUint32()):(g=f.readUint64(),j=f.readUint64());f.skip(2);var k=f.readUint16(),l=g,m=d+e+j,n=0,o=a.getBool("sidx_parser_memory_optimization"),p=[];g=function(a){var d=f.readUint32(),e=(d&2147483648)>>>31;d=d&2147483647;var g=f.readUint32();f.readUint32();if(e==1)throw new Error("Heirarchical SIDXs are not supported.");var h=l/i,j=(l+g)/i;a===0&&(n=h);var k=m,q=k+d-1,r=new(c("oz-player/manifests/OzSegmentOptions"))();p.push(o?new(c("oz-player/manifests/OzDataSegment"))(b,h-n,j-n,k,q):{getData:function(){return null},getURI:function(){return b},getTimeRange:function(){return{startTime:h-n,endTime:j-n}},getByteRange:function(){return{startByte:k,endByte:q}},getSequenceNumber:function(){return null},getOptions:function(){return r}});l+=g;m+=d};for(var d=0;d<k;d++)g(d);return p}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw new Error("Not implemented: updatedWith")};b.addUpdateListener=function(a){return this.$2.addListener("segment_updated",a)};b.forceParseIfNotParsed=function(){this.$3&&(this.$3(),this.$3=null)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){var a=this.$1();a=a.length>0?a[a.length-1]:null;return a};b.getMaxGopSec=function(){return null};return a}();f["default"]=a}),66);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";var h=.1,i=440786851,j=408125543,k=357149030,l=2807729,m=17545,n=475249515,o=187,p=179,q=183,r=241,s=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function t(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var u=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new v(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),v=function(){function a(a){this.$1=a,this.$2=new(c("oz-player/shims/OzDataViewReader"))(this.$1)}var b=a.prototype;b.hasMoreData=function(){return this.$2.hasMoreData()};b.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new u(b,d)};b.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};b.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<s.length;b++)if(t(a,s[b]))return!0;return!1};return a}();function w(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==l?b=d.getUint():d.id==m&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function x(a,b,d,e,f,g){var i=[];b=b.createParser();var j=-1,k=-1;while(b.hasMoreData()){var l=b.parseElement();if(l.id!=o)continue;l=y(l);if(!l)continue;var m=e*l.unscaledTime;l=d+l.relativeOffset;j>=0&&(k>=0||c("oz-player/shims/ozvariant")(0,4010),i.push(new(c("oz-player/manifests/OzDataSegment"))(g,j,m,k,l-1)));j=m;k=l}if(j>=0){k>=0||c("oz-player/shims/ozvariant")(0,4010);m=f;a.getBool("handle_invalid_webm_duration")&&(m=f>j?f:j+h);i.push(new(c("oz-player/manifests/OzDataSegment"))(g,j,m,k,null))}return i}function y(a){a=a.createParser();var b=a.parseElement();if(b.id!=p)return null;b=b.getUint();a=a.parseElement();if(a.id!=q)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=r)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function z(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=k)continue;b=c;break}return!b?null:w(b)}function A(a){a=new v(a);var b=a.parseElement();if(b.id!=i)return null;b=a.parseElement();if(b.id!=j)return null;a=b.getOffset();b=z(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=A(d);if(!d)return[];c=new v(c);c=c.parseElement();return c.id!=n?[]:x(a,c,d.segmentOffset,d.timecodeScale,d.duration,b)}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzSegmentOptions","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,b,d,e,f,g,h,i){i===void 0&&(i=!1),this.$6=new(c("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(c("oz-player/shims/OzEventEmitter"))(),this.$1=b,this.$2=new(c("oz-player/shims/OzURI"))(d),this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType("sidx"),this.$10=a,this.$11=i}var b=a.prototype;b.onError=function(a){return this.$6.onError(a)};b.parseInitializationSegment=function(){var a=this,b=this.$1.Initialization[0].$.range,d=h(b),e=new(c("oz-player/manifests/OzSegmentOptions"))();b=this.$10.getBool("sidx_parser_memory_optimization")?new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,d.startByte,d.endByte):{getData:function(){return null},getURI:function(){return a.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null},getOptions:function(){return e}};return b};b.parseSegmentsContainer=function(){var a=this,b=function(){d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a.$12(),a.$8,"process_sidx")["catch"](a.$6.emitError)},e=this.$10.getBool("lazy_parse_sidx")&&!this.$11;e||b();e=new(c("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9,e?b:null);return e};b.$13=function(a,b,e){e===void 0&&(e="DISABLE_CACHE");a=new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(a,b.startByte,b.endByte);b=this.$5+";sidx";a=this.$4.request([a],[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(b)],this.$8,e);b=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpAllData(b)};b.$12=function(){var a=this,b=this.$1.$.indexRange,e=h(b);b=[this.$13(this.$2,e)];if(this.$3==="webm"){var f=h(this.$1.Initialization[0].$.range);b.push(this.$13(this.$2,f,"ENABLE_CACHE"));f=c("oz-player/shims/OzMaybeNativePromise").all(b).then(function(b){var c=b[0];b=b[1];a.$7=d("oz-player/parsers/OzWebmSidxParser").parse(a.$10,a.$2,c,b)})}else f=b[0].then(function(b){a.$7=d("oz-player/parsers/OzMp4SidxParser").parse(a.$10,a.$2,e.startByte,b)});return f.then(function(){a.$9.emit("segment_updated")})};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}f.parse=a}),66);
__d("oz-player/parsers/OzRepresentationParserBase",["oz-player/manifests/OzRepresentationBase","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/parsers/getMIMECodecs","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k,l){this.$5=new(c("oz-player/utils/OzErrorEmitter"))();this.$1=b;this.$6=e;this.$7=f;this.$9=d;this.$10=a;this.$11=g;this.$2=h;this.$3=i;this.$4=j;this.$12=k;this.$13=l;try{this.$7=this.$7.cloneContext().setRepresentationID(this.parseID())}catch(a){}}var b=a.prototype;b.$14=function(){var a=this,b=this.$8;if(b)return b;if(this.$1.SegmentBase){var e=this.$1.SegmentBase[0],f=this.$1.BaseURL[0]._;typeof f==="string"||c("oz-player/shims/ozvariant")(0,29051);var g=this.$12.includes(this.$1.$.id);b=new(c("oz-player/parsers/OzSidxSegmentsParser"))(this.$10,e,f,d("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),d("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$6,this.$7,g);b.onError(function(b){var c;if((c=a.$13)==null?void 0:c.handleError(a.parseID(),b))return;return a.$5.emitError(b)})}else if(this.$1.SegmentTemplate)b=this.$15(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$2)b=this.$15(this.$2[0],{isShared:!0});else{e=new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});throw e}this.$8=b;return b};b.$15=function(a,b){var d;a=a;b.isShared&&(a=babelHelpers["extends"]({},a,{$:babelHelpers["extends"]({},a.$,{initialization:a.$.initialization.replace("$RepresentationID$",this.$1.$.id),media:a.$.media.replace("$RepresentationID$",this.$1.$.id)})}));b=this.$9.mpdUrl;var e=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;e=e!=null?e:b;if(e==null){var f=new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});throw f}f=this.$9.customSegmentTimelineParser;d=(d=this.$9.customRepresentationParsers)==null?void 0:d.initializationBinary;d=d?d(this.$1):null;return new(c("oz-player/parsers/OzSegmentTemplateParser"))(this.$10,a,{baseUrl:e,mpdUrl:b,isStaticMpd:this.$11.manifestType==="static",isTemplatedMpd:this.$11.manifestIsTemplated},f,d)};b.onError=function(a){return this.$5.onError(a)};b.parseInitSegment=function(){return this.$14().parseInitializationSegment()};b.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};b.parseMimeCodecs=function(){var a,b;a=(a=(a=this.$1.$.mimeType)!=null?a:this.$3)!=null?a:"";b=(b=(b=this.$1.$.codecs)!=null?b:this.$4)!=null?b:"";return c("oz-player/parsers/getMIMECodecs")(a,b)};b.parseSegmentsContainer=function(){return this.$14().parseSegmentsContainer()};b.parseID=function(){return""+this.$1.$.id};b.parseCustomFieldFirstSegment=function(){var a=this.$9.customRepresentationParsers?this.$9.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};b.parse=function(){return new(c("oz-player/manifests/OzRepresentationBase"))(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$9.customRepresentationParsers)};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzApplicationRepresentationParser",["oz-player/manifests/OzApplicationRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){b=a.call(this,b,c,d,e,f,g,h,i,j,k)||this;b.$OzApplicationRepresentationParser1=c;b.$OzApplicationRepresentationParser2=d;return b}var d=b.prototype;d.parse=function(){var a=this.$OzApplicationRepresentationParser2.customRepresentationParsers;return new(c("oz-player/manifests/OzApplicationRepresentation"))(this.$OzApplicationRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){d=a.call(this,b,c,d,e,f,g,h,i)||this;d.$OzAudioRepresentation1=b;d.$OzAudioRepresentation2=c;d.$OzAudioRepresentation3=g;return d}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation3/a).toFixed(1)+"Kbps"};c.getQualityLabel=function(){return this.$OzAudioRepresentation2};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){b=a.call(this,b,c,d,e,f,g,h,i,j,k)||this;b.$OzAudioRepresentationParser1=c;b.$OzAudioRepresentationParser2=d;return b}var d=b.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser2.customRepresentationParsers;return new(c("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l)||this;b.$OzVideoRepresentationParser1=c;b.$OzVideoRepresentationParser2=d;return b}var d=b.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),b=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10),d=this.$OzVideoRepresentationParser2.customRepresentationParsers;return new(c("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,b,a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzApplicationRepresentationParser","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h){g===void 0&&(g=[]),h===void 0&&(h=null),this.$2=new(c("oz-player/utils/OzErrorEmitter"))(),this.$5=a,this.$1=d,this.$3=e,this.$4=b,this.$6=f,this.$7=g,this.$8=h}var b=a.prototype;b.onError=function(a){return this.$2.onError(a)};b.parse=function(a){a=a;var b=this.$4.createXmlParser().parse(a);b=b.MPD&&b.MPD.length>0?b.MPD[0]:null;if(!b){var d=2e3;throw new Error("parsed manifest XML missing MPD node; truncated xml ("+d+"/"+a.length+"): "+a.substring(0,d))}d=b.Period&&b.Period.length>0?b.Period[0]:null;if(!d){var e=2e3;throw new Error("parsed manifest XML missing Period node; truncated xml ("+e+"/"+a.length+"): "+a.substring(0,e))}a=d.AdaptationSet||[];e=this.$9(b);d=this.$10(b);var f=this.$11(a,"video"),g=this.$12(f,c("oz-player/parsers/OzVideoRepresentationParser"),{manifestType:e,manifestIsTemplated:d});g.sort(function(a,b){return a.getHeight()-b.getHeight()});var h=this.$11(a,"audio"),i=this.$12(h,c("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:e,manifestIsTemplated:d});i.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var j=[];if(this.$5.getBool("vtt_caption_representation")){a=this.$13(a,"application");j=this.$12(a[0],c("oz-player/parsers/OzApplicationRepresentationParser"),{manifestType:e,manifestIsTemplated:d})}a=this.$4.mpdUrl;d=new(c("oz-player/manifests/Mpd"))(b,g,i,j,a,this.$14(b),this.$4.customParsers||new Map(),e==="static");if(this.$6){j=this.$6;j.startEME(f,g,h,i)}return d};b.$14=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};b.$9=function(a){return a.$.type||"static"};b.$10=function(a){var b;b=(b=this.$4.customParsers)==null?void 0:b.get("isLiveTemplated");if(!b)return!1;b=b(a);return typeof b==="boolean"&&b};b.$11=function(a,b){return a.find(this.$15(b))};b.$13=function(a,b){return a.filter(this.$15(b))};b.$15=function(a){return function(b){if(b.$.mimeType!=null)return b.$.mimeType.indexOf(a)!==-1;b=b.Representation;return b&&b.length>0&&b[0].$.mimeType.indexOf(a)!==-1}};b.$12=function(a,b,c){var d=this;return!a?[]:a.Representation.map(function(e){e=new b(d.$5,e,d.$4,d.$1,d.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs,d.$7,d.$8);e.onError(d.$2.emitError);return e.parse()})};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=null;a.forEach(function(a){if(a){var c=a.endTime;c<((c=(c=b)==null?void 0:c.endTime)!=null?c:Infinity)&&(b=a)}});return b}function a(a,b){var c=[];c.push.apply(c,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(c.length)if(b.getBool("get_mpd_least_last_time_range")){a=c.map(function(a){a=a.getEndingSegment();return a?a.getTimeRange():null});return g(a)}else{b=c[0].getEndingSegment();if(b)return b.getTimeRange()}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}f.getLeastEndTimeTimeRange=g;f.getMpdLastTimeRange=a;f.getMpdLastSequenceNumber=b}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker4=0;d.$OzStreamInterruptChecker5=null;d.$OzStreamInterruptChecker6=!1;d.$OzStreamInterruptChecker2=b;d.$OzStreamInterruptChecker3=c;d.$OzStreamInterruptChecker1=d.$OzStreamInterruptChecker3.getNumber("live_numerical_error_epsilon");return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker2,this.$OzStreamInterruptChecker3),b=a?a.endTime:null,c=!1;b!==null&&(c=this.$OzStreamInterruptChecker3.getBool("stream_interrupted_fuzzy_equals")?this.$OzStreamInterruptChecker5!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(b,this.$OzStreamInterruptChecker5,this.$OzStreamInterruptChecker1):b===this.$OzStreamInterruptChecker5);c?this.$OzStreamInterruptChecker4++:(this.$OzStreamInterruptChecker4=0,this.$OzStreamInterruptChecker6&&this.$OzStreamInterruptChecker5!==null&&this.$OzStreamInterruptChecker5!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker6=!1);c=this.$OzStreamInterruptChecker3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker6&&c>0&&this.$OzStreamInterruptChecker4>=c&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker6=!0);this.$OzStreamInterruptChecker5=b};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f,g,h,i,j){var k;k=a.call(this)||this;k.$OzMpdUpdater8=new(c("oz-player/utils/OzErrorEmitter"))();k.$OzMpdUpdater10=new(c("oz-player/shims/OzSubscriptionsHandler"))();k.$OzMpdUpdater11=!1;k.$OzMpdUpdater15=0;k.$OzMpdUpdater17=0;k.$OzMpdUpdater18=null;k.$OzMpdUpdater20=!0;k.$OzMpdUpdater23=function(){var a,b=k.$OzMpdUpdater2.getLocation();k.$OzMpdUpdater20=!1;if(!b)return;var e=new(c("oz-player/shims/OzURI"))(b),f=String((a=(a=e.getQueryData().ms)!=null?a:e.getQueryData().msdev)!=null?a:e.getQueryData().mstest);if(k.$OzMpdUpdater6.getBool("live_disable_mpd_updates_when_paused")&&!k.$OzMpdUpdater12.isPlaying()){k.setupUpdateLoop();return}var g=k.$OzMpdUpdater5.getOperationLogger("update_manifest").start();k.$OzMpdUpdater26(b).then(function(a){var e;k.$OzMpdUpdater17=0;k.$OzMpdUpdater27();k.$OzMpdUpdater7=0;if(k.$OzMpdUpdater20)return;var h=Object.assign({},k.$OzMpdUpdater13,{mpdUrl:b});h=new(c("oz-player/parsers/OzMpdParser"))(k.$OzMpdUpdater6,h,k.$OzMpdUpdater1,k.$OzMpdUpdater5,k.$OzMpdUpdater14);h.onError(function(a){k.$OzMpdUpdater8.emitError(a),g.setError(a).log()});h=h.parse(a);a=k.$OzMpdUpdater2.isStaticMpd();k.$OzMpdUpdater2.updateWith(h);k.$OzMpdUpdater2.markRefreshed();h.isStaticMpd()&&!a&&k.emit("streamTransitionToStatic");h=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(k.$OzMpdUpdater2,k.$OzMpdUpdater6);a=h&&h.endTime!=0?h.endTime:null;h=String((h=(h=k.$OzMpdUpdater2)==null?void 0:h.getCustomField("currentServerTimeMs"))!=null?h:"");e=String((e=(e=k.$OzMpdUpdater2)==null?void 0:e.getCustomField("lastVideoFrameTs"))!=null?e:"");h=k.$OzMpdUpdater6.getBool("log_extra_events")?{currentServerTimeMs:h,ingestLastVideoFrameTs:e,nowMs:String(Date.now())}:{};g.setLiveheadPosition(a).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(k.$OzMpdUpdater2)).setManifestType(k.$OzMpdUpdater2.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(k.$OzMpdUpdater2.getCustomField("isLiveTemplated"))).setPlaybackFbmsParam(f).setUserInfo(h).log();k.$OzMpdUpdater9.notifyMpdUpdated();k.setupUpdateLoop()})["catch"](function(a){k.$OzMpdUpdater27();g.setError(a).log();if(k.$OzMpdUpdater6.getBool("handle_mpd_retries_outside_oz_mpd_updater")){var d;if(k.$OzMpdUpdater6.getBool("convert_dom_exception_to_oz_error"))if(a instanceof c("oz-player/utils/OzError"))d=a;else{var e=a.code!=null?String(a.code):null,f={originalError:a,url:b};e!==null&&(f.code=e);d=new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.name+"; "+a.message+"; "+a.description+";",extra:f})}else{d=a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:"Unknown mpd url load failure; errorMessage: "+a.message+"; errorDescription: "+((e=a.description)!=null?e:"")+";",extra:{originalError:a,url:b}})}k.$OzMpdUpdater25(d,b)}else k.$OzMpdUpdater24(a)})};var l=e.getMinimumUpdatePeriod();k.$OzMpdUpdater7=0;k.$OzMpdUpdater1=f;k.$OzMpdUpdater2=e;k.$OzMpdUpdater12=g;k.$OzMpdUpdater3=l;k.$OzMpdUpdater5=h.cloneContext().setType("manifest");k.$OzMpdUpdater6=b;k.$OzMpdUpdater13=i;k.$OzMpdUpdater14=j;k.$OzMpdUpdater2.addListener("locationUpdated",function(){k.$OzMpdUpdater21(),k.setupUpdateLoop()});k.$OzMpdUpdater9=new(c("oz-player/utils/OzStreamInterruptChecker"))(k.$OzMpdUpdater2,k.$OzMpdUpdater6);k.$OzMpdUpdater10.addSubscriptions(k.$OzMpdUpdater9.addListener("streamResumedAt",function(a){k.emit("streamResumedAt",a)}),k.$OzMpdUpdater9.addListener("streamInterruptAt",function(a){k.emit("streamInterruptAt",a)}));return k}var e=b.prototype;e.$OzMpdUpdater21=function(){c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater4=null,this.$OzMpdUpdater22(),this.$OzMpdUpdater20=!0};e.setupUpdateLoop=function(){var a,b=!this.$OzMpdUpdater11;b&&this.$OzMpdUpdater6.getBool("stop_manifest_update_when_static")&&(b=!this.$OzMpdUpdater2.isStaticMpd(),this.$OzMpdUpdater3=this.$OzMpdUpdater2.getMinimumUpdatePeriod());a=this.$OzMpdUpdater16==null&&this.$OzMpdUpdater6.getNumber("manifest_initial_update_delay_ms")>0?this.$OzMpdUpdater6.getNumber("manifest_initial_update_delay_ms"):this.$OzMpdUpdater6.getNumber("manifest_update_frequency_ms")||((a=this.$OzMpdUpdater3)!=null?a:0)*1e3;b&&a&&this.$OzMpdUpdater2.getLocation()&&(this.$OzMpdUpdater4=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater23,a))};e.onError=function(a){return this.$OzMpdUpdater8.onError(a)};e.$OzMpdUpdater24=function(a){if(this.$OzMpdUpdater6.getBool("live_gracefully_handle_mpd_errors")){var b;a instanceof c("oz-player/utils/OzError")&&(b=a.getExtra().code||"");var d=["404","503"];this.$OzMpdUpdater6.getBool("live_gracefully_handle_no_network")&&d.push("0");var e=this.$OzMpdUpdater6.getNumber("live_max_try_attempts_on_404"),f=!1;if(b&&d.indexOf(b)>-1)switch(b){case"410":this.$OzMpdUpdater11=!0;f=!0;break;case"404":this.$OzMpdUpdater7++;if(this.$OzMpdUpdater7>=e)break;case"503":case"0":f=!0;break}if(f){this.setupUpdateLoop();return}}this.$OzMpdUpdater8.emitError(a)};e.$OzMpdUpdater25=function(a,b){var c=this;b=!0;var d=this.$OzMpdUpdater17-1,e=a.getExtra().code;this.$OzMpdUpdater18!==e?(this.$OzMpdUpdater18=e,this.$OzMpdUpdater15=1):this.$OzMpdUpdater15++;var f=function(){b=!1};e={endStream:function(){f(),c.$OzMpdUpdater11=!0,c.$OzMpdUpdater6.getBool("live_gracefully_handle_410")&&c.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater15,error:a,isInitialRequest:!1,retry:function(b){c.emit("manifestFetchErrorRetry",a),f(),c.setupUpdateLoop()},retryAttemptCount:d};this.emit("manifestFetchError",e);b&&this.$OzMpdUpdater8.emitError(a)};e.$OzMpdUpdater28=function(a,b){a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_expid",b);return a.toString()};e.$OzMpdUpdater26=function(a){this.$OzMpdUpdater22();this.$OzMpdUpdater17++;var b=this.$OzMpdUpdater6.getString("cdn_experiment_id");a=b.length===0?a:this.$OzMpdUpdater28(a,b);b=this.$OzMpdUpdater1.requestRawUrl(a,{networkTimeoutMs:this.$OzMpdUpdater6.getNumber("mpd_updater_network_request_timeout_ms")},this.$OzMpdUpdater5);this.$OzMpdUpdater16=Date.now();this.$OzMpdUpdater19=b;a=b.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};e.$OzMpdUpdater22=function(){this.$OzMpdUpdater19&&this.$OzMpdUpdater6.getBool("mpd_update_cancel_current_request_tracker")&&(this.$OzMpdUpdater19.cancel(),this.$OzMpdUpdater17=0),this.$OzMpdUpdater27()};e.$OzMpdUpdater27=function(){this.$OzMpdUpdater19=null};e.destroy=function(){this.$OzMpdUpdater4&&c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater10.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){function h(){return{$:{}}}function i(a){var b=h();for(var c=a.attributes,d=0;d<c.length;++d){var e=c[d];b.$[e.name]=e.value}for(var e=a.childNodes,c=0;c<e.length;++c){d=e[c];if(d instanceof Element){a=d.nodeName;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=[]);b[a].push(i(d))}else{a=d.nodeValue.trim();a&&(b._=a)}}return b}a=function(){function a(){this.$1=new DOMParser()}var b=a.prototype;b.parse=function(a){try{var b=h(),d=this.$1.parseFromString(a,"application/xml"),e=d.querySelector("parsererror");if(e){e=e.innerHTML;var f=2e3;throw new(c("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:e+"; truncated xml ("+f+"/"+a.length+"): "+a.substring(0,f),extra:{}})}e=d.documentElement;e!=null&&(b[e.nodeName]=[i(e)]);return b}catch(b){if(b instanceof c("oz-player/utils/OzError"))throw b;else{f=2e3;throw new(c("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:b.message+"; truncated xml ("+f+"/"+a.length+"): "+a.substring(0,f)+"\n\n"+b.stack,extra:{originalError:b}})}}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e){e===void 0&&(e=null),this.$3=new(c("oz-player/utils/OzErrorEmitter"))(),this.$4=new Map(),this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$11=null,this.$1=a,this.$2=b,this.$4=d,this.$11=e}var b=a.prototype;b.$12=function(a){var b;this.$5=!0;return this.$2.getBool("clear_buffer_on_seek_into_unbuffered_range")?(b=this.$8)!=null?b:a.call(this.$1):a.call(this.$1)};b.$13=function(a,b){this.$6=!0,this.$2.getBool("clear_buffer_on_seek_into_unbuffered_range")?(this.$9.push({t:b}),this.$8=b,this.$9.length===1&&this.$14(a)):a.call(this.$1,b)};b.$15=function(a){this.$7=!0;return this.$2.getBool("clear_buffer_on_seek_into_unbuffered_range")?this.$8!=null?!0:a.call(this.$1):a.call(this.$1)};b.$16=function(a,b){var d=this,e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),f=[];this.$4.forEach(function(c,d){d=c.clearSourceBufferRange(a,b);f.push(d)});var g=c("oz-player/shims/OzMaybeNativePromise").all(f);g.then(function(){e.resolve()})["catch"](function(a){d.$2.getBool("throw_error_on_clear_buffer_on_seek_failed")?e.reject(a):e.resolve()});return e.getPromise()};b.$14=function(a){var b=this,d=this.$9.length>0?this.$9[0]:null,e=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(d){var f=d.t;d=this.$1.buffered;var g=d.length,h=d.length<=0,i=-1,j=!1;for(var k=0;i<0&&k<g;++k)i=f-e>=d.start(k)&&f+e<d.end(k)?k:i,j=f<d.start(k)-e;k=i>-1;var l=this.$2.getNumber("clear_buffer_on_seek_nudge_s");k&&i>=0&&i<g&&l>0&&(f=Math.min(f,d.end(i)-l),f=Math.max(f,d.start(i)+l));if(h||k||!j)this.$11&&this.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(f*1e3)).setInitiator("no_clear").log(),a.call(this.$1,f),this.$9.shift(),this.$14(a);else{var m=null;this.$11&&(m=this.$11.getOperationLogger("clear_buffer_before_seek").setLength(Math.round(f*1e3)).setUserInfo({bufferRangesLength:String(g),nudgeSec:String(l)}).start());i=this.$16(this.$2.getBool("throw_error_on_clear_buffer_on_seek_failed")?Math.max(f-e,0):f-e,d.end(g-1)+e);i.then(function(){m&&m.log(),b.$11&&b.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(f*1e3)).setInitiator("after_clear").log(),a.call(b.$1,f),b.$9.shift(),b.$14(a)})["catch"](function(a){m&&m.setError(a).log(),b.$3.emitError(a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a?a.name+": "+a.message:"Unknown error while clearing the buffer.",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))})}}else this.$8=null};b.maybeOverwriteVideoCurrentTimeProperty=function(){var a=this;if(this.$2.getBool("overwrite_video_current_time_property")){var b,c,d=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");d=(b=d)!=null?b:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");b=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");b=(c=b)!=null?c:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var e=d&&typeof d.get==="function"?d.get:null,f=d&&typeof d.set==="function"?d.set:null,g=b&&typeof b.get==="function"?b.get:null;if(e&&f&&g&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return a.$12(e)},set:function(b){a.$13(f,b)},configurable:!0,enumerable:!0});Object.defineProperty(this.$1,"seeking",{get:function(){return a.$15(g)},configurable:!0,enumerable:!0});c=this.$1.currentTime;this.$1.currentTime=c;this.$1.seeking}catch(a){}this.$17(function(){a.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(a.$1,"currentTime",{get:e,set:f,configurable:!0,enumerable:!0}),a.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(a.$1,"seeking",{get:g,configurable:!0,enumerable:!0})})}}};b.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6};b.getSeekingPropertyOverwriteSuccess=function(){return this.$7};b.$17=function(a){this.$10=a};b.onError=function(a){return this.$3.onError(a)};b.destroy=function(){try{this.$10&&this.$10()}catch(a){}};return a}();g["default"]=a}),98);
__d("sumOfArray",[],(function(a,b,c,d,e,f){function a(a){var b=0,c=a.length;for(var d=0;d<c;++d)b+=a[d];return b}f["default"]=a}),66);
__d("oz-player/playback_controls/OzSteadyStateManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","sumOfArray"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$1=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$2=[];this.$3=!1;this.$5=a.getNumber("steady_state_measurement_duration_ms");this.$6=a.getNumber("steady_state_min_buffer_duration_sec");this.$7=a.getNumber("steady_state_target_latency_sec");this.$4=Date.now();this.$1.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b,"pause",function(){return d.reset()}))}var b=a.prototype;b.reset=function(){this.$2=[],this.$3=!1,this.$4=Date.now()};b.appendBuffer=function(a){if(this.$3)return;if(a<this.$6){this.reset();return}this.$2.push(a);Date.now()-this.$4>this.$5&&(this.$3=!0)};b.recommendedLatency=function(a){if(!this.$3)return 0;var b=c("sumOfArray")(this.$2)/this.$2.length;b=b-this.$7;return a-b};b.destroy=function(){this.$1.release()};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/playback_controls/OzSteadyStateManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$8=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$9=null;this.$11=!1;this.$12=null;this.$13=null;this.$14=null;this.$15=!0;var d=a.config,e=a.mpd,f=a.playbackState,g=a.bufferingDetector,h=a.video;a=a.loggerProvider;this.$1=d;this.$2=e;this.$3=f;d.getNumber("steady_state_measurement_duration_ms")>0&&(this.$7=new(c("oz-player/playback_controls/OzSteadyStateManager"))(d,h));g!=null&&(this.$8.addSubscriptions(g.addListener("enterBuffering",function(a){if(a=="in_play"){b.$9=0;(a=b.$7)==null?void 0:a.reset()}b.$11=!1;(a=b.$6)==null?void 0:a.log();b.$6=null})),this.$8.addSubscriptions(g.addListener("leaveBuffering",function(){b.$9==0&&(b.$9=Date.now()),b.$11=!1})));this.$4=h;this.$5=a;this.$16()&&this.$8.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$4,"timeupdate",c("oz-player/shims/ozThrottle")(function(){b.$17()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$4,"seeking",function(){b.$14=Date.now(),b.$12=null}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$4,"playing",function(){b.$14=Date.now(),b.$12=null}))}var b=a.prototype;b.enabled=function(){var a=this.$1.getNumber("catchup_timeout_after_buffering_sec");return a==0||this.$9==null||this.$9!=0&&this.$9+a*1e3<=Date.now()};b.isBehindPreferredLiveHeadLatencyWithTolerance=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()};b.isBehindPreferredLiveHeadLatency=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()};b.$18=function(){return this.$2.getRefreshDate()==null&&this.$1.getBool("latencymanager_stalempd_edgelatency_sec_on")};b.getInitialPlayHeadPosition=function(){return this.$18()?this.getLiveHeadTimeSec()-this.$19(this.$1.getNumber("latencymanager_stalempd_edgelatency_sec")):this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()};b.getLiveHeadTimeSec=function(){var a=this.$20();return(a==null?void 0:(a=a.getEndingSegment())==null?void 0:a.getTimeRange().endTime)||0};b.$21=function(){return this.$9!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")};b.getPreferredLiveHeadLatencySec=function(){var a,b=this.$21()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec");b=this.$19(b);a=((a=this.$7)==null?void 0:a.recommendedLatency(b))||0;a=a>0?a:b;this.$5.getOperationLogger("latency_manager").setPreferredEdgeLatency(a*1e3);return a};b.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")};b.shouldEnableManifestTimeRangeCatchup=function(){return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")};b.shouldEnableCursorBasedCatchup=function(){var a=this.$2.getVideoRepresentations()[0];a=a&&a.canPredict();return a&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0};b.setEnableCatchup=function(a){!this.$15&&a==!0&&(this.$9=null),this.$15=a};b.$22=function(a,b,c){var d=this.$1.getNumber("playback_speed_min_sharpness_factor");c=a*2/(1+Math.pow(Math.E,-(c-b)*d));return 1-a+c};b.$16=function(){return this.$1.getNumber("playback_speed_latency_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate")>0};b.$17=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),b=a.bufferAheadSec;a=a.bufferedOffset;this.$23(b,a);(a=this.$7)==null?void 0:a.appendBuffer(b)};b.$23=function(a,b){var c=this.$1.getNumber("playback_speed_enabled_delay_sec"),d=this.$1.getNumber("playback_speed_min_buffer_sec");a>d&&(this.$11=!0);var e=this.$1.getNumber("playback_speed_min_duration_sec"),f=this.$1.getNumber("playback_speed_restore_min_duration_sec"),g=this.$1.getNumber("playback_speed_latency_adjustment_rate"),h=this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate"),i=this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate");if(this.$4.playbackRate==0){var j;this.$10=null;(j=this.$6)==null?void 0:j.log();this.$6=null}else if(this.$15&&this.$11&&a<d&&(g>0||h>0)&&b===0&&(c===0||this.$14!=null&&this.$14+c*1e3<Date.now())){j=h>0?1-h:this.$22(g,d,a);!this.$1.getBool("playback_speed_latency_adjustment_user_rate_disable")&&this.$10==null&&(this.$10=this.$4.playbackRate);this.$6==null&&this.$1.getBool("log_extra_events")&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("slow").setUserInfo({newPlaybackRate:String(j),oldPlaybackRate:String(this.$4.playbackRate)}));this.$24(j)}else if(this.$15&&this.$11&&this.isBehindPreferredLiveHeadLatency()&&i>0&&b===0&&(this.$13==null||this.$13+f*1e3<Date.now())&&(c==0||this.$14!=null&&this.$14+c*1e3<Date.now())){!this.$1.getBool("playback_speed_latency_adjustment_user_rate_disable")&&this.$10==null&&(this.$10=this.$4.playbackRate);h=1+i;this.$6==null&&this.$1.getBool("log_extra_events")&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("fast").setUserInfo({newPlaybackRate:String(h),oldPlaybackRate:String(this.$4.playbackRate)}));this.$24(h)}else if(this.$15==!1||this.$12==null||this.$12+e*1e3<Date.now()){this.$1.getBool("playback_speed_latency_adjustment_user_rate_disable")?this.$4.playbackRate=1:this.$10!=null&&(this.$4.playbackRate=this.$10,this.$10=null);(g=this.$6)==null?void 0:g.log();this.$6=null;this.$13=Date.now()}};b.$24=function(a){try{this.$4.playbackRate=a,this.$12=Date.now()}catch(b){(a=this.$6)==null?void 0:a.setError(b).setResult("failed").log();this.$6=null}};b.$20=function(){var a=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return a.length===0?null:a.reduce(function(a,b){var c;return(((c=a.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)>(((c=b.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)?a:b})};b.$19=function(a){var b;if(a<=0)return a;var c=this.$20();b=c==null?void 0:(b=c.getEndingSegment())==null?void 0:b.getTimeRange();if(!b)return a;c=c==null?void 0:(c=c.getSegmentByTime((b==null?void 0:b.endTime)-a))==null?void 0:c.getTimeRange();return!c?a:(b==null?void 0:b.endTime)-(c==null?void 0:c.startTime)};b.destroy=function(){var a;(a=this.$7)==null?void 0:a.destroy();this.$8.release()};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=null;this.$5=0;this.$6=0;this.$7=!0;this.$8=0;this.$9=0;this.$10=!1;this.$12=0;this.$13=0;this.$15=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$17=function(){b.$10!=b.$14.isPlaying()&&(b.$14.isPlaying()&&(b.$11=Date.now()),b.$10=b.$14.isPlaying())};var d=a.video,e=a.config,f=a.mpd,g=a.liveheadFallBehindBlockThreshold,h=a.liveheadFallBehindBlockMargin,i=a.playbackState;a=a.perfLoggerProvider;this.$1=e;this.$2=d;this.$3=f;this.$8=g;this.$9=h;this.$14=i;this.$16=a;this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$3.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$4!=null&&this.$4.remove();this.$4=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$18(d)})};b.$18=function(a){var b;if(!this.$7)return;if(this.$5===a)return;this.$5=a;if(this.$2.currentTime<=this.$6)return;a=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?a:this.$2.duration;var c=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,e=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17();this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=e||this.$12!=c)&&(this.$13=e,this.$12=c,this.$11=Date.now());b=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((b=this.$11)!=null?b:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(b&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&e!==0&&c!==0&&a-this.$2.currentTime>c){b=[];for(var c=0;c<this.$2.buffered.length;c++)b.push({startTime:this.$2.buffered.start(c),endTime:this.$2.buffered.end(c)});c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,b);this.$6=this.$2.currentTime+Math.min(c,e);b={startTime:this.$6,endTime:a-e};this.$1.getBool("log_extra_events")&&this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(b.endTime-b.startTime).setUserInfo({blockedRangeStart:String(b.startTime),blockedRangeEnd:String(b.endTime)}).log();this.$3.blockTimeRange(b)}};b.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}f.computeSeekAhead=a}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1.5;function a(a,b,c,e){b=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,b,e)===-1}function b(a,b,c,e,f){f===void 0&&(f=h);var g=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,g,e);if(c!==-1){g=b[c];return d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,g.endTime)&&g.endTime-a<f}return!1}g.isInGap=a;g.isNearGap=b}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a.perfLoggerProvider,this.$2=a.video,this.$4=a.config}var b=a.prototype;b.markState=function(a,b){var c=d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$2.buffered),e=this.$3;if(e==null){this.$3=c;return}var f=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(c,b.getCurrentTime(),this.$4);e=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e,b.getCurrentTime(),this.$4);e.bufferedOffset!==-1&&f.bufferedOffset===-1&&this.$1.getOperationLogger("playhead_adjustment").setError("buffer_deleted").setResult("failed").setUserInfo({vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null}).setInitiator(a).log();this.$3=c};return a}(),i=function(){function a(a){this.$5=!1,this.$6={},this.$1=a.perfLoggerProvider,this.$2=a.video}var b=a.prototype;b.markState=function(a,b){var c=this;if(this.$2.paused){this.$3=null;this.$4=null;this.$5=!1;this.$6={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$5=!1,this.$6={});this.$6[a]=this.$6[a]==null?1:this.$6[a]+1;var d=this.$4;if(!this.$5&&!this.$2.paused&&d!=null&&d+1e4<Date.now()){this.$5=!0;var e={};Object.keys(this.$6).forEach(function(a){e[a]=String(c.$6[a])});this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-d).setUserInfo(babelHelpers["extends"]({},e,b,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(d-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(a).log()}};return a}();a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPlayheadManager2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager3=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager4=new Set();d.$OzPlayheadManager10=new Set();d.$OzPlayheadManager12=function(a){d.$OzPlayheadManager1.currentTime=a};d.$OzPlayheadManager14=!1;d.$OzPlayheadManager15=!1;d.$OzPlayheadManager16=!0;d.$OzPlayheadManager17=!1;var e=b.video,f=b.mpd,g=b.playheadCatchup,j=b.playbackState,k=b.config,l=b.perfLoggerProvider,m=b.seekHandler,n=b.initialPlaybackPosition,o=b.canSupportSkipVideobufferGaps,p=b.liveLatencyManager;b=b.dynamicVideoLibrary;d.$OzPlayheadManager1=e;d.$OzPlayheadManager6=k;d.$OzPlayheadManager7=j;d.$OzPlayheadManager8=f;d.$OzPlayheadManager9=g;d.$OzPlayheadManager11=l;m&&(d.$OzPlayheadManager12=m);d.$OzPlayheadManager17=o;d.$OzPlayheadManager20=p;d.$OzPlayheadManager13=n;d.$OzPlayheadManager21=b;d.$OzPlayheadManager6.getBool("log_extra_events")&&(d.$OzPlayheadManager18=new i({video:e,perfLoggerProvider:l}),d.$OzPlayheadManager19=new h({video:e,perfLoggerProvider:l,config:k}));d.$OzPlayheadManager2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"durationchange",function(){d.$OzPlayheadManager22("durationchange"),d.$OzPlayheadManager23("durationchange"),d.$OzPlayheadManager24("durationchange")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"pause",function(){d.$OzPlayheadManager23("pause")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"play",function(){d.$OzPlayheadManager23("play")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"playing",function(){d.$OzPlayheadManager23("playing")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"waiting",function(){d.$OzPlayheadManager6.getBool("playhead_manager_handle_time_range_update_on_waiting")?d.$OzPlayheadManager23("waiting"):d.$OzPlayheadManager23.bind(babelHelpers.assertThisInitialized(d),"waiting"),d.$OzPlayheadManager24("waiting")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"timeupdate",c("oz-player/shims/ozThrottle")(function(){d.$OzPlayheadManager6.getBool("playhead_manager_handle_timerange_update_on_timeupdate")&&d.$OzPlayheadManager23("timeupdate"),(d.$OzPlayheadManager6.getBool("playhead_manager_handle_buffered_timerange_update_on_timeupdate")||d.$OzPlayheadManager6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate"))&&d.$OzPlayheadManager24("timeupdate")},d.$OzPlayheadManager6.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"ratechange",function(){d.$OzPlayheadManager25()&&d.$OzPlayheadManager6.getBool("handle_buffered_timerange_update_on_ratechange")&&d.$OzPlayheadManager24("ratechange")}));return d}var e=b.prototype;e.$OzPlayheadManager25=function(){return this.$OzPlayheadManager1.playbackRate===0};e.observeSourceBufferState=function(a,b){var d=this;this.$OzPlayheadManager4.has(a)&&c("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager4.add(a);this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){d.$OzPlayheadManager26(a,b),d.$OzPlayheadManager6.getBool("overwrite_video_current_time_property")&&d.$OzPlayheadManager6.getBool("clear_buffer_on_seek_into_unbuffered_range")?d.$OzPlayheadManager6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager17&&d.$OzPlayheadManager24("buffer_updated"):d.$OzPlayheadManager6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager24("buffer_updated")}))};e.$OzPlayheadManager26=function(a,b){var c=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update")&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time")?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=d("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(a,c);var e=this.$OzPlayheadManager6.getNumber("timeline_offset_threshold");a>0&&(e===0||a<e)&&this.$OzPlayheadManager27(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",b)};e.setTimeRangeProvider=function(a){var b=this;this.$OzPlayheadManager3.release();this.$OzPlayheadManager3.engage();this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(function(){b.$OzPlayheadManager23("time_range_updated")}));this.$OzPlayheadManager5=a;this.$OzPlayheadManager23("time_range_set")};e.$OzPlayheadManager22=function(a){var b=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager15&&!isNaN(b)&&b!==Infinity){b=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:b+this.$OzPlayheadManager13;if(this.$OzPlayheadManager20!=null){var c;b=(c=this.$OzPlayheadManager20)==null?void 0:c.getInitialPlayHeadPosition()}this.$OzPlayheadManager15=!0;if(this.$OzPlayheadManager6.getBool("playhead_manager_clamp_initial_playback_position")){c=(c=this.$OzPlayheadManager5)==null?void 0:c.getTimeRanges();c!=null&&c.length>0&&c[0].startTime>b&&(b=c[0].startTime)}this.$OzPlayheadManager27(b,"initial_playback_position",a);this.emit("initialPlaybackPositionSet",b)}};e.$OzPlayheadManager23=function(a,b){b===void 0&&(b=null);if(this.$OzPlayheadManager20!=null?!this.$OzPlayheadManager20.shouldEnableManifestTimeRangeCatchup():!this.$OzPlayheadManager6.getBool("skip_timerange_gaps"))return;var c=this.$OzPlayheadManager9;if(c&&c.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){c=c.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof c==="number"){this.$OzPlayheadManager27(c,"live_catch_up_strategy",a,b);return}}c=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack");if(c===0)return;var e=this.$OzPlayheadManager5;if(!e)return;var f=this.$OzPlayheadManager7.getCurrentTime(),g=e.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),h=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(f,g);if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(f,e.getTimeRanges(),this.$OzPlayheadManager6)||d("oz-player/utils/OzTimelineGapUtil").isInGap(f,e.getTimeRanges(),this.$OzPlayheadManager6))&&h!==-1){f=g[h];this.$OzPlayheadManager27(f.rangeStart+c,"jump_over_timeline_gap",a,b)}};e.$OzPlayheadManager24=function(a){var b;if(!this.$OzPlayheadManager6.getBool("skip_videobuffer_gaps"))return;if(this.$OzPlayheadManager6.getBool("overwrite_video_current_time_property")&&this.$OzPlayheadManager6.getBool("clear_buffer_on_seek_into_unbuffered_range")&&!this.$OzPlayheadManager17)return;var c=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(c===0)return;var e=this.$OzPlayheadManager7.getCurrentTime(),f=[];for(var g=0;g<this.$OzPlayheadManager1.buffered.length;g++)f.push({startTime:this.$OzPlayheadManager1.buffered.start(g),endTime:this.$OzPlayheadManager1.buffered.end(g)});g=f.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});this.$OzPlayheadManager19&&this.$OzPlayheadManager6.getBool("log_extra_events")&&this.$OzPlayheadManager19.markState(a,this.$OzPlayheadManager7);var h=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(e,g),i=this.$OzPlayheadManager16?0:this.$OzPlayheadManager6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),j=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),k=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_numerical_error");b=(b=this.$OzPlayheadManager21)==null?void 0:b.getLastSegmentStartPTS();b=b!=null?b/1e3:null;if(this.$OzPlayheadManager25()&&b!=null&&b<e&&this.$OzPlayheadManager6.getBool("playhead_manager_buffer_gaps_skip_reverse")){var l=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager6,b,g);l=l>=0?g[l]:null;if(l!=null&&l.rangeStart<=b&&l.rangeEnd!=null&&l.rangeEnd>b){this.$OzPlayheadManager27(b,"reverse_jump_over_buffer_gap",a,null);return}}if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(e,f,this.$OzPlayheadManager6,k,j)||d("oz-player/utils/OzTimelineGapUtil").isInGap(e,f,this.$OzPlayheadManager6,k))&&h!==-1&&(i===0||g[h].rangeStart-e<i)&&(!this.$OzPlayheadManager6.getBool("playheadman_dont_skip_ahead_past_last_fetched")||b!=null&&g[h].rangeStart+c>b)){l=g[h];this.$OzPlayheadManager27(l.rangeStart+c,"jump_over_buffer_gap",a,null);return}this.$OzPlayheadManager18&&this.$OzPlayheadManager6.getBool("log_extra_events")&&this.$OzPlayheadManager18.markState(a,{nextBufferedRangeIndex:String(h),limitMaxGapSize:String(i),rangeStart:h!==-1?String(g[h].rangeStart):null,isNearGapThreshold:String(j),numericalError:String(k)})};e.setEnableLiveheadCatchup=function(a){this.$OzPlayheadManager16=a};e.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};e.$OzPlayheadManager27=function(a,b,c,d){if(this.$OzPlayheadManager6.getBool("skip_playhead_adjustment_before_initial_playback_position")&&(this.$OzPlayheadManager13!==0&&b!=="initial_playback_position"&&!this.$OzPlayheadManager14))return;var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon");if(f>0&&(this.$OzPlayheadManager6.getBool("playhead_manager_buffer_gaps_skip_reverse")?Math.abs(e):e)<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(a*1e3)).setReason(b).setInitiator(c).setType(d).setUserInfo({seekAdjustment:String(Math.round(e*1e3))}).log();this.$OzPlayheadManager12(a);b==="initial_playback_position"&&(this.$OzPlayheadManager14=!0)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$3=null;this.$6=function(){var a=b.$4.getNumber("playhead_nudge_slack");if(a===0)return;var c=b.$3;c!=null&&!b.$1.paused&&b.$1.readyState===4&&(b.$1.currentTime===c&&(b.$1.currentTime+=a,b.$4.getBool("log_extra_events")&&b.$5.getOperationLogger("playhead_adjustment").setInitiator("nudger").setLength(a).log()),b.$3=null)};this.$7=function(){b.$3=b.$1.currentTime};this.$8=function(){b.$3=null};var d=a.video,e=a.config;a=a.perfLoggerProvider;this.$1=d;this.$4=e;this.$5=a;this.$2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"timeupdate",this.$6),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$7),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$8))}var b=a.prototype;b.destroy=function(){this.$2.release()};return a}();g["default"]=a}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(){function a(a,b,e){var f=this;e===void 0&&(e=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$8=function(){f.$6.getOperationLogger("pause").setState("paused").log()};this.$9=function(){f.$7(),f.$6.getOperationLogger("playing").setState("playing").log()};this.$7=function(){f.$3=f.$2.currentTime,f.$4=Date.now()};this.$1=a.getBool("always_use_current_time_in_playback_state");this.$2=b;this.$6=e;this.$3=this.$2.currentTime;this.$4=Date.now();this.$5.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"seeked",this.$7),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"seeking",this.$7),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"timeupdate",c("oz-player/shims/ozThrottle")(this.$7,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"pause",this.$8),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"playing",this.$9))}var b=a.prototype;b.isPlaying=function(){return!this.$2.paused};b.getCurrentTime=function(){return this.$1?this.$2.currentTime:this.$3};b.getCurrentTimeUpdateTime=function(){return this.$4};b.forceUpdateCurrentTime=function(){this.$7()};b.getDuration=function(){return this.$2.duration};b.addEventListener=function(a,b){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,a,b)};b.destroy=function(){this.$5.release()};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b.filter(function(a){a=a.position;if(a==null)return!1;var b=a.y-window.scrollY;return b>=0||(a.height+b)/a.height>c}).sort(function(a,b){return a.position==null||b.position==null?0:a.position.y-b.position.y});return b.findIndex(function(b){return b.video===a})}f.determinePositionIndexOfVideoFromViewportVertically=a}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=.5;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPositionToViewportTracker1=[];c.$OzPositionToViewportTracker5=function(a){a.forEach(function(a){var b=c.$OzPositionToViewportTracker1.find(function(b){return a.target===b.video});b!=null&&(a.isIntersecting?b.position=c.$OzPositionToViewportTracker7(a):c.$OzPositionToViewportTracker1.map(function(b){a.target===b.video&&(b.position=null)}));c.$OzPositionToViewportTracker1.forEach(function(a){a.positionIndexToViewportVertically=c.$OzPositionToViewportTracker6(a.video)})}),c.emit("state_changed")};c.$OzPositionToViewportTracker2=b;return c}var c=b.prototype;c.$OzPositionToViewportTracker4=function(){if(this.$OzPositionToViewportTracker3!=null)return;this.$OzPositionToViewportTracker3=new IntersectionObserver(this.$OzPositionToViewportTracker5,{rootMargin:this.$OzPositionToViewportTracker2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0})};c.registerVideo=function(a){this.$OzPositionToViewportTracker1.push({video:a,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker4(),this.$OzPositionToViewportTracker3!=null&&this.$OzPositionToViewportTracker3.observe(a)};c.getPositionIndexOfVideoFromViewportVertically=function(a){var b=this.$OzPositionToViewportTracker1.find(function(b){return b.video===a});return b!=null?b.positionIndexToViewportVertically:-1};c.$OzPositionToViewportTracker6=function(a){return d("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(a,this.$OzPositionToViewportTracker1,i)};c.$OzPositionToViewportTracker7=function(a){a=a.boundingClientRect;return{x:a.x+window.scrollX,y:a.y+window.scrollY,width:a.width,height:a.height}};b.getInstance=function(a){h==null&&(h=new b(a));return h};c.unregisterVideo=function(a){var b=this,c=[];this.$OzPositionToViewportTracker1.forEach(function(d){d.video===a&&b.$OzPositionToViewportTracker3!=null?b.$OzPositionToViewportTracker3.unobserve(a):c.push(d)});this.$OzPositionToViewportTracker1=c;this.$OzPositionToViewportTracker1.length===0&&this.$OzPositionToViewportTracker3!=null&&(this.$OzPositionToViewportTracker3.disconnect(),this.$OzPositionToViewportTracker3=null)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewport1=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewport3=b;e.$OzPositionToViewport2=c("oz-player/states/OzPositionToViewportTracker").getInstance(d);e.$OzPositionToViewport2.registerVideo(b);e.$OzPositionToViewport1.addSubscriptions(e.$OzPositionToViewport2.addListener("state_changed",function(){e.emit("state_changed")}));return e}var d=b.prototype;d.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport3!=null?this.$OzPositionToViewport2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport3):-1};d.destroy=function(){this.$OzPositionToViewport3!=null&&this.$OzPositionToViewport2.unregisterVideo(this.$OzPositionToViewport3),this.$OzPositionToViewport3=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=.8;function a(a,b,c,d,e,f,i,j){c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}f.getPlaybackConfidence=a;f.getEstimatedDownloadTimeBufferDeltaMs=h}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=b,this.$6=this.$14(b,c),this.$7=d,this.$8=e,this.$11=f,this.$12=g,this.$13=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$9=a};b.$14=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};b.$15=function(a){a=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(this.$1,a,this.$12(),this.$11);a=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$1,this.$7,this.$12(),a);return a};b.getBestRepresentation=function(a){a=(a=a==null?void 0:a.length)!=null?a:null;var b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$9,this.$8),e=d("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,b,c("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(e!==null&&e!==void 0){this.$10=e;return this.$5}e=Date.now();this.$2=e;var f=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),g=this.$15(this.$6),h=null;this.$1.getBool("abr_use_download_time")&&a!=null?h=this.$16(g,f,a)||this.$17(g,f,b,a):h=this.$17(g,f,b,a);f=g[0];h=h||f;if(this.$18(b,h)){this.$10="high_buffer";return this.$5}this.$5!==h&&(this.$4=!0,this.$3=e,this.$5=h);this.$10="bandwidth";return h};b.$17=function(a,b,e,f){f===void 0&&(f=null);var g=null;for(var h=0;h<a.length;h++){var i=d("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[h],b,e,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),f,c("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig()),this.$1.getNumber("download_time_buffer_delta_penalty_factor"));i>this.$1.getNumber("abr_confidence_threshold")&&(!g||g.getBandwidth()<a[h].getBandwidth())&&(g=a[h])}return g};b.$16=function(a,b,e){for(var f=a.length-1;f>=0;f--){var g=d("oz-player/strategies/OzPlaybackConfidenceUtils").getEstimatedDownloadTimeBufferDeltaMs(a[f],b,e,c("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig())||0);if(g!=null&&g+this.$1.getNumber("minimum_download_additional_buffer_ms")<0)return a[f]}return null};b.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};b.getLastEvaluationReason=function(){return this.$10};b.updateRepresentations=function(a){var b=this;this.$6=a;a=this.$6.find(function(a){return a.getQualityLabel()===b.$5.getQualityLabel()});this.$5=(a=a)!=null?a:this.$6[0]};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzAudioIBRManager",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getInitialAudioRepresentation=function(a){var b=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var d=this.$1.getNumber("live_audio_ibr_bandwidth_percentage");d=b*d;for(var e=a.length-1;e>=0;e--)if(a[e].getBandwidth()<=d){this.$2.getOperationLogger("audio_ibr_success").setRepresentationID(a[e].getID()).setReason(b.toString()).log();return a[e]}this.$2.getOperationLogger("audio_ibr_no_op").setReason(b.toString()).log();return null};return a}();g["default"]=a}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}f["default"]=a}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var b=a.prototype;b.isActive=function(a){return!0};b.getSegmentsCount=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=c("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,b,d):this.$3.getSegmentsCount(a,b,d);a=this.$5(b,e);return Math.min(h,a)};b.$4=function(a,b,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};b.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBlockedRepresentationsManager",["oz-player/shims/OzEventEmitter","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new Map(),this.$3=new Set(),this.$4=new Set(),this.$5=new(c("oz-player/shims/OzEventEmitter"))(),this.$6(a),this.$7(a)}var b=a.prototype;b.isBlocked=function(a){return this.$3.has(a)};b.handleError=function(a,b){if(this.$1!=null&&this.$3.size===this.$1-1)return!1;if(b instanceof c("oz-player/utils/OzError")&&b.getType()==="OZ_NETWORK"){b=Number(b.getExtra().code);if(!isNaN(b)&&this.$2.has(b)){this.$3.has(a)||this.$8(a,b);return!0}}return!1};b.$8=function(a,b){var d,e=this;this.$3.add(a);(d=this.$5)==null?void 0:d.emit("representation_blocked",a);d=this.$2.get(b)||0;if(d>0){var f=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){e.$3["delete"](a),e.$4["delete"](f)},d);this.$4.add(f)}};b.applyRestriction=function(a,b){var c=this;return a.filter(function(a){return!c.$3.has(a.getID())})};b.onRepresentationBlocked=function(a){return this.$5?this.$5.addListener("representation_blocked",a):{remove:function(){}}};b.setAvailableRepresentationsCount=function(a){this.$1=a};b.destroy=function(){var a;(a=this.$5)==null?void 0:a.removeAllListeners();this.$5=null;for(var a=this.$4,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;c("oz-player/shims/ozClearTimeout")(e)}this.$4.clear()};b.$6=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_json"));Array.isArray(a)&&a.forEach(function(a){a=parseInt(a,10);isNaN(a)||b.$2.set(a,-1)})}catch(a){}};b.$7=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_temporarily_json"));Object.entries(a).forEach(function(a){var c=a[0];a=a[1];c=parseInt(c,10);a=parseInt(a,10);!isNaN(c)&&!isNaN(a)&&b.$2.set(c,a)})}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzBufferAheadPriorityStrategy3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzBufferAheadPriorityStrategy5=function(){e.emit("state_changed")};e.$OzBufferAheadPriorityStrategy4=b;e.$OzBufferAheadPriorityStrategy1=d;e.$OzBufferAheadPriorityStrategy3.addSubscriptions(e.$OzBufferAheadPriorityStrategy1.addEventListener("progress",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy5,i)),e.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy5,i)));return e}var e=b.prototype;e.getName=function(){return"buffer_ahead"};e.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy4.getBool("fix_buffer_ahead_priority_strategy")&&(this.$OzBufferAheadPriorityStrategy2=a);this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",c("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy5,i)))};e.isActive=function(){return!0};e.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(b,a);return b>=h?0:1};e.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferEndLimitStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){var a=this.$3();return this.$2>=a?this.$2-a:0};b.$3=function(){return this.$1.buffered.length===0?0:this.$1.buffered.end(0)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=0,this.$2=a,this.$3=b}var b=a.prototype;b.computeBufferTarget=function(){var a=this.$1;for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.isActive()){a=e.getBufferTarget();break}}for(var e=this.$3,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;b=e[c++]}else{c=e.next();if(c.done)break;b=c.value}b=b;a=b.adjustBufferTargetInSeconds(a)}this.$1=a;return a};b.handleEvent=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.handleEvent(a)}};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.config;a=a.minimumBufferTargetSec;this.$2=1;this.$1=b;this.$3=a}var b=a.prototype;b.adjustBufferTargetInSeconds=function(a){a=a;if(this.$1.getBool("append_retry_quota_exceeded_error")){var b;a=Math.max((b=this.$3)!=null?b:this.$1.getNumber("buffer_target_constraint_minimum_sec"),a*this.$2)}return a};b.handleEvent=function(a){var b=this.$2;switch(a){case"append_succeeded":b=Math.max(0,Math.min(1,b+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":b=Math.max(0,Math.min(1,b-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:a}this.$2=b};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isEnabled=function(a,b){return(!this.$1.getBool("live_catch_up_only_when_paused")||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};b.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$1.getNumber("live_catch_up_fall_behind_threshold")?b-this.$1.getNumber("live_catch_up_live_head_delta"):null};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPlayheadAtInterruptionDetector2=null;e.$OzPlayheadAtInterruptionDetector3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadAtInterruptionDetector4=null;e.$OzPlayheadAtInterruptionDetector1=b;b=d?d.addListener("enterBuffering",function(){e.$OzPlayheadAtInterruptionDetector5()}):c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadAtInterruptionDetector1,"waiting",function(){e.$OzPlayheadAtInterruptionDetector5()});e.$OzPlayheadAtInterruptionDetector3.addSubscriptions(b);e.$OzPlayheadAtInterruptionDetector4=d;return e}var d=b.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector5()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};d.$OzPlayheadAtInterruptionDetector5=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release(),this.$OzPlayheadAtInterruptionDetector4=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy1=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy2=b;d.$OzPlayingStatePriorityStrategy1.addSubscriptions(d.$OzPlayingStatePriorityStrategy2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("play",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy3));return d}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewportPriorityStrategy3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewportPriorityStrategy4=function(){e.emit("state_changed")};e.$OzPositionToViewportPriorityStrategy2=b;e.$OzPositionToViewportPriorityStrategy1=d;e.$OzPositionToViewportPriorityStrategy3.addSubscriptions(b.addListener("state_changed",e.$OzPositionToViewportPriorityStrategy4));return e}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"position_to_viewport"};d.setSourceBufferState=function(a){};d.getPriority=function(){var a=this.$OzPositionToViewportPriorityStrategy1.getNumber("prioritize_by_viewport_static_penalty"),b=this.$OzPositionToViewportPriorityStrategy2.getPositionIndexOfVideoFromViewportVertically();return a>0?b===-1?a*-1:0:b===-1?-Infinity:-1*b};d.destroy=function(){this.$OzPositionToViewportPriorityStrategy3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPriorityCalculator2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator1=b;(b=d.$OzPriorityCalculator2).addSubscriptions.apply(b,d.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=b.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){var a=this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0);return Math.max(a,0)};d.destroy=function(){this.$OzPriorityCalculator2.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.$2=a}var b=a.prototype;b.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0};b.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a,b){return a.filter(function(a){a=MediaSource.isTypeSupported(a.getMimeCodecs());return!!a})};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzEndOfStreamWatcher1=new Map();d.$OzEndOfStreamWatcher2=b;d.$OzEndOfStreamWatcher3=c;return d}var d=b.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&c("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher4(function(a){return a.setInitiator("end_of_stream_watcher").setReason("representation_switched")})};d.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher4(function(a){return a.setInitiator("end_of_stream_watcher").setReason("media_stream_ended")})};d.$OzEndOfStreamWatcher4=function(a){var b=this,c=this.$OzEndOfStreamWatcher2.getMediaSource();(this.$OzEndOfStreamWatcher3.getBool("allow_queueing_end_of_stream_when_update")||c.readyState==="open")&&this.$OzEndOfStreamWatcher5()&&(this.$OzEndOfStreamWatcher3.getBool("delay_stream_end_for_sourceended")?this.$OzEndOfStreamWatcher2.notifyEndOfStream(a).then(function(){b.emit("streamEnd")})["catch"](function(){b.emit("streamEnd")}):(this.$OzEndOfStreamWatcher2.notifyEndOfStream(a),this.emit("streamEnd")))};d.$OzEndOfStreamWatcher5=function(){if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};d.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){var g=this;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=null;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$3=b;this.$4=d;this.$7=e;f.then(function(a){g.$5=a});this.$6.addSubscriptions(e.addListener("switchRepresentation",function(a,b){g.$8(a,b)}))}var b=a.prototype;b.cleanup=function(){this.$6.release(),this.$6.engage()};b.onError=function(a){return this.$2.onError(a)};b.$8=function(a,b){var d=this;if(a!=="user")return;a=this.$5;if(a==null)return;var e=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),f;for(var g=0;g<this.$4.length;g++)this.$4[g].getID()===e&&(f=this.$4[g]);if(f&&b&&(this.$1.getBool("enable_immediate_down_switch")||f.getBandwidth()<b.getBandwidth())){e=f.getSegmentByTime(this.$3.getCurrentTime());e&&(this.$1.getBool("async_clear_on_quality_upgrade")?a.clearRangeWithWait(this.$3.getCurrentTime(),this.$3.getDuration())["catch"](function(a){d.$2.emitError(a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"failed to clear range: "+a.name+"; "+a.message+"; "+a.description+";",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))}):a.clearRange(this.$3.getCurrentTime(),this.$3.getDuration()))}};return a}();g["default"]=a}),98);
__d("oz-player/manifests/IOzSegment",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return((a==null?void 0:a.getSequenceNumber())||0)===((b==null?void 0:b.getSequenceNumber())||0)}function b(a,b){return((a==null?void 0:a.getSequenceNumber())||0)>=((b==null?void 0:b.getSequenceNumber())||0)}f.isSequenceNumberEqual=a;f.isSequenceNumberGreaterOrEqual=b}),66);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=[];c.$OzReadableStreamDataReader2=b;return c}var d=b.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader1.push(a)};d.onClose=function(){var a=this.$OzReadableStreamDataReader1,b=c("oz-player/utils/ozConcatUint8Arrays")(a);b=b.buffer;a.length=0;this.$OzReadableStreamDataReader2(b)};return b}(c("oz-player/networks/OzTransformStream"));g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$6=c("oz-player/shims/OzPerformance").now(),this.$7=b,this.$8=a,this.$9=d}var e=a.prototype;e.run=function(){var a=this.$3.getPromise(),b=this.$7;if(b){var e=c("oz-player/shims/OzPerformance").now()-this.$6;d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,b,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(e))})["catch"](function(){})}this.$2.resolve();return a};e.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(new(c("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};e.finish=function(){this.$3.resolve()};e.isCancelled=function(){return this.$5};e.addStream=function(a,d,e){var f=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStreamPromise:b("Promise").resolve({pausableStream:a,loggingPayloads:e}),changeStatusDeferred:f,createStreamDeferred:new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),loggerProviderWithStreamContext:d,loggingPayloads:e});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return f.getPromise()}}};e.addStreamDeferred=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStreamPromise:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:b});b=function(){return e.getPromise()};return{genStream:b,cancel:function(){a&&a.then(function(a){a=a.pausableStream;return a.pauseStream()})},getStatusChangePromise:function(){return d.getPromise()}}};e.$10=function(a){var b=this,e=a.pausableStreamPromise,f=a.changeStatusDeferred,g=a.createStreamDeferred,h=a.loggerProviderWithStreamContext,i=a.loggingPayloads;a=this.$1.getPromise();var j=c("oz-player/shims/OzPerformance").now(),k=this.$1=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return e}).then(function(a){if(a){var e=a.pausableStream;a.loggingPayloads&&(i=a.loggingPayloads);g.resolve(e.getStream());b.$4=e;var f=c("oz-player/shims/OzPerformance").now();a=b.$11(e.startStream());h&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,h,"fetch_stream",function(){},function(a){if(i){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,i.getRequestUrl(),i.isPrefetch(),i.segments,f-j,e.getBytesStreamed(),i.getResponse());var c=b.$9;c&&c(a,i.getRequestUrl(),i.getResponse())}});return a}return null}).then(function(a){b.$4=null,k.resolve(),f.resolve(a||"cancelled")})["catch"](function(a){b.$4=null,b.$3.reject(a),b.$8.getBool("streaming_task_reject_current_stream_deferred")&&k.reject(a),f.reject(a)})};e.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$10=null;var e=a.mimeType,f=a.priorityCalculator,g=a.loggerProvider,h=a.setCustomFetchStreamLoggingAttributes;a=a.config;this.$5=e;this.$1=f;this.$6=d("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=g;this.$8=a;this.$10=h;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,c){b.$11(a,c),b.$2&&b.$6.updatePriority(b.$2,b.$4)}))}var e=a.prototype;e.startStream=function(a){var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$12(a),e=this.$13();c=c.createPausableStream(b,e,a);b=c.pausableStream;e=c.loggingPayloads;this.$9=!0;c=d.addStream(b,a,e);d={getStream:c.getStream,cancel:c.cancel,getStatusChangePromise:this.$14(c.getStatusChangePromise)};return d};e.$13=function(){var a=[];a.push(c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};e.startStreamDeferred=function(a){var b=a.segmentsPromise,d=a.networkManager,e=a.segmentsLoggerProvider;a=this.$12(e);var f=this.$13(),g=new(c("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b.then(function(b){b.length>0?a(d.createPausableStream(b,f,e)):a(null)})["catch"](function(a){return c(a)})});this.$9=!0;a=a.addStreamDeferred(g,e);g={genStream:a.genStream,cancel:a.cancel,getStatusChangePromise:this.$14(a.getStatusChangePromise)};return g};e.$12=function(a){var b=this.$2;this.$11(this.$1.compute(),"start_stream");!b||b.isCancelled()?(b=this.$2=new(c("oz-player/networks/OzStreamingTask"))(this.$8,a,this.$10),this.$6.enqueue(b,this.$4)["catch"](function(){})):this.$6.updatePriority(b,this.$4);return b};e.$14=function(a){var c=this;return function(){return a().then(function(a){c.$15();return a})["catch"](function(a){c.$15();return b("Promise").reject(a)})}};e.finishTaskIfNoOngoingStream=function(){this.$9||this.$16()};e.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};e.$15=function(){this.$9=!1,this.$11(this.$1.compute(),"end_stream"),this.$4<d("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$16()};e.$16=function(){this.$2&&(this.$2.finish(),this.$2=null)};e.$11=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b=b;e=e;var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}f.getStreamingSegments=a}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=!1;this.$6=function(){var a;d.$7();if(d.$3)return;(a=d.$5)==null?void 0:a.start();a=d.$1.execute();var b=d.$1.getLoopInterval();b&&(d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$6()},b));a&&a.then(d.$6)["catch"](function(b){d.$7();var a=d.$1.handleError(b);if(a)d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(d.$6,a);else{(a=d.$5)==null?void 0:a.setError(b);(a=d.$5)==null?void 0:a.log();d.$5=null;d.$3=!0}})};this.$1=a;this.$4=b}var b=a.prototype;b.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$5=this.$4.getOperationLogger("media_stream").start();this.$6()};b.stop=function(){var a;this.$7();this.$3=!0;(a=this.$5)==null?void 0:a.log();this.$5=null};b.$7=function(){this.$2&&(c("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}f.getRangeForTime=a}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber():0}var h=function(a,b){a=a.getCurrentTime();a=b?d("oz-player/utils/OzRangeUtils").getRangeForTime(a,b.getBufferedRanges()):null;return a},i=function(a,b,c){b=h(a,b);c=c?c.getTimeRange().endTime:0;a=a.getCurrentTime()||0;c?a=c:b&&(a=b.endTime);return a};b=function(a,b,c,e,f,g,j,k){var l=a.getPredictedSegmentAfter(g);if(l&&b.isPlaying())return l;l=h(b,e);if(j.getBool("use_stream_end_time_in_segment_locator")&&l&&l.endTime===k)return null;l=i(b,e,g);k=f.getTimeRanges();e=d("oz-player/utils/OzNumericalRangeUtil").findDiffCoveredByRanges(b.getCurrentTime(),l,k.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(e>c)return null;g=a.getSegment(0);(j.getNumber("auto_seek_playhead_slack")===0||j.getBool("fix_initial_segment_non_zero_start_time"))&&g&&g.getTimeRange().startTime>l&&(l=g.getTimeRange().startTime);return a.getSegmentByTime(l)};g.getEndingSequenceNumber=a;g.getTimeToQuery=i;g.getSegment=b}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/streams/OzSegmentLocator","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=0;for(var d in a){var e;if(d===b)continue;c=Math.max(c,(e=a[d].lastSkippedToSegmentNumber)!=null?e:0)}return c}function i(a){return a.reduce(function(a,b){var c;return((c=b==null?void 0:b.getSequenceNumber())!=null?c:0)>((c=a==null?void 0:a.getSequenceNumber())!=null?c:0)?b:a})}function j(a,b){var d=new(c("oz-player/manifests/OzSegmentOptions"))();return a.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return b-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(c("oz-player/shims/OzURI"))("")},getOptions:function(){return d}})}a=function(){function a(a){this.$5={};var b=a.videoNode,c=a.liveLatencyManager,d=a.loggerProvider;a=a.dynamicVideoLibrary;this.$1=b;this.$2=c;this.$3=d;this.$4=a}var b=a.prototype;b.getSegment=function(a,b,c,d,e,f,g,h,i){var j;this.$5[i]==null&&(this.$5[i]={lastSkippedToSegmentNumber:null});(j=this.$2)==null?void 0:j.setEnableCatchup(h);j=this.$6(a,b,c,d,e,f,g,h,i);g.getBool("log_extra_events")&&j.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(j.initiator).setReason(j.reason).setType(i).setUserInfo(j.userInfo).log();a=this.$4;if(j.segment&&a!=null){b=j.segment.getOptions();b.setIsDVLEnabled(a.shouldRequestDynamicInfo(i))}return j.segment};b.$6=function(a,b,c,e,f,g,k,l,m){var n,o=b.getCurrentTime(),p=k.getNumber("pdash_download_cursor_catchup_threshold_sec")>0;p=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup();var q=k.getBool("pdash_download_cursor_nocatchup_use_currentbuffer")&&!l;q=e!=null?k.getBool("pdash_download_cursor_use_totalbuffer")&&!q?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),k):d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e.getBufferedRanges(),b.getCurrentTime(),k):{bufferAheadSec:0,bufferedOffset:0};e=q.bufferAheadSec;b=q.bufferedOffset;q=null;var r=null,s=this.$2?this.$2.enabled():!0,t=a.getPredictedSegmentAfter(f),u=j(a,k.getNumber("pdash_download_cursor_between_catchups_seg")>0?h(this.$5):h(this.$5,m)),v=!0;if(p&&l&&((n=t)==null?void 0:n.getSequenceNumber())!=null&&((n=(n=t)==null?void 0:n.getSequenceNumber())!=null?n:0)<=((n=u==null?void 0:u.getSequenceNumber())!=null?n:0)){t=u;q="paired_catchup";if(k.getBool("log_extra_events")){this.$3.getOperationLogger("latency_manager").setInitiator(q).setUserInfo({bufferAheadSec:String(e),bufferedOffset:String(b)}).setLength(((n=u==null?void 0:u.getSequenceNumber())!=null?n:0)-((n=(n=t)==null?void 0:n.getSequenceNumber())!=null?n:0)).setType(m).log()}v=!1}else if(p&&l&&s&&t!=null&&((n=this.$2)==null?void 0:n.isBehindPreferredLiveHeadLatencyWithTolerance())){if(k.getBool("pdash_download_cursor_catchup_skip_totalbufer")&&this.$2&&e>this.$2.getPreferredLiveHeadLatencySec()&&b==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(e),bufferedOffset:String(b)}};p=a.getEndingSegment();l=i([p,t]);n=k.getNumber("pdash_download_cursor_between_catchups_seg")===0||((n=u==null?void 0:u.getSequenceNumber())!=null?n:0)+k.getNumber("pdash_download_cursor_between_catchups_seg")<((u=p==null?void 0:p.getSequenceNumber())!=null?u:0);if(n){if(((p=l==null?void 0:l.getSequenceNumber())!=null?p:0)>((n=(u=t)==null?void 0:u.getSequenceNumber())!=null?n:0)){this.$5[m].lastSkippedToSegmentNumber=(p=l==null?void 0:l.getSequenceNumber())!=null?p:0;if(k.getBool("log_extra_events")){this.$3.getOperationLogger("latency_manager").setInitiator("catchup").setUserInfo({bufferAheadSec:String(e),bufferedOffset:String(b)}).setLength(((u=l==null?void 0:l.getSequenceNumber())!=null?u:0)-((p=(n=t)==null?void 0:n.getSequenceNumber())!=null?p:0)).setType(m).log()}}t=l;q="catchup";v=!1}}else if(f==null){t=a.getSegmentByTime(o);q="1st_run";u=a.getTimeRanges();t===null&&this.$2!=null&&k.getBool("download_cursor_1st_run_2_fallback")&&(t=a.getSegmentByTime(this.$2.getInitialPlayHeadPosition()),q="1st_run_2");r={approx:String(a.canApproximateId()),ranges:String(u.length),mpdStartTime:u.length>0?String(u[u.length-1].startTime):null,mpdEndTime:u.length>0?String(u[u.length-1].endTime):null};if(k.getBool("download_cursor_1st_run_set_skipped_segment_on")){this.$5[m].lastSkippedToSegmentNumber=(p=(n=t)==null?void 0:n.getSequenceNumber())!=null?p:0}}v=v&&k.getBool("download_cursor_disable_buffer_ahead_rule_on")?s:v;if(v&&e>c)return{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(e),bufferedOffset:String(b),lastMaxSegNum:String(h(this.$5,m)),segment:t?String(t.getSequenceNumber()):null}};if(k.getBool("pdash_wait_on_mpd_refresh_when_error")){l=g&&g.getSequenceNumber()||0;f=t&&t.getSequenceNumber()||0;if(t&&g&&l>=f){o=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(a);return(o||0)>=l?{segment:g}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(l)}}}}return{segment:t,initiator:q?q:void 0,userInfo:r?r:void 0}};return a}();g.getSegmentForSequenceNumber=j;g.OzPredictedSegmentLocator=a}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){a=a;var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/manifests/IOzSegment","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzNetworkDiagnostics","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzPredictedSegmentLocator","oz-player/streams/OzSegmentLocator","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=.2,j={AUDIO:1,CAPTION:3,VIDEO:0};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$OzMediaStream2=0;e.$OzMediaStream3=0;e.$OzMediaStream4=null;e.$OzMediaStream13=null;e.$OzMediaStream15=!1;e.$OzMediaStream16=null;e.$OzMediaStream17=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzMediaStream19=[];e.$OzMediaStream23=0;e.$OzMediaStream30=!0;e.$OzMediaStream32=!1;e.$OzMediaStream33=null;e.$OzMediaStream34=new(c("oz-player/utils/OzErrorEmitter"))();e.$OzMediaStream36=!0;e.$OzMediaStream39=0;e.$OzMediaStream40=null;e.$OzMediaStream41=null;var f=b.config,g=b.sourceBufferManagerPromise,h=b.prependedSegmentsCount,i=b.networkManager,j=b.playbackState,k=b.endOfStreamWatcher,l=b.bufferTargetCalculator,m=b.priorityCalculator,n=b.streamSegmentsCountCalculator,o=b.abrManager,p=b.loadedRepresentationId,q=b.representation,r=b.loggerProvider,s=b.segmentLocator,t=b.setCustomFetchStreamLoggingAttributes;b=b.blockedRepresentationsManager;e.$OzMediaStream1=f;e.$OzMediaStream5=g;e.$OzMediaStream5.then(function(a){e.$OzMediaStream6=a,e.$OzMediaStream16&&e.$OzMediaStream16.setSourceBuffer(a),e.$OzMediaStream28.setSourceBufferState(a.getSourceBufferState()),e.$OzMediaStream42()});e.$OzMediaStream21=h;e.$OzMediaStream12=i;e.$OzMediaStream7=j;e.$OzMediaStream14=k;e.$OzMediaStream14.registerMediaStream(babelHelpers.assertThisInitialized(e));e.$OzMediaStream27=l;e.$OzMediaStream28=m;e.$OzMediaStream29=n;e.$OzMediaStream16=o;e.$OzMediaStream18=r.cloneContext();e.$OzMediaStream37=s;e.$OzMediaStream26=new(c("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});e.$OzMediaStream40=t;e.$OzMediaStream41=b;e.$OzMediaStream17.addSubscriptions(e.$OzMediaStream7.addEventListener("seeking",function(){var a=j.getCurrentTime();e.$OzMediaStream1.getBool("log_extra_events")&&e.$OzMediaStream18.cloneContext().getOperationLogger("media_element_event").setInitiator("seeking").setLength(a*1e3).log();e.$OzMediaStream1.getBool("fix_seek_performance")?e.restartLoopBody():e.$OzMediaStream1.getBool("ignore_reset_after_seek_if_bufferahead")&&e.$OzMediaStream8.canPredict()&&(e.$OzMediaStream1.getBool("ignore_reset_after_seek_if_bufferahead_liverewind")||e.$OzMediaStream36)&&(e.$OzMediaStream6?d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a,e.$OzMediaStream6.getSourceBufferState().getBufferedRanges())>0:!1)||e.$OzMediaStream9!=null&&(e.$OzMediaStream9=null,e.$OzMediaStream32=!1,e.$OzMediaStream25&&e.$OzMediaStream25.resolve())}));e.$OzMediaStream41!=null&&e.$OzMediaStream17.addSubscriptions(e.$OzMediaStream41.onRepresentationBlocked(function(a){return e.$OzMediaStream43(a)}));e.$OzMediaStream22=d("oz-player/utils/OzMimeUtil").getMimeType(q.getMimeCodecs());e.$OzMediaStream31=new(c("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:e.$OzMediaStream22,priorityCalculator:e.$OzMediaStream28,loggerProvider:e.$OzMediaStream18,setCustomFetchStreamLoggingAttributes:e.$OzMediaStream40,config:e.$OzMediaStream1});e.$OzMediaStream24=new(c("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(e),e.$OzMediaStream18);p===q.getID()?(e.$OzMediaStream8=q,e.$OzMediaStream21>0&&e.$OzMediaStream44(h,q)):e.$OzMediaStream45(q);return e}var e=b.prototype;e.start=function(){this.$OzMediaStream24.start()};e.getCurrentRepresentation=function(){return this.$OzMediaStream8};e.switchRepresentation=function(a){this.$OzMediaStream45(a,"user")};e.onError=function(a){return this.$OzMediaStream34.onError(a)};e.updateRunTimeConfigs=function(a){a=a.streamDataHandler;a!==void 0&&(this.$OzMediaStream35=a)};e.$OzMediaStream45=function(a,b){var d=this;b===void 0&&(b="internal");b==="user"&&(this.$OzMediaStream9=null);if(this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")){var e;(e=this.$OzMediaStream20)==null?void 0:e.remove();this.$OzMediaStream20=null}e=this.$OzMediaStream18.cloneContext().setType(this.$OzMediaStream22+";init");var f=e.cloneContext().setRepresentationID(a.getID()),g=a.getInitSegment(),h=g.getData();if(h==null){g=this.$OzMediaStream12.request([g],[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream22)],f,"ENABLE_CACHE");h=g.getStream()}var i=e.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream8?this.$OzMediaStream8.getID():null).setInitiator(b).setRepresentationID(a.getID()).setReason(b==="internal"?this.$OzMediaStream16&&this.$OzMediaStream16.getLastEvaluationReason():b).start();this.$OzMediaStream8=a;this.emit("switchRepresentation",b,a);this.$OzMediaStream46({data:h,dataAppendedCallback:function(){i.log(),d.$OzMediaStream1.getBool("append_retry_quota_exceeded_error")&&d.$OzMediaStream27.handleEvent("append_succeeded"),d.emit("initAppended"),d.$OzMediaStream14.notifyRepresentationSwitched(d)},dataAppendedErrorCallback:function(b){var c;i.setError(b).log();d.$OzMediaStream47(b);(c=d.$OzMediaStream41)==null?void 0:c.handleError(a.getID(),b);if(d.$OzMediaStream1.getBool("proceed_on_representation_change_in_init_append_fail")&&a.getID()!==d.$OzMediaStream8.getID()){(c=d.$OzMediaStream25)==null?void 0:c.resolve()}},loggerProvider:f.cloneContext(),appendTarget:0,timeRange:null})};e.getLoopInterval=function(){return this.$OzMediaStream23};e.execute=function(){var a=this.$OzMediaStream48();if(a){var b=this.$OzMediaStream25=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return b.resolve()})["catch"](function(a){return b.reject(a)});return b.getPromise()}return null};e.$OzMediaStream49=function(a){if(this.$OzMediaStream16&&this.$OzMediaStream30&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request")||this.$OzMediaStream15||this.$OzMediaStream21>0)){a=this.$OzMediaStream16.getBestRepresentation(a);if(this.$OzMediaStream8!==a)return a}return null};e.$OzMediaStream50=function(a){var b=this.$OzMediaStream6?this.$OzMediaStream6.getSourceBufferState():null,c=this.$OzMediaStream21>0?this.$OzMediaStream8.getSegment(this.$OzMediaStream21-1):null,e=this.$OzMediaStream27.computeBufferTarget();if(this.$OzMediaStream1.getBool("null_segment_for_no_buffer_target")&&e<=0)return null;var f=null;a&&(f=this.$OzMediaStream8.getCustomFieldFirstSegment());if(!f&&this.$OzMediaStream8.canPredict()&&this.$OzMediaStream37!=null){a=this.$OzMediaStream36&&this.$OzMediaStream7.isPlaying();return this.$OzMediaStream37.getSegment(this.$OzMediaStream8,this.$OzMediaStream7,e,b,this.$OzMediaStream9||c,this.$OzMediaStream10,this.$OzMediaStream1,a,this.$OzMediaStream22)}else{f||(f=d("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream8,this.$OzMediaStream7,e,b,this.$OzMediaStream8,this.$OzMediaStream9||c,this.$OzMediaStream1,this.$OzMediaStream33));if(this.$OzMediaStream8.canPredict()){a=this.$OzMediaStream10&&this.$OzMediaStream10.getSequenceNumber()||0;e=f&&f.getSequenceNumber()||0;if(f&&this.$OzMediaStream10&&a>=e){e=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream8);return(e||0)>=a?this.$OzMediaStream10:null}}}if(!f&&!this.$OzMediaStream51()){e=this.$OzMediaStream8.getEndingSegment();if(e&&this.$OzMediaStream8.isEndingSegment(e)){a=e.getTimeRange().endTime;b=d("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream7,b,this.$OzMediaStream9||c);b>=a&&!this.$OzMediaStream51()&&(f=e)}}return f};e.$OzMediaStream52=function(){return!this.$OzMediaStream15&&this.$OzMediaStream21===0};e.$OzMediaStream53=function(a,b){var e;e=(e=b.fetchSingleSegment)!=null?e:!1;b=(b=b.preventRepresentationSwitch)!=null?b:!1;var f=[];if(e)f=[a];else{e=this.$OzMediaStream29.computeMin(this.$OzMediaStream7,a,this.$OzMediaStream8);f=d("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream1,e,this.$OzMediaStream8,this.$OzMediaStream7,a);f=c("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(f);if(!b){e=this.$OzMediaStream49(f);if(e){this.$OzMediaStream45(e);a=this.$OzMediaStream50(!1);if(!a)return[];else return this.$OzMediaStream53(a,{fetchSingleSegment:!1,preventRepresentationSwitch:this.$OzMediaStream1.getBool("prevent_multiple_successive_representation_switch")})}}}return f};e.$OzMediaStream54=function(){var a=this;if(this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")){var b=function(b){b==null?void 0:b.remove(),a.$OzMediaStream20===b&&(a.$OzMediaStream20=null)};b(this.$OzMediaStream20);var d=null;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,e){a.getCurrentRepresentation().forceParseIfNotParsed(),d=a.getCurrentRepresentation().addUpdateListener(function(){b(d),c()}),a.$OzMediaStream20=d})["catch"](function(a){b(d);throw a})}else return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,d){a.getCurrentRepresentation().forceParseIfNotParsed();var b=a.getCurrentRepresentation().addUpdateListener(function(){c(),a.$OzMediaStream20=null,b.remove()});a.$OzMediaStream20=b})};e.$OzMediaStream44=function(a,b){var c=this,d=b.addUpdateListener(function(){var e=b.getSegment(a-1);e!=null&&c.$OzMediaStream26.add(0,e.getTimeRange().endTime,{id:b.getID()});d.remove()})};e.$OzMediaStream55=function(a,b){var d=this;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,c){c=d.$OzMediaStream50(a);c==null?b([]):b(d.$OzMediaStream53(c,{fetchSingleSegment:a}))})};e.$OzMediaStream48=function(){var a=this,b=this.$OzMediaStream6?this.$OzMediaStream6.getSourceBufferState():null;if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream10&&this.$OzMediaStream8.isEndingSegment(this.$OzMediaStream10)){this.endStream();this.$OzMediaStream18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream8.getID()).log();return}if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream9&&this.$OzMediaStream8.isEndingSegment(this.$OzMediaStream9)){this.endStream();this.$OzMediaStream18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream8.getID()).log();return}var e=this.$OzMediaStream52(),f=this.$OzMediaStream50(e);if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream11!=null&&d("oz-player/manifests/IOzSegment").isSequenceNumberGreaterOrEqual(f,this.$OzMediaStream11)){this.$OzMediaStream1.getBool("log_extra_events")&&this.$OzMediaStream18.cloneContext().getOperationLogger("media_loop_end").setInitiator("segment_end").setRepresentationID(this.$OzMediaStream8.getID()).log();return}d("oz-player/manifests/IOzSegment").isSequenceNumberEqual(f,this.$OzMediaStream38)?this.$OzMediaStream39++:this.$OzMediaStream39=0;this.$OzMediaStream38=f;this.$OzMediaStream7.isPlaying()&&this.$OzMediaStream39>0&&this.$OzMediaStream1.getBool("log_extra_events")&&this.$OzMediaStream18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((f==null?void 0:f.getSequenceNumber())!=null?String(f==null?void 0:f.getSequenceNumber()):null).setLength(this.$OzMediaStream39).setRepresentationID(this.$OzMediaStream8.getID()).setSegmentStartTime(f==null?void 0:f.getTimeRange().startTime).setSegmentEndTime(f==null?void 0:f.getTimeRange().endTime).log();if(this.$OzMediaStream32){var g;this.$OzMediaStream23=h;this.$OzMediaStream18.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((g=this.$OzMediaStream9)==null?void 0:g.getSequenceNumber())!=null?String((g=this.$OzMediaStream9)==null?void 0:g.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream8.getID()).log();return null}this.$OzMediaStream21>0&&!this.$OzMediaStream51()&&this.endStreamIfBufferedToEndTime();if(!f||this.$OzMediaStream32){if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream1.getBool("ms_promise_for_null")){var i=this.$OzMediaStream1.getNumber("ms_promise_for_null_ms");return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,d){var e=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){c("oz-player/shims/ozClearTimeout")(e),b()},i?i:(a.$OzMediaStream8.getMaxGopSec()||1)*1e3)})}this.$OzMediaStream23=h;this.$OzMediaStream32||this.$OzMediaStream31.finishTaskIfNoOngoingStream();return this.$OzMediaStream54()}this.$OzMediaStream23=0;var j=this.$OzMediaStream53(f,{fetchSingleSegment:e});if(j.length===0){this.$OzMediaStream18.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((g=this.$OzMediaStream9)==null?void 0:g.getSequenceNumber())!=null?String((f=this.$OzMediaStream9)==null?void 0:f.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream8.getID()).log();return this.$OzMediaStream54()}this.$OzMediaStream15=!0;var k=j[j.length-1]||null,l=this.$OzMediaStream8,m=function(){return l.isEndingSegment(k)};j.length!==0||c("oz-player/shims/ozvariant")(0,23148);g=j[0];f=g.getTimeRange().startTime;var n=k.getTimeRange().endTime,o=this.$OzMediaStream18.cloneContext();o.setRepresentationID(this.$OzMediaStream8.getID());this.$OzMediaStream1.getBool("log_appended_segment_info")||o.setSegmentStartTime(f).setSegmentEndTime(n);var p,q,r=this.$OzMediaStream1.getBool("disable_audio_scheduler")&&this.$OzMediaStream22.indexOf("audio")!==-1;this.$OzMediaStream1.getBool("use_scheduler")&&!r&&!e?q=this.$OzMediaStream31.startStreamDeferred({segmentsPromise:this.$OzMediaStream55(e,j),networkManager:this.$OzMediaStream12,sourceBufferState:b,playbackState:this.$OzMediaStream7,segmentsLoggerProvider:o.cloneContext()}):p=this.$OzMediaStream12.request(j,[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream22)],o.cloneContext());this.$OzMediaStream13=p;this.$OzMediaStream32=!0;var s=this.$OzMediaStream56(g,k,j.length),t={startTime:f,endTime:n,tag:{id:this.$OzMediaStream8.getID()}},u=o.getOperationLogger("queued_append");u.start().setReason(this.$OzMediaStream16&&this.$OzMediaStream16.getLastEvaluationReason());var v=function(b){a.$OzMediaStream46({data:b,dataAppendedCallback:function(c,b){u.setAppendedBufferMs(Math.round(c.appendedSec*1e3)),a.$OzMediaStream1.getBool("log_appended_segment_info")&&u.setSegmentEndTime(c.endTime_UNSAFE*1e3).setSegmentStartTime(c.startTime_UNSAFE*1e3),u.log(),a.$OzMediaStream1.getBool("append_retry_quota_exceeded_error")&&a.$OzMediaStream27.handleEvent("append_succeeded"),j.forEach(function(c){a.emit("SegmentAppended",a.$OzMediaStream57(c,b))}),m()&&a.endStream(),a.$OzMediaStream21=0},dataAppendedErrorCallback:function(b){u.setError(b).log();var c=q||p;c&&c.cancel();a.$OzMediaStream47(b)},loggerProvider:o.cloneContext(),appendTarget:s,timeRange:t})},w;!!q||!!p||c("oz-player/shims/ozvariant")(0,23147);q?(q.genStream().then(function(a){return v(a)})["catch"](function(b){return a.$OzMediaStream34.emitError(b)}),w=q.getStatusChangePromise()):p&&(v(p.getStream()),w=p.getStatusChangePromise());!w&&c("oz-player/shims/ozvariant")(0,51928);r=w.then(function(b){a.$OzMediaStream58(b,k);return a.$OzMediaStream59()}).then(function(){a.$OzMediaStream2=0});return r["catch"](function(b){var c=a.$OzMediaStream9;return a.$OzMediaStream60(k).then(function(){var d;(d=a.$OzMediaStream41)==null?void 0:d.handleError(l.getID(),b);return a.$OzMediaStream61(b,k,c)})})};e.handleError=function(a){var b=this.$OzMediaStream18.getOperationLogger("media_stream_loop_error");b.setError(a).setResult("failed").log();return this.$OzMediaStream1.getNumber("loop_body_handle_error_interval_ms")};e.$OzMediaStream61=function(a,b,e){var f=this;this.$OzMediaStream32=!1;var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),h=this.$OzMediaStream62(a),i=h[0],j=h[1],k=function(b){f.$OzMediaStream2++;f.$OzMediaStream1.getBool("log_extra_events")&&f.$OzMediaStream18.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(b.behavior!=null?b.behavior:"default")).setLength(b.timeoutMs).setReason(""+i.getDescription()).setCode(j.length>0?Number.parseInt(j,10):null).setType(f.$OzMediaStream22).log();if(b.behavior==="retry_failed_request")f.$OzMediaStream9=e;else if(b.behavior==="recover_failed_request"&&a instanceof c("oz-player/utils/OzError")){var h;h=(h=a.getExtra())==null?void 0:h.headers;h=c("oz-player/shims/OzNetworkDiagnostics").getNextValidSegmentId(h);h!=null&&(f.$OzMediaStream9=d("oz-player/streams/OzPredictedSegmentLocator").getSegmentForSequenceNumber(f.$OzMediaStream8,h-1))}c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){f.emit("streamErrorRetry",i);return g.resolve()},b.timeoutMs)};this.$OzMediaStream4!==j?(this.$OzMediaStream4=j,this.$OzMediaStream3=1):this.$OzMediaStream3++;h=!0;var l=function(){h=!1},m={consecutiveFailuresForErrorCode:this.$OzMediaStream3,endStream:function(){l(),f.$OzMediaStream10=b,f.$OzMediaStream1.getBool("segment_end_410_response")&&(f.$OzMediaStream11=b),f.endStream(),g.resolve()},error:i,isInitialRequest:!1,retry:function(a){var b;l();k({timeoutMs:(b=a==null?void 0:a.waitMs)!=null?b:0,behavior:a==null?void 0:a.behavior})},retryAttemptCount:this.$OzMediaStream2};this.emit("streamError",m);h&&(this.$OzMediaStream34.emitError(i),this.$OzMediaStream2=0,g.resolve());return g.getPromise()};e.$OzMediaStream60=function(a){this.$OzMediaStream9=null;this.$OzMediaStream10=a;this.$OzMediaStream31.finishTaskIfNoOngoingStream();return this.$OzMediaStream6?this.$OzMediaStream6.cancelOperationAndCleanQueue(this.$OzMediaStream18):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.$OzMediaStream58=function(a,b){a==="done"&&(this.$OzMediaStream9=b)};e.$OzMediaStream59=function(){this.$OzMediaStream32=!1};e.$OzMediaStream62=function(a){var b,d;a instanceof c("oz-player/utils/OzError")?(b=a.getExtra().code||"",d=a):(b=a.status!=null&&a.status!==""?a.status.toString():"0",d=new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:b,url:a.url}}));return[d,b]};e.$OzMediaStream46=function(a){this.$OzMediaStream19.push(a),this.$OzMediaStream6&&this.$OzMediaStream42()};e.$OzMediaStream63=function(a){if(this.$OzMediaStream6!=null&&a!=null){var b=this.$OzMediaStream6.getSourceBufferState().getBufferedRanges();b=d("oz-player/utils/OzRangeUtils").getRangeForTime(a.startTime+i,b);b!=null&&this.$OzMediaStream26.add(a.startTime,b.endTime,a.tag)}};e.$OzMediaStream42=function(){var a=this;this.$OzMediaStream19.forEach(function(b){var d=b.data,e=b.dataAppendedCallback,f=b.dataAppendedErrorCallback,g=b.loggerProvider,h=b.appendTarget,i=b.timeRange;b=d instanceof Uint8Array||a.$OzMediaStream35==null?d:d.pipeThrough(new(c("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream35.bind(a,a.$OzMediaStream8)));d=null;var j=a.$OzMediaStream1.getNumber("tagged_time_range_per_append_throttle");j>0&&(d=c("oz-player/shims/ozThrottle")(function(){a.$OzMediaStream63(i)},j));a.$OzMediaStream6&&a.$OzMediaStream6.queueData(b,g,h,d).then(function(b){e(b,i),i&&a.$OzMediaStream8.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?a.$OzMediaStream26.add(b.startTime_UNSAFE,b.endTime_UNSAFE,i.tag):i&&a.$OzMediaStream26.add(i.startTime,i.endTime,i.tag)})["catch"](function(a){f(a)})});this.$OzMediaStream19=[]};e.$OzMediaStream64=function(){var a=this.$OzMediaStream6,b=this.$OzMediaStream7.getCurrentTime(),d=null;a&&(d=this.$OzMediaStream1.getBool("clear_buffer_on_quota_exceeded_error")?a.clearRangeWithWait(0,b):a.cancelOperationAndCleanQueue(this.$OzMediaStream18));return(b=d)!=null?b:c("oz-player/shims/OzMaybeNativePromise").resolve()};e.$OzMediaStream47=function(a){var b=this;if(this.$OzMediaStream1.getBool("append_retry_quota_exceeded_error")&&a instanceof c("oz-player/utils/OzError")&&a.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.emit("streamErrorRetry",new(c("oz-player/utils/OzError"))({type:a.getType(),description:a.getDescription(),extra:babelHelpers["extends"]({},a.getExtra(),{mimeType:this.$OzMediaStream22})}));this.$OzMediaStream27.handleEvent("append_quota_exceeded");var d=this.$OzMediaStream64();d.then(function(){b.restartLoopBody()})["catch"](function(a){a=new(c("oz-player/utils/OzError"))({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:a.name+": "+a.message,extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});b.$OzMediaStream34.emitError(a)})}else this.$OzMediaStream1.getBool("fallback_on_append_error")&&a instanceof c("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&this.$OzMediaStream34.emitError(a)};e.$OzMediaStream56=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range"));return d};e.getIsAdaptationEnabled=function(){return this.$OzMediaStream30};e.enableAdaptation=function(){this.$OzMediaStream30=!0};e.disableAdaptation=function(){this.$OzMediaStream30=!1};e.cleanup=function(){var a=this.$OzMediaStream1.getBool("stop_loop_driver_immediately_on_cleanup");a&&this.$OzMediaStream24.stop();this.$OzMediaStream5.then(function(a){a.destroy()});this.$OzMediaStream31.destroy();this.$OzMediaStream17.release();this.$OzMediaStream17.engage();this.removeAllListeners();this.$OzMediaStream20&&(this.$OzMediaStream20.remove(),this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")&&(this.$OzMediaStream20=null));a||this.$OzMediaStream24.stop()};e.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream26.get(a);if(!b){var c=this.$OzMediaStream8.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream7.getDuration()+d&&(b=this.$OzMediaStream26.get(c.endTime-d))}return b?b.id:null};e.endStream=function(){this.$OzMediaStream14.notifyMediaStreamEnded(this),this.$OzMediaStream65()};e.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream8.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream6){var b=this.$OzMediaStream6.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<i&&this.endStream())}}};e.$OzMediaStream57=function(a,b){return{type:this.$OzMediaStream22.indexOf("audio")===0?j.AUDIO:this.$OzMediaStream22.indexOf("video")===0?j.VIDEO:j.CAPTION,segment:a,sourceBuffer:this.$OzMediaStream6?this.$OzMediaStream6.getDebug().SourceBuffer:null,timeRange:b}};e.restartLoopBody=function(){this.$OzMediaStream9=null,this.$OzMediaStream32=!1,this.$OzMediaStream13&&this.$OzMediaStream13.cancel(),this.$OzMediaStream23!==0&&this.$OzMediaStream25&&this.$OzMediaStream25.resolve()};e.$OzMediaStream65=function(){if(this.$OzMediaStream6){var a=this.$OzMediaStream6.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream33=a[a.length-1].endTime)}};e.$OzMediaStream51=function(){return this.$OzMediaStream33!==null};e.$OzMediaStream43=function(a){this.$OzMediaStream8.getID()===a&&this.$OzMediaStream16!=null&&this.$OzMediaStream45(this.$OzMediaStream16.getBestRepresentation())};e.setEnableLiveheadCatchup=function(a){this.$OzMediaStream36=a};e.clearSourceBufferRange=function(a,b){var d=this.$OzMediaStream6;return d?d.clearRangeWithWait(a,b):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream6,MediaStreamAbrManager:this.$OzMediaStream16}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(h.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}g["default"]=a}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzClientClock","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzAudioIBRManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBlockedRepresentationsManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferEndLimitStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a||c("oz-player/shims/ozvariant")(0,21876);return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this)||this;e.$Player5=new Map();e.$Player6=new Map();e.$Player10=void 0;e.$Player11=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$Player12=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player26=[];e.$Player33=null;e.$Player34=null;e.$Player43=null;e.$Player51=!1;e.$Player54=0;e.$Player55=null;e.$Player56=null;e.$Player57=0;e.$Player58=null;e.$Player59=null;e.$Player60=!1;e.$Player63=null;e.$Player79=function(){var a=new(c("oz-player/parsers/OzXmlParserImplDOMParser"))();return a};e.$Player81=function(){e.$Player5.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};e.$Player82=function(){e.$Player5.forEach(function(a){return a.endStream()})};var f=b.audioOnly;f=f===void 0?!1:f;var g=b.bufferingDetector,h=b.videoNodeOrQuickStarter,i=b.config,j=b.configMap,k=b.rawMpdXml,l=b.mpdUrl;l=l===void 0?null:l;var m=b.loggerConfig;m=m===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:m;var n=b.customVTTBufferTargetStrategies;n=n===void 0?null:n;var o=b.prefetchCache;o=o===void 0?null:o;var p=b.getOverrideOzRequestImplementation;p=p===void 0?null:p;var q=b.networkRequestStreamHandlers,r=b.networkRequestStreamRetryHandler,s=b.getShouldIncludeCredentials;s=s===void 0?null:s;var t=b.getCustomRequestParametersForURI;t=t===void 0?null:t;var u=b.initialRepresentationIDs;u=u===void 0?[]:u;var v=b.debugCreateInitiator;v=v===void 0?null:v;var w=b.customParsers;w=w===void 0?new Map():w;var x=b.videoPlaybackRestrictions;x=x===void 0?[]:x;var y=b.customSegmentTimelineParser;y=y===void 0?null:y;var z=b.customRepresentationParsers;z=z===void 0?{}:z;var A=b.videoAbrManagerFactory;A=A===void 0?null:A;var B=b.seekHandler;B=B===void 0?null:B;var C=b.initialPlaybackPositionForDynamicMpd;C=C===void 0?-20:C;var D=b.liveheadFallBehindBlockThreshold;D=D===void 0?30:D;var E=b.liveheadFallBehindBlockMargin;E=E===void 0?5.9:E;var F=b.startTimeStamp;F=F===void 0?0:F;var G=b.drmProviders;G=G===void 0?[]:G;var H=b.getVideoDimensions;H=H===void 0?null:H;var I=b.setCustomFetchStreamLoggingAttributes;I=I===void 0?null:I;var J=b.bufferEndLimit;J=J===void 0?null:J;b=b.configureCustomRequestParametersForSegment;b=b===void 0?null:b;e.$Player1=n;e.$Player49=v;n=m.perfLoggerProviders;v=m.observedOperationLoggers;m=m.isOzDevConsoleEnabled;e.$Player17=m||!1;e.$Player16=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)(e.$Player69().concat(n));e.$Player2=f;e.$Player4=(m=i)!=null?m:new(c("oz-player/configs/OzPlayerConfig"))((n=j)!=null?n:{});e.$Player70();e.$Player23=new(c("oz-player/loggings/OzOperationLoggerObserver"))();e.$Player23.observe(v,e.$Player16);e.$Player25=o;e.$Player53=p;f=o&&o.getCachedRepresentations();e.$Player26=f||u;e.$Player29=w;e.$Player67=new(c("oz-player/strategies/OzBlockedRepresentationsManager"))(e.$Player4);e.$Player11.addSubscriptions(e.$Player67.onRepresentationBlocked(function(a){e.emit("representationBlocked",a)}));e.$Player32=[e.$Player67,new(c("oz-player/strategies/OzSupportedMimeCodecsRestriction"))()].concat(x);e.$Player30=z;e.$Player31=y;e.$Player36=A;e.$Player37=B;e.$Player38=F;e.$Player39=C;e.$Player40=D;e.$Player42=E;e.$Player66=J;e.$Player47=G;e.$Player63=I;h instanceof HTMLVideoElement?(e.$Player3=h,e.$Player7=new(c("oz-player/media_source/MediaSourceManager"))(e.$Player3,e.$Player4,e.$Player16,function(a){e.emit("vttCaptionsUpdated",a)})):(e.$Player3=h.getVideoNode(),e.$Player7=h.getMediaSourceManager(),e.$Player8=h);e.$Player7.setOnClearVideoNodeError(function(){e.$Player71()});e.$Player7.setOnRetryVideoElementError(function(a){e.emit("videoNodeErrorRetry",a)});e.$Player7.onError(function(a){e.$Player12.emitError(a)});e.$Player64=new(c("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(e.$Player3,e.$Player4,e.$Player5,e.$Player16);e.$Player64.maybeOverwriteVideoCurrentTimeProperty();e.$Player11.addSubscriptions(e.$Player64.onError(e.$Player12.emitError));e.$Player4.getBool("enable_dvl")&&(e.$Player65=new(c("oz-player/manifests/OzDynamicVideoLibrary"))({config:e.$Player4}));e.$Player44=q;e.$Player45=s;e.$Player46=t;e.$Player68=b;e.$Player13=new(c("oz-player/networks/OzNetworkManager"))({config:e.$Player4,prefetchCache:e.$Player25,networkRequestStreamHandlers:e.$Player44,getOverrideOzRequestImplementation:e.$Player53,getShouldIncludeCredentials:e.$Player45,getCustomRequestParametersForURI:e.$Player46,networkRequestStreamRetryHandler:r,setCustomFetchStreamLoggingAttributes:e.$Player63,dynamicVideoLibrary:e.$Player65,configureCustomRequestParametersForSegment:e.$Player68});e.$Player18=l;e.$Player4.getBool("treat_inline_mpd_xml_empty_string_as_null")?e.$Player9=k!=null&&k!==""?k:null:e.$Player9=k;e.$Player14=new(c("oz-player/states/OzObservedPlaybackState"))(e.$Player4,e.$Player3,e.$Player16);e.$Player52=H;e.$Player15=new(c("oz-player/streams/OzEndOfStreamWatcher"))(e.$Player7,e.$Player4);e.$Player11.addSubscriptions(e.$Player15.addListener("streamEnd",function(){e.$Player51=!0,e.emit("streamEnd")}));e.$Player24=new(c("oz-player/media_source/OzMediaSeekableRangeManager"))(e.$Player7,e.$Player4);if(e.$Player4.getBool("accept_external_buffering_detector")){e.$Player50=(i=g)!=null?i:e.$Player72()}else e.$Player8==null&&(e.$Player50=e.$Player72());e.$Player4.getNumber("pixels_below_viewport_to_observe")>0&&(e.$Player61=new(c("oz-player/states/OzPositionToViewport"))(e.$Player3,e.$Player4));return e}var f=e.prototype;f.$Player73=function(a){var b=this;this.$Player74();this.$Player8&&this.$Player11.addSubscriptions(this.$Player8.onError(this.$Player12.emitError));try{var e=d("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player16.cloneContext().setInitiator(this.$Player49),"parse_manifest",function(e){var c=b.$Player75(a);if(b.$Player4.getBool("log_extra_events")){var f,g;f=String((f=c.getCustomField("currentServerTimeMs"))!=null?f:"");g=String((g=c.getCustomField("lastVideoFrameTs"))!=null?g:"");f={currentServerTimeMs:f,ingestLastVideoFrameTs:g,nowMs:String(Date.now())};g=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(c,b.$Player4);g=g&&g.endTime!=0?g.endTime:null;e.setLiveheadPosition(g).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(c)).setManifestType(c.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(c.getCustomField("isLiveTemplated"))).setUserInfo(f)}return c});this.$Player76(e)}catch(a){e=a;if(e instanceof c("oz-player/utils/OzError"))this.$Player12.emitError(e);else throw e}};f.$Player76=function(a){var b=this;this.$Player10=h(a);this.$Player4.getBool("player_emit_mpdparsed_early")&&this.emit("mpdParsed",a);this.$Player27=this.$Player77();this.$Player28=this.$Player78();this.$Player67.setAvailableRepresentationsCount(a.getVideoRepresentations().length);if(this.$Player18!==null&&this.$Player18!==void 0){var d=new(c("oz-player/parsers/OzMpdUpdater"))(this.$Player4,a,this.$Player13,this.$Player14,this.$Player16,{mpdUrl:null,createXmlParser:this.$Player79,customParsers:this.$Player29,customRepresentationParsers:this.$Player30,customSegmentTimelineParser:this.$Player31},this.$Player48);this.$Player80(d);this.$Player11.addSubscriptions(d.onError(this.$Player12.emitError),d.addListener("manifestFetchError",function(a){return b.emit("manifestFetchError",a)}),d.addListener("manifestFetchErrorRetry",function(a){return b.emit("manifestFetchErrorRetry",a)}),d.addListener("streamTransitionToStatic",this.$Player81),d.addListener("streamGone",this.$Player82));d.setupUpdateLoop();this.$Player22=d}this.$Player4.getBool("use_live_latency_manager")?!a.isStaticMpd()?(this.$Player41=new(c("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player4,mpd:a,playbackState:this.$Player14,bufferingDetector:this.$Player50,video:this.$Player3,loggerProvider:this.$Player16}),this.$Player38=this.$Player41.getPreferredLiveHeadLatencySec()*-1):this.$Player38=this.$Player38:this.$Player38=a.isStaticMpd()?this.$Player38:this.$Player83(a);this.$Player19=new(c("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player3,mpd:a,dynamicVideoLibrary:this.$Player65,playheadCatchup:this.$Player35,playbackState:this.$Player14,config:this.$Player4,perfLoggerProvider:this.$Player16,seekHandler:this.$Player37,initialPlaybackPosition:this.$Player38,canSupportSkipVideobufferGaps:this.$Player64.getCurrentTimePropertyOverwriteSuccess(),liveLatencyManager:this.$Player41});this.$Player20=new(c("oz-player/playback_controls/OzPlayheadNudger"))({config:this.$Player4,video:this.$Player3,perfLoggerProvider:this.$Player16});this.$Player21=new(c("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player4,video:this.$Player3,mpd:a,liveheadFallBehindBlockThreshold:this.$Player40,liveheadFallBehindBlockMargin:this.$Player42,playbackState:this.$Player14,perfLoggerProvider:this.$Player16});this.$Player84()["catch"](function(a){if(a instanceof c("oz-player/utils/OzError"))b.$Player12.emitError(a);else{var d=typeof a==="object"&&a!=null&&a.message!=null&&a.message!==""?String(a.message):String(a);b.$Player12.emitError(new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+d,extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))}});this.emit("mpdReady",a)};f.load=function(a){var b=this;this.$Player18=a;try{var d=this.$Player9;d!=null?this.$Player73(d):a!=null?this.$Player85(a).then(function(a){if(b.$Player60){b.$Player60=!1;b.load(b.$Player18);return}b.$Player9=a;b.$Player54=0;b.$Player73(a)})["catch"](function(d){var e;if(b.$Player60){b.$Player60=!1;b.load(b.$Player18);return}e=d instanceof c("oz-player/utils/OzError")?d:new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Unknown mpd url load failure; errorMessage: "+d.message+"; errorDescription: "+((e=d.description)!=null?e:"")+";",extra:{originalError:d,url:a}});b.$Player86(e,a)}):this.$Player12.emitError(new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){d=a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to call load"+("; errorMessage: "+a.message+"; errorDescription: "+((d=a.description)!=null?d:"")+";")});this.$Player12.emitError(d)}};f.$Player83=function(a){var b;b=(b=a.getVideoRepresentations()[0].getMaxGopSec())!=null?b:0;if(this.$Player4.getBool("use_ending_duration_for_gop_multiplier")){a=(a=a.getVideoRepresentations()[0].getEndingSegment())==null?void 0:a.getTimeRange();a=a!=null?a.endTime-a.startTime:0;a>0&&(b=a)}return Math.min(this.$Player39+this.$Player4.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*b*this.$Player4.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))};f.$Player85=function(a){this.$Player54++;a=this.$Player13.requestRawUrl(a,null,this.$Player16);a=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};f.$Player87=function(){this.$Player55!=null&&(c("oz-player/shims/ozClearTimeout")(this.$Player55),this.$Player55=null)};f.$Player86=function(a,b){var d=this,e=!0,f=this.$Player54-1,g=a.getExtra().code;this.$Player56!==g?(this.$Player56=g,this.$Player57=1):this.$Player57++;var h=function(){e=!1};g={endStream:function(){throw new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot call endStream before stream is started"})},consecutiveFailuresForErrorCode:this.$Player57,error:a,isInitialRequest:!0,retry:function(a){h(),d.$Player87(),d.$Player55=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$Player87(),d.load(b)},(a==null?void 0:a.waitMs)!=null?a==null?void 0:a.waitMs:1e3)},retryAttemptCount:f};this.$Player4.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",g);e&&this.$Player12.emitError(a)};f.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl,c=a.audioStreamDataHandler,d=a.videoStreamDataHandler;a=a.applicationStreamDataHandler;if(d!==void 0){var e=this.$Player5.get("video");e&&e.updateRunTimeConfigs({streamDataHandler:d})}if(c!==void 0){e=this.$Player5.get("audio");e&&e.updateRunTimeConfigs({streamDataHandler:c})}if(a!==void 0){d=this.$Player5.get("caption");d&&d.updateRunTimeConfigs({streamDataHandler:a})}b!=null&&b!==""&&this.$Player88(b)};f.$Player89=function(a,b){var c=this,e=a.getMimeCodecs(),f,g=0,h=null,i=this.$Player8;i&&(f=i.getSourceBufferManagerPromise(e),g=i.getPrependedSegmentsCount(e),this.$Player4.getBool("fix_quick_starter_overhead")&&(h=i.getRepresentationId(e)));f||(f=this.$Player7.createSourceBufferManager(e,this.$Player4.getBool("set_source_buffer_append_window_end")));this.$Player90(f,b,h,a,g);i=f.then(function(a){c.$Player50&&b!=="caption"&&c.$Player50.setSourceBufferState(b,a.getSourceBufferState());return a});return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$Player16,"source_attach",function(a){a.setType(b)}).then(function(a){b!=="caption"&&c.$Player19.observeSourceBufferState(a.getSourceBufferState(),b)})};f.isDrm=function(){var a=this.$Player48;if(a!==null&&a!==void 0){a=a.hasContentProtections();return a!=null?a:!1}return!1};f.$Player74=function(){if(this.$Player47.length>0){var a=this.$Player48=new(d("oz-player/drm/OzDrmManager").OzDrmManager)(this.$Player16,this.$Player3,{maxStartEMEAttempts:this.$Player4.getNumber("max_start_eme_attempts"),throwNoLicenseError:this.$Player4.getBool("throw_no_license_error")});a.onError(this.$Player12.emitError);this.$Player47&&this.$Player47.forEach(a.addProvider,a);this.$Player30.drmProtections&&this.$Player12.emitError(new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'}));this.$Player30.drmProtections=function(b){return a.parseContentProtectionForRepresentation(b)}}};f.$Player91=function(a){var b=this,d=h(this.$Player10);a=[this.$Player4,a,d.getVideoRepresentations(),this.$Player32,this.$Player14,window.devicePixelRatio||1,function(){return b.$Player92()},d.isStaticMpd()?"static":"dynamic"];d=this.$Player36&&this.$Player36.apply(this,a);return(d=d)!=null?d:babelHelpers.construct(c("oz-player/strategies/OzAbrManager"),a)};f.$Player90=function(a,b,e,f,g){var i=this,j=h(this.$Player10),k=this.$Player6.get(b),l=new(c("oz-player/streams/OzMediaStream"))({config:this.$Player4,sourceBufferManagerPromise:a,prependedSegmentsCount:g,networkManager:this.$Player13,playbackState:this.$Player14,endOfStreamWatcher:this.$Player15,bufferTargetCalculator:this.$Player93(b),priorityCalculator:this.$Player94(),streamSegmentsCountCalculator:this.$Player95(b),abrManager:k,loadedRepresentationId:e,representation:f,loggerProvider:this.$Player16.cloneContext().setType(b),segmentLocator:this.$Player62,setCustomFetchStreamLoggingAttributes:this.$Player63,blockedRepresentationsManager:this.$Player67});this.$Player38===0?l.start():this.$Player11.addSubscriptions(this.$Player19.addListener("initialPlaybackPositionSet",function(){i.$Player14.forceUpdateCurrentTime(),l.start()}));this.$Player11.addSubscriptions(l.onError(this.$Player12.emitError),this.$Player24.listenToMediaStreamInitAppended(l));b==="video"&&(this.$Player34=new(c("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player4,this.$Player14,d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player4,this.$Player32,this.$Player92(),j.getVideoRepresentations()),l,a),this.$Player11.addSubscriptions(this.$Player34.onError(this.$Player12.emitError)));this.$Player5.set(b,l);this.$Player11.addSubscriptions(l.addListener("switchRepresentation",function(){if(i.$Player4.getBool("update_live_video_config_on_representation_switch")){var a=l.getCurrentRepresentation();i.$Player4.getBool("fix_setup_video_duration_on_representation_switch")||i.$Player96(a);i.$Player24.setTimeRangeProvider(a);i.$Player19.setTimeRangeProvider(a);i.$Player21!=null&&i.$Player21.setTimeRangeProvider(a)}b==="video"&&i.emit("switchVideoRepresentation")}),l.addListener("SegmentAppended",function(a){i.$Player97("SegmentAppended",a)}),l.addListener("streamError",function(a){i.emit("streamError",a)}),l.addListener("streamErrorRetry",function(a){i.emit("streamErrorRetry",a)}))};f.$Player98=function(){if(this.$Player66!=null)return[new(c("oz-player/strategies/OzBufferEndLimitStrategy"))(this.$Player3,this.$Player66)];else return[new(c("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(h(this.$Player10),this.$Player4),new(c("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player14,this.$Player4),new(c("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player4)]};f.$Player99=function(){return this.$Player66==null&&this.$Player4.getBool("append_retry_quota_exceeded_error")?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player4,minimumBufferTargetSec:this.$Player4.getNumber("buffer_target_constraint_minimum_sec")})]:[]};f.$Player100=function(){return this.$Player66==null&&this.$Player4.getBool("append_retry_quota_exceeded_error")?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player4,minimumBufferTargetSec:0})]:[]};f.$Player77=function(){return new(c("oz-player/strategies/OzBufferTargetCalculator"))(this.$Player98(),this.$Player99())};f.$Player78=function(){return this.$Player1!=null?new(c("oz-player/strategies/OzBufferTargetCalculator"))([].concat(this.$Player1,this.$Player98()),this.$Player100()):this.$Player77()};f.$Player93=function(a){return a==="caption"?this.$Player28:this.$Player27};f.$Player80=function(a){var b=this;if(this.$Player4.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=this.$Player4.getBool("use_buffering_detector_for_playhead_interruption")?this.$Player50:null,e=new(c("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player3,d);this.$Player11.addSubscriptions(e.addListener("playheadAtInterruption",function(a){b.$Player16.getOperationLogger("stream_interrupted").log(),b.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){var c;(c=b.$Player50)==null?void 0:c.notifyStreamInterrupted();e.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){var c;b.$Player4.getBool("restart_media_streams_on_stream_resumed")&&b.$Player5.forEach(function(a){a.restartLoopBody()});b.$Player16.getOperationLogger("stream_resumed").log();(c=b.$Player50)==null?void 0:c.notifyStreamResumed();e.notifyStreamResumed();b.emit("streamResumedAt",a)}));this.$Player33=e}};f.$Player94=function(){var a=[new(c("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player14),new(c("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player4,this.$Player14)].concat(this.$Player4.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player61!=null?new(c("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player61,this.$Player4):[]);return new(c("oz-player/strategies/OzPriorityCalculator"))(a)};f.$Player95=function(a){var b=[new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player4),new(c("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player93(a),this.$Player4)];this.$Player4.getNumber("paused_stream_segments_count")!==0&&b.push(new(c("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player14,this.$Player4));if(a==="video"){a=h(this.$Player10);b.push(new(c("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player4,a.getVideoRepresentations()))}return new(c("oz-player/strategies/OzStreamSegmentsCountCalculator"))(b)};f.onError=function(a){return this.$Player12.onError(a)};f.getSelectedVideoQuality=function(){var a=this.$Player10;if(!a)return"";var b=this.$Player5.get("video");b=b&&b.getCurrentRepresentation();if(b instanceof c("oz-player/manifests/OzVideoRepresentation"))return b.getQualityLabel();b=a.getVideoRepresentations();a=b[0];if(a)return a.getQualityLabel();a||c("oz-player/shims/ozvariant")(0,19857);return""};f.switchToVideoQuality=function(a){var b=h(this.$Player10);b=b.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player5.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};f.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player5.get("video");return a?a.getIsAdaptationEnabled():!1};f.enableVideoQualityAdaptation=function(){var a=this.$Player5.get("video");a&&a.enableAdaptation()};f.getVideoQualities=function(){var a=this,b=this.$Player10;return!b?[]:b.getVideoRepresentations().filter(function(b){var c;return!((c=a.$Player67)==null?void 0:c.isBlocked(b.getID()))}).map(function(a){return a.getQualityLabel()})};f.setEnableLiveheadCatchup=function(a){this.$Player21&&(a?this.$Player16.getOperationLogger("live_catchup_enabled").setIsLatencyCachupEnabled(!0).log():this.$Player16.getOperationLogger("live_catchup_disabled").setIsLatencyCachupEnabled(!1).log(),this.$Player21.setTimelineBlockingEnabled(a)),this.$Player5.forEach(function(b){b.setEnableLiveheadCatchup(a)}),this.$Player19.setEnableLiveheadCatchup(a)};f.$Player84=function(){var a=this,c=h(this.$Player10);c=c.getVideoRepresentations()[0];this.$Player62=c&&c.canPredict()&&this.$Player4.getBool("pdash_use_pdash_segmentlocator")||c&&c.canApproximateId()?new(d("oz-player/streams/OzPredictedSegmentLocator").OzPredictedSegmentLocator)({videoNode:this.$Player3,liveLatencyManager:this.$Player41,loggerProvider:this.$Player16,dynamicVideoLibrary:this.$Player65}):null;c=this.$Player2?[this.$Player101({liveConfigsFromAudioStream:!0}),this.$Player102()]:[this.$Player103(),this.$Player101({}),this.$Player102()];var e=[];return b("Promise").all(c).then(function(){var b=a.$Player5.get("video"),c=a.$Player5.get("audio"),d=a.$Player5.get("caption");b&&e.push(b.getCurrentRepresentation());c&&e.push(c.getCurrentRepresentation());d&&e.push(d.getCurrentRepresentation());e.forEach(function(b){a.$Player11.addSubscriptions(b.addUpdateListener(function(){a.$Player97("SegmentIndexesUpdated",e)}))});a.$Player97("InitialSegmentIndexes",e);a.$Player3&&a.$Player3.style&&(a.$Player3.style.display=a.$Player2?"none":"block")})};f.$Player96=function(a){if(a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player7.updateDuration(a)}else this.$Player4.getBool("log_extra_events")&&this.$Player16.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log()};f.$Player104=function(a){this.$Player96(a),this.$Player24.setTimeRangeProvider(a),this.$Player19.setTimeRangeProvider(a),this.$Player21!=null&&this.$Player21.setTimeRangeProvider(a)};f.$Player103=function(){var a=h(this.$Player10);a=a.getVideoRepresentations();if(this.$Player4.getBool("no_representation_error_detailed_message")&&!a.length)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("no video representations in the manifest."));var b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player4,this.$Player32,this.$Player92(),a,this.$Player4.getBool("respect_initial_representation_on_setup")?this.$Player26:null);if(!b.length)if(this.$Player4.getBool("no_representation_error_detailed_message")){a=a.map(function(a){return a.getQualityLabel()+"@"+a.getWidth()+"x"+a.getHeight()+"("+a.getMimeCodecs()+")"});return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("restricted all video representations: "+a.join(", ")))}else return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player104(b[0]);a=this.$Player105(b);if(this.$Player4.getBool("enable_adaptation")){var e=this.$Player91(a||b[0]);this.$Player6.set("video",e);this.$Player4.getBool("use_abr_for_missing_default_representation")&&!a&&(a=e.getBestRepresentation())}return this.$Player89(a||b[0],"video")};f.$Player101=function(a){a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var b=h(this.$Player10);b=b.getAudioRepresentations();a&&this.$Player104(b[0]);return b.length?this.$Player89(this.$Player106(b)||b[0],"audio"):c("oz-player/shims/OzMaybeNativePromise").resolve()};f.$Player102=function(){var a=h(this.$Player10);a=a.getApplicationRepresentations();return a.length?this.$Player89(this.$Player107(a)||a[0],"caption"):c("oz-player/shims/OzMaybeNativePromise").resolve()};f.getMpd=function(){return this.$Player10};f.destroy=function(a){var c=this;a=this.$Player16.getOperationLogger("unload").setInitiator(a).start();this.$Player64.destroy();this.$Player87();this.$Player5.forEach(function(a){a.cleanup()});this.$Player34&&this.$Player34.cleanup();this.$Player5=new Map();this.$Player11.release();this.$Player11.engage();this.$Player14.destroy();this.$Player19&&this.$Player19.destroy();this.$Player41&&(this.$Player41.destroy(),this.$Player41=null);this.$Player20&&(this.$Player20.destroy(),this.$Player20=null);this.$Player21&&(this.$Player21.destroy(),this.$Player21=null);this.$Player48&&this.$Player48.destroy();this.$Player61&&this.$Player61.destroy();this.$Player13&&this.$Player13.destroy();this.$Player52&&(this.$Player52=null);this.$Player4.getBool("detach_media_source_manager")&&this.$Player7&&this.$Player7.detach();var d=b("Promise").resolve();this.$Player4.getBool("cleanup_video_node_on_destroy")&&(this.$Player3.pause(),this.$Player4.getBool("remove_src_attr_on_unload")?this.$Player3.removeAttribute("src"):this.$Player3.src="","function"===typeof this.$Player3.setMediaKeys&&(d=this.$Player3.setMediaKeys(null)));this.$Player22&&this.$Player22.destroy();this.$Player33&&this.$Player33.destroy();this.$Player23.destroy();this.$Player24.destroy();this.$Player50&&this.$Player50.destroy();this.$Player67&&this.$Player67.destroy();a.log();this.$Player4.getBool("emit_destroyed_after_media_keys_clear")||this.emit("destroyed");a=[d];return b("Promise").all(a).then(function(){c.$Player4.getBool("load_video_node_on_unload")&&(c.$Player3.load(),c.$Player4.getBool("emit_destroyed_after_media_keys_clear")&&c.emit("destroyed"))})};f.$Player105=function(a){var b=this,d;d=a.find(function(a){return b.$Player26.indexOf(a.getID())!==-1});if(!d&&this.$Player8&&this.$Player4.getBool("fix_quick_starter_overhead")){var e=this.$Player8.getRepresentationId("video");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=c("oz-player/utils/getRepresentationInCache")(a,this.$Player25));return d||null};f.$Player106=function(a){var b=this,d=h(this.$Player10),e;e=a.find(function(a){return b.$Player26.indexOf(a.getID())!==-1});if(!e&&this.$Player8&&this.$Player4.getBool("fix_quick_starter_overhead")){var f=this.$Player8.getRepresentationId("audio");f!==null&&f!==void 0&&(e=a.find(function(a){return a.getID()===f}))}e||(e=c("oz-player/utils/getRepresentationInCache")(a,this.$Player25));if(!e&&!d.isStaticMpd()&&a.length>1&&this.$Player4.getBool("live_audio_ibr")){d=new(c("oz-player/strategies/OzAudioIBRManager"))(this.$Player4,this.$Player16);e=d.getInitialAudioRepresentation(a)}return e||null};f.$Player107=function(a){return null};f.$Player75=function(a){var b=new(c("oz-player/parsers/OzMpdParser"))(this.$Player4,{mpdUrl:this.$Player18,createXmlParser:this.$Player79,customParsers:this.$Player29,customRepresentationParsers:this.$Player30,customSegmentTimelineParser:this.$Player31},this.$Player13,this.$Player16,this.$Player48,this.$Player26,this.$Player67);this.$Player11.addSubscriptions(b.onError(this.$Player12.emitError));return b.parse(a)};f.$Player69=function(){var a=[];this.$Player17&&a.push(new(d("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider)());return a};f.$Player108=function(a,b){b=this.$Player5.get(b);return b?b.getRepresentationIDAtTime(a):null};f.getAudioRepresentationIDAtTime=function(a){return this.$Player108(a,"audio")};f.getVideoRepresentationIDAtTime=function(a){return this.$Player108(a,"video")};f.getCurrentVideoRepresentation=function(){return this.$Player109("video")};f.getCurrentAudioRepresentation=function(){return this.$Player109("audio")};f.$Player109=function(a){var b=this.$Player108(this.$Player14.getCurrentTime(),a),c=this.$Player10;if(!c)return null;var d=[];a==="audio"?d=c.getAudioRepresentations():a==="video"&&(d=c.getVideoRepresentations());return(a=d.find(function(a){return a.getID()===b}))!=null?a:null};f.getSelectedVideoRepresentation=function(){var a=this.$Player5.get("video");return a!=null?a.getCurrentRepresentation():null};f.getSelectedAudioRepresentation=function(){var a=this.$Player5.get("audio");return a!=null?a.getCurrentRepresentation():null};f.getDebug=function(){var a=this,b=this.$Player5.get("video"),c=this.$Player5.get("audio"),d=this.$Player5.get("caption"),e,f,g,i,j,k,l;b&&(e=b.getDebug().MediaStreamAbrManager,f=b.getDebug().SourceBufferManager,f&&(g=f.getDebug().SourceBuffer));c&&(i=c.getDebug().SourceBufferManager,i&&(j=i.getDebug().SourceBuffer));d&&(k=d.getDebug().SourceBufferManager,k&&(l=k.getDebug().SourceBuffer));return{getManifest:function(){return h(a.$Player10)},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:e,VideoBufferManager:f,VideoSourceBuffer:g,AudioSourceStream:c,AudioBufferManager:i,AudioSourceBuffer:j,CaptionSourceStream:d,CaptionBufferManager:k,CaptionSourceBuffer:l}};f.injectExternalDebugEvent=function(a,b){this.$Player97(a,b)};f.$Player97=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};f.$Player70=function(){this.$Player4.getBool("live_playhead_catch_up")&&(this.$Player35=new(c("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player4))};f.$Player72=function(){var a=this,b=new(c("oz-player/strategies/OzBufferingDetector"))(this.$Player3,this.$Player4.getLegacyConfig(),function(){return a.$Player51?a.$Player3.duration:Infinity});b.attachPerfLoggerProvider(this.$Player16);this.$Player11.addSubscriptions(b.addListener("enterBuffering",function(b){a.emit("enterBuffering",b)}),b.addListener("leaveBuffering",function(){a.emit("leaveBuffering")}));return b};f.$Player92=function(){var a=this.$Player52?this.$Player52():{width:this.$Player3.offsetWidth,height:this.$Player3.offsetHeight};return a};f.getMpdUrl=function(){return this.$Player18};f.$Player88=function(a){var b=this;this.$Player18=a;var c=this.$Player10;if(!c){this.$Player60=!0;return}else{c.updateLocation(a);this.$Player43&&(this.$Player11.releaseOne(this.$Player43),this.$Player43=null);a=function(){b.$Player43&&(b.$Player11.releaseOne(b.$Player43),b.$Player43=null),b.$Player5.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getQualityLabel();e=(d==="video"?c.getVideoRepresentations():c.getAudioRepresentations()).slice();if(d==="video"){d=b.$Player6.get(d);d&&d.updateRepresentations(c.getVideoRepresentations())}d=e[0];e.forEach(function(a){var b=a.getQualityLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};this.$Player43=c.addListener("updated",a);this.$Player11.addSubscriptions(this.$Player43)}};f.getPerfLoggerProvider=function(){return this.$Player16};f.getApproximateFBLSToPlayerDisplayLatency=function(){var a,b;a=Number((a=(a=this.$Player10)==null?void 0:a.getCustomField("lastVideoFrameTs"))!=null?a:void 0);b=Number((b=(b=this.$Player10)==null?void 0:b.getCustomField("currentServerTimeMs"))!=null?b:void 0);var c=this.$Player110(a,b);a=this.$Player111(a,b);return{latencyFromClockSync:a,latencyFromMpdUpdate:c}};f.$Player110=function(a,b){if(!this.$Player14.getCurrentTime()||isNaN(a)||isNaN(b))return null;b=0;this.$Player58===a?b=(c("oz-player/shims/OzPerformance").now()-Number(this.$Player59))/1e3:(this.$Player59=c("oz-player/shims/OzPerformance").now(),this.$Player58=a);a=a/1e3+b-this.$Player14.getCurrentTime();return a};f.$Player111=function(a,b){var d;if(!this.$Player14.getCurrentTime()||isNaN(a)||isNaN(b)||c("oz-player/networks/OzClientClock").getClientClockOffsetMs()==null||!c("oz-player/networks/OzClientClock").getClientClockOffsetMs())return null;d=this.$Player14.getCurrentTimeUpdateTime()+((d=c("oz-player/networks/OzClientClock").getClientClockOffsetMs())!=null?d:0);b=b;var e=this.$Player14.getCurrentTime()*1e3;a=a;d=(d-b-(e-a))/1e3;return d};f.$Player71=function(){this.$Player5.forEach(function(a){a.restartLoopBody();var b=a.getCurrentRepresentation();a.switchRepresentation(b)})};return e}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/Player")}),98);
__d("OzDashPrefetchCache",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.hasCacheValue=function(a){return c("VideoDashPrefetchCache").hasCacheValue(a)};b.getCacheValue=function(a){return c("VideoDashPrefetchCache").getCacheValue(a)};b.getCachedRepresentations=function(){return null};return a}();g["default"]=a}),98);